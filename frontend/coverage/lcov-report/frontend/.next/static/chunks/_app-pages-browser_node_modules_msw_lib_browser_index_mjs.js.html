
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for frontend/.next/static/chunks/_app-pages-browser_node_modules_msw_lib_browser_index_mjs.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../index.html">All files</a> / <a href="index.html">frontend/.next/static/chunks</a> _app-pages-browser_node_modules_msw_lib_browser_index_mjs.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/252</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/252</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a>
<a name='L108'></a><a href='#L108'>108</a>
<a name='L109'></a><a href='#L109'>109</a>
<a name='L110'></a><a href='#L110'>110</a>
<a name='L111'></a><a href='#L111'>111</a>
<a name='L112'></a><a href='#L112'>112</a>
<a name='L113'></a><a href='#L113'>113</a>
<a name='L114'></a><a href='#L114'>114</a>
<a name='L115'></a><a href='#L115'>115</a>
<a name='L116'></a><a href='#L116'>116</a>
<a name='L117'></a><a href='#L117'>117</a>
<a name='L118'></a><a href='#L118'>118</a>
<a name='L119'></a><a href='#L119'>119</a>
<a name='L120'></a><a href='#L120'>120</a>
<a name='L121'></a><a href='#L121'>121</a>
<a name='L122'></a><a href='#L122'>122</a>
<a name='L123'></a><a href='#L123'>123</a>
<a name='L124'></a><a href='#L124'>124</a>
<a name='L125'></a><a href='#L125'>125</a>
<a name='L126'></a><a href='#L126'>126</a>
<a name='L127'></a><a href='#L127'>127</a>
<a name='L128'></a><a href='#L128'>128</a>
<a name='L129'></a><a href='#L129'>129</a>
<a name='L130'></a><a href='#L130'>130</a>
<a name='L131'></a><a href='#L131'>131</a>
<a name='L132'></a><a href='#L132'>132</a>
<a name='L133'></a><a href='#L133'>133</a>
<a name='L134'></a><a href='#L134'>134</a>
<a name='L135'></a><a href='#L135'>135</a>
<a name='L136'></a><a href='#L136'>136</a>
<a name='L137'></a><a href='#L137'>137</a>
<a name='L138'></a><a href='#L138'>138</a>
<a name='L139'></a><a href='#L139'>139</a>
<a name='L140'></a><a href='#L140'>140</a>
<a name='L141'></a><a href='#L141'>141</a>
<a name='L142'></a><a href='#L142'>142</a>
<a name='L143'></a><a href='#L143'>143</a>
<a name='L144'></a><a href='#L144'>144</a>
<a name='L145'></a><a href='#L145'>145</a>
<a name='L146'></a><a href='#L146'>146</a>
<a name='L147'></a><a href='#L147'>147</a>
<a name='L148'></a><a href='#L148'>148</a>
<a name='L149'></a><a href='#L149'>149</a>
<a name='L150'></a><a href='#L150'>150</a>
<a name='L151'></a><a href='#L151'>151</a>
<a name='L152'></a><a href='#L152'>152</a>
<a name='L153'></a><a href='#L153'>153</a>
<a name='L154'></a><a href='#L154'>154</a>
<a name='L155'></a><a href='#L155'>155</a>
<a name='L156'></a><a href='#L156'>156</a>
<a name='L157'></a><a href='#L157'>157</a>
<a name='L158'></a><a href='#L158'>158</a>
<a name='L159'></a><a href='#L159'>159</a>
<a name='L160'></a><a href='#L160'>160</a>
<a name='L161'></a><a href='#L161'>161</a>
<a name='L162'></a><a href='#L162'>162</a>
<a name='L163'></a><a href='#L163'>163</a>
<a name='L164'></a><a href='#L164'>164</a>
<a name='L165'></a><a href='#L165'>165</a>
<a name='L166'></a><a href='#L166'>166</a>
<a name='L167'></a><a href='#L167'>167</a>
<a name='L168'></a><a href='#L168'>168</a>
<a name='L169'></a><a href='#L169'>169</a>
<a name='L170'></a><a href='#L170'>170</a>
<a name='L171'></a><a href='#L171'>171</a>
<a name='L172'></a><a href='#L172'>172</a>
<a name='L173'></a><a href='#L173'>173</a>
<a name='L174'></a><a href='#L174'>174</a>
<a name='L175'></a><a href='#L175'>175</a>
<a name='L176'></a><a href='#L176'>176</a>
<a name='L177'></a><a href='#L177'>177</a>
<a name='L178'></a><a href='#L178'>178</a>
<a name='L179'></a><a href='#L179'>179</a>
<a name='L180'></a><a href='#L180'>180</a>
<a name='L181'></a><a href='#L181'>181</a>
<a name='L182'></a><a href='#L182'>182</a>
<a name='L183'></a><a href='#L183'>183</a>
<a name='L184'></a><a href='#L184'>184</a>
<a name='L185'></a><a href='#L185'>185</a>
<a name='L186'></a><a href='#L186'>186</a>
<a name='L187'></a><a href='#L187'>187</a>
<a name='L188'></a><a href='#L188'>188</a>
<a name='L189'></a><a href='#L189'>189</a>
<a name='L190'></a><a href='#L190'>190</a>
<a name='L191'></a><a href='#L191'>191</a>
<a name='L192'></a><a href='#L192'>192</a>
<a name='L193'></a><a href='#L193'>193</a>
<a name='L194'></a><a href='#L194'>194</a>
<a name='L195'></a><a href='#L195'>195</a>
<a name='L196'></a><a href='#L196'>196</a>
<a name='L197'></a><a href='#L197'>197</a>
<a name='L198'></a><a href='#L198'>198</a>
<a name='L199'></a><a href='#L199'>199</a>
<a name='L200'></a><a href='#L200'>200</a>
<a name='L201'></a><a href='#L201'>201</a>
<a name='L202'></a><a href='#L202'>202</a>
<a name='L203'></a><a href='#L203'>203</a>
<a name='L204'></a><a href='#L204'>204</a>
<a name='L205'></a><a href='#L205'>205</a>
<a name='L206'></a><a href='#L206'>206</a>
<a name='L207'></a><a href='#L207'>207</a>
<a name='L208'></a><a href='#L208'>208</a>
<a name='L209'></a><a href='#L209'>209</a>
<a name='L210'></a><a href='#L210'>210</a>
<a name='L211'></a><a href='#L211'>211</a>
<a name='L212'></a><a href='#L212'>212</a>
<a name='L213'></a><a href='#L213'>213</a>
<a name='L214'></a><a href='#L214'>214</a>
<a name='L215'></a><a href='#L215'>215</a>
<a name='L216'></a><a href='#L216'>216</a>
<a name='L217'></a><a href='#L217'>217</a>
<a name='L218'></a><a href='#L218'>218</a>
<a name='L219'></a><a href='#L219'>219</a>
<a name='L220'></a><a href='#L220'>220</a>
<a name='L221'></a><a href='#L221'>221</a>
<a name='L222'></a><a href='#L222'>222</a>
<a name='L223'></a><a href='#L223'>223</a>
<a name='L224'></a><a href='#L224'>224</a>
<a name='L225'></a><a href='#L225'>225</a>
<a name='L226'></a><a href='#L226'>226</a>
<a name='L227'></a><a href='#L227'>227</a>
<a name='L228'></a><a href='#L228'>228</a>
<a name='L229'></a><a href='#L229'>229</a>
<a name='L230'></a><a href='#L230'>230</a>
<a name='L231'></a><a href='#L231'>231</a>
<a name='L232'></a><a href='#L232'>232</a>
<a name='L233'></a><a href='#L233'>233</a>
<a name='L234'></a><a href='#L234'>234</a>
<a name='L235'></a><a href='#L235'>235</a>
<a name='L236'></a><a href='#L236'>236</a>
<a name='L237'></a><a href='#L237'>237</a>
<a name='L238'></a><a href='#L238'>238</a>
<a name='L239'></a><a href='#L239'>239</a>
<a name='L240'></a><a href='#L240'>240</a>
<a name='L241'></a><a href='#L241'>241</a>
<a name='L242'></a><a href='#L242'>242</a>
<a name='L243'></a><a href='#L243'>243</a>
<a name='L244'></a><a href='#L244'>244</a>
<a name='L245'></a><a href='#L245'>245</a>
<a name='L246'></a><a href='#L246'>246</a>
<a name='L247'></a><a href='#L247'>247</a>
<a name='L248'></a><a href='#L248'>248</a>
<a name='L249'></a><a href='#L249'>249</a>
<a name='L250'></a><a href='#L250'>250</a>
<a name='L251'></a><a href='#L251'>251</a>
<a name='L252'></a><a href='#L252'>252</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ><span class="branch-0 cbranch-no" title="branch not covered" >"use strict";</span></span></span>
<span class="cstat-no" title="statement not covered" >/*</span>
<span class="cstat-no" title="statement not covered" > * ATTENTION: An "eval-source-map" devtool has been used.</span>
<span class="cstat-no" title="statement not covered" > * This devtool is neither made for production nor for readable output files.</span>
<span class="cstat-no" title="statement not covered" > * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.</span>
<span class="cstat-no" title="statement not covered" > * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)</span>
<span class="cstat-no" title="statement not covered" > * or disable the default devtool with "devtool: false".</span>
<span class="cstat-no" title="statement not covered" > * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).</span>
<span class="cstat-no" title="statement not covered" > */</span>
<span class="cstat-no" title="statement not covered" >(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_msw_lib_browser_index_mjs"],{</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!*************************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \*************************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasConfigurableGlobal: () =&gt; (/* binding */ hasConfigurableGlobal)\n/* harmony export */ });\n// src/utils/hasConfigurableGlobal.ts\nfunction hasConfigurableGlobal(propertyName) {\n  const descriptor = Object.getOwnPropertyDescriptor(globalThis, propertyName);\n  if (typeof descriptor === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"function\" &amp;&amp; typeof descriptor.get() === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"undefined\" &amp;&amp; descriptor.value == null) {\n    return false;\n  }\n  if (typeof descriptor.set === \"undefined\" &amp;&amp; !descriptor.configurable) {\n    console.error(\n      `[MSW] Failed to apply interceptor: the global \\`${propertyName}\\` property is non-configurable. This is likely an issue with your environment. If you are using a framework, please open an issue about this in their repository.`\n    );\n    return false;\n  }\n  return true;\n}\n\n\n//# sourceMappingURL=chunk-TX5GBTFY.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2NodW5rLVRYNUdCVEZZLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxhQUFhO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hlY3RvcnplYS9kZXYvZnJvbnRidWlsZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9jaHVuay1UWDVHQlRGWS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2hhc0NvbmZpZ3VyYWJsZUdsb2JhbC50c1xuZnVuY3Rpb24gaGFzQ29uZmlndXJhYmxlR2xvYmFsKHByb3BlcnR5TmFtZSkge1xuICBjb25zdCBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihnbG9iYWxUaGlzLCBwcm9wZXJ0eU5hbWUpO1xuICBpZiAodHlwZW9mIGRlc2NyaXB0b3IgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmdldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBkZXNjcmlwdG9yLmdldCgpID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvci5nZXQgPT09IFwidW5kZWZpbmVkXCIgJiYgZGVzY3JpcHRvci52YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvci5zZXQgPT09IFwidW5kZWZpbmVkXCIgJiYgIWRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBbTVNXXSBGYWlsZWQgdG8gYXBwbHkgaW50ZXJjZXB0b3I6IHRoZSBnbG9iYWwgXFxgJHtwcm9wZXJ0eU5hbWV9XFxgIHByb3BlcnR5IGlzIG5vbi1jb25maWd1cmFibGUuIFRoaXMgaXMgbGlrZWx5IGFuIGlzc3VlIHdpdGggeW91ciBlbnZpcm9ubWVudC4gSWYgeW91IGFyZSB1c2luZyBhIGZyYW1ld29yaywgcGxlYXNlIG9wZW4gYW4gaXNzdWUgYWJvdXQgdGhpcyBpbiB0aGVpciByZXBvc2l0b3J5LmBcbiAgICApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IHtcbiAgaGFzQ29uZmlndXJhYmxlR2xvYmFsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstVFg1R0JURlkubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/@mswjs/interceptors/lib/browser/interceptors/WebSocket/index.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!***************************************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/@mswjs/interceptors/lib/browser/interceptors/WebSocket/index.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \***************************************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketClientConnection: () =&gt; (/* binding */ WebSocketClientConnection),\n/* harmony export */   WebSocketInterceptor: () =&gt; (/* binding */ WebSocketInterceptor),\n/* harmony export */   WebSocketServerConnection: () =&gt; (/* binding */ WebSocketServerConnection)\n/* harmony export */ });\n/* harmony import */ var _chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunk-TX5GBTFY.mjs */ \"(app-pages-browser)/./node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs\");\n/* harmony import */ var _chunk_QED3Q6Z2_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunk-QED3Q6Z2.mjs */ \"(app-pages-browser)/./node_modules/@mswjs/interceptors/lib/browser/chunk-QED3Q6Z2.mjs\");\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! outvariant */ \"(app-pages-browser)/./node_modules/outvariant/lib/index.mjs\");\n/* harmony import */ var _open_draft_deferred_promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @open-draft/deferred-promise */ \"(app-pages-browser)/./node_modules/@open-draft/deferred-promise/build/index.mjs\");\n\n\n\n// src/interceptors/WebSocket/utils/bindEvent.ts\nfunction bindEvent(target, event) {\n  Object.defineProperties(event, {\n    target: {\n      value: target,\n      enumerable: true,\n      writable: true\n    },\n    currentTarget: {\n      value: target,\n      enumerable: true,\n      writable: true\n    }\n  });\n  return event;\n}\n\n// src/interceptors/WebSocket/utils/events.ts\nvar kCancelable = Symbol(\"kCancelable\");\nvar kDefaultPrevented = Symbol(\"kDefaultPrevented\");\nvar CancelableMessageEvent = class extends MessageEvent {\n  constructor(type, init) {\n    super(type, init);\n    this[kCancelable] = !!init.cancelable;\n    this[kDefaultPrevented] = false;\n  }\n  get cancelable() {\n    return this[kCancelable];\n  }\n  set cancelable(nextCancelable) {\n    this[kCancelable] = nextCancelable;\n  }\n  get defaultPrevented() {\n    return this[kDefaultPrevented];\n  }\n  set defaultPrevented(nextDefaultPrevented) {\n    this[kDefaultPrevented] = nextDefaultPrevented;\n  }\n  preventDefault() {\n    if (this.cancelable &amp;&amp; !this[kDefaultPrevented]) {\n      this[kDefaultPrevented] = true;\n    }\n  }\n};\nkCancelable, kDefaultPrevented;\nvar CloseEvent = class extends Event {\n  constructor(type, init = {}) {\n    super(type, init);\n    this.code = init.code === void 0 ? 0 : init.code;\n    this.reason = init.reason === void 0 ? \"\" : init.reason;\n    this.wasClean = init.wasClean === void 0 ? false : init.wasClean;\n  }\n};\nvar CancelableCloseEvent = class extends CloseEvent {\n  constructor(type, init = {}) {\n    super(type, init);\n    this[kCancelable] = !!init.cancelable;\n    this[kDefaultPrevented] = false;\n  }\n  get cancelable() {\n    return this[kCancelable];\n  }\n  set cancelable(nextCancelable) {\n    this[kCancelable] = nextCancelable;\n  }\n  get defaultPrevented() {\n    return this[kDefaultPrevented];\n  }\n  set defaultPrevented(nextDefaultPrevented) {\n    this[kDefaultPrevented] = nextDefaultPrevented;\n  }\n  preventDefault() {\n    if (this.cancelable &amp;&amp; !this[kDefaultPrevented]) {\n      this[kDefaultPrevented] = true;\n    }\n  }\n};\nkCancelable, kDefaultPrevented;\n\n// src/interceptors/WebSocket/WebSocketClientConnection.ts\nvar kEmitter = Symbol(\"kEmitter\");\nvar kBoundListener = Symbol(\"kBoundListener\");\nvar WebSocketClientConnection = class {\n  constructor(socket, transport) {\n    this.socket = socket;\n    this.transport = transport;\n    this.id = (0,_chunk_QED3Q6Z2_mjs__WEBPACK_IMPORTED_MODULE_1__.createRequestId)();\n    this.url = new URL(socket.url);\n    this[kEmitter] = new EventTarget();\n    this.transport.addEventListener(\"outgoing\", (event) =&gt; {\n      const message = bindEvent(\n        this.socket,\n        new CancelableMessageEvent(\"message\", {\n          data: event.data,\n          origin: event.origin,\n          cancelable: true\n        })\n      );\n      this[kEmitter].dispatchEvent(message);\n      if (message.defaultPrevented) {\n        event.preventDefault();\n      }\n    });\n    this.transport.addEventListener(\"close\", (event) =&gt; {\n      this[kEmitter].dispatchEvent(\n        bindEvent(this.socket, new CloseEvent(\"close\", event))\n      );\n    });\n  }\n  /**\n   * Listen for the outgoing events from the connected WebSocket client.\n   */\n  addEventListener(type, listener, options) {\n    if (!Reflect.has(listener, kBoundListener)) {\n      const boundListener = listener.bind(this.socket);\n      Object.defineProperty(listener, kBoundListener, {\n        value: boundListener,\n        enumerable: false,\n        configurable: false\n      });\n    }\n    this[kEmitter].addEventListener(\n      type,\n      Reflect.get(listener, kBoundListener),\n      options\n    );\n  }\n  /**\n   * Removes the listener for the given event.\n   */\n  removeEventListener(event, listener, options) {\n    this[kEmitter].removeEventListener(\n      event,\n      Reflect.get(listener, kBoundListener),\n      options\n    );\n  }\n  /**\n   * Send data to the connected client.\n   */\n  send(data) {\n    this.transport.send(data);\n  }\n  /**\n   * Close the WebSocket connection.\n   * @param {number} code A status code (see https://www.rfc-editor.org/rfc/rfc6455#section-7.4.1).\n   * @param {string} reason A custom connection close reason.\n   */\n  close(code, reason) {\n    this.transport.close(code, reason);\n  }\n};\nkEmitter;\n\n// src/interceptors/WebSocket/WebSocketServerConnection.ts\n\n\n// src/interceptors/WebSocket/WebSocketOverride.ts\n\n\nvar WEBSOCKET_CLOSE_CODE_RANGE_ERROR = \"InvalidAccessError: close code out of user configurable range\";\nvar kPassthroughPromise = Symbol(\"kPassthroughPromise\");\nvar kOnSend = Symbol(\"kOnSend\");\nvar kClose = Symbol(\"kClose\");\nvar WebSocketOverride = class extends EventTarget {\n  constructor(url, protocols) {\n    super();\n    this.CONNECTING = 0;\n    this.OPEN = 1;\n    this.CLOSING = 2;\n    this.CLOSED = 3;\n    this._onopen = null;\n    this._onmessage = null;\n    this._onerror = null;\n    this._onclose = null;\n    this.url = url.toString();\n    this.protocol = \"\";\n    this.extensions = \"\";\n    this.binaryType = \"blob\";\n    this.readyState = this.CONNECTING;\n    this.bufferedAmount = 0;\n    this[kPassthroughPromise] = new _open_draft_deferred_promise__WEBPACK_IMPORTED_MODULE_3__.DeferredPromise();\n    queueMicrotask(async () =&gt; {\n      if (await this[kPassthroughPromise]) {\n        return;\n      }\n      this.protocol = typeof protocols === \"string\" ? protocols : Array.isArray(protocols) &amp;&amp; protocols.length &gt; 0 ? protocols[0] : \"\";\n      if (this.readyState === this.CONNECTING) {\n        this.readyState = this.OPEN;\n        this.dispatchEvent(bindEvent(this, new Event(\"open\")));\n      }\n    });\n  }\n  set onopen(listener) {\n    this.removeEventListener(\"open\", this._onopen);\n    this._onopen = listener;\n    if (listener !== null) {\n      this.addEventListener(\"open\", listener);\n    }\n  }\n  get onopen() {\n    return this._onopen;\n  }\n  set onmessage(listener) {\n    this.removeEventListener(\n      \"message\",\n      this._onmessage\n    );\n    this._onmessage = listener;\n    if (listener !== null) {\n      this.addEventListener(\"message\", listener);\n    }\n  }\n  get onmessage() {\n    return this._onmessage;\n  }\n  set onerror(listener) {\n    this.removeEventListener(\"error\", this._onerror);\n    this._onerror = listener;\n    if (listener !== null) {\n      this.addEventListener(\"error\", listener);\n    }\n  }\n  get onerror() {\n    return this._onerror;\n  }\n  set onclose(listener) {\n    this.removeEventListener(\"close\", this._onclose);\n    this._onclose = listener;\n    if (listener !== null) {\n      this.addEventListener(\"close\", listener);\n    }\n  }\n  get onclose() {\n    return this._onclose;\n  }\n  /**\n   * @see https://websockets.spec.whatwg.org/#ref-for-dom-websocket-send%E2%91%A0\n   */\n  send(data) {\n    if (this.readyState === this.CONNECTING) {\n      this.close();\n      throw new DOMException(\"InvalidStateError\");\n    }\n    if (this.readyState === this.CLOSING || this.readyState === this.CLOSED) {\n      return;\n    }\n    this.bufferedAmount += getDataSize(data);\n    queueMicrotask(() =&gt; {\n      var _a;\n      this.bufferedAmount = 0;\n      (_a = this[kOnSend]) == null ? void 0 : _a.call(this, data);\n    });\n  }\n  close(code = 1e3, reason) {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(code, WEBSOCKET_CLOSE_CODE_RANGE_ERROR);\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      code === 1e3 || code &gt;= 3e3 &amp;&amp; code &lt;= 4999,\n      WEBSOCKET_CLOSE_CODE_RANGE_ERROR\n    );\n    this[kClose](code, reason);\n  }\n  [(kPassthroughPromise, kOnSend, kClose)](code = 1e3, reason, wasClean = true) {\n    if (this.readyState === this.CLOSING || this.readyState === this.CLOSED) {\n      return;\n    }\n    this.readyState = this.CLOSING;\n    queueMicrotask(() =&gt; {\n      this.readyState = this.CLOSED;\n      this.dispatchEvent(\n        bindEvent(\n          this,\n          new CloseEvent(\"close\", {\n            code,\n            reason,\n            wasClean\n          })\n        )\n      );\n      this._onopen = null;\n      this._onmessage = null;\n      this._onerror = null;\n      this._onclose = null;\n    });\n  }\n  addEventListener(type, listener, options) {\n    return super.addEventListener(\n      type,\n      listener,\n      options\n    );\n  }\n  removeEventListener(type, callback, options) {\n    return super.removeEventListener(type, callback, options);\n  }\n};\nWebSocketOverride.CONNECTING = 0;\nWebSocketOverride.OPEN = 1;\nWebSocketOverride.CLOSING = 2;\nWebSocketOverride.CLOSED = 3;\nfunction getDataSize(data) {\n  if (typeof data === \"string\") {\n    return data.length;\n  }\n  if (data instanceof Blob) {\n    return data.size;\n  }\n  return data.byteLength;\n}\n\n// src/interceptors/WebSocket/WebSocketServerConnection.ts\nvar kEmitter2 = Symbol(\"kEmitter\");\nvar kBoundListener2 = Symbol(\"kBoundListener\");\nvar kSend = Symbol(\"kSend\");\nvar WebSocketServerConnection = class {\n  constructor(client, transport, createConnection) {\n    this.client = client;\n    this.transport = transport;\n    this.createConnection = createConnection;\n    this[kEmitter2] = new EventTarget();\n    this.mockCloseController = new AbortController();\n    this.realCloseController = new AbortController();\n    this.transport.addEventListener(\"outgoing\", (event) =&gt; {\n      if (typeof this.realWebSocket === \"undefined\") {\n        return;\n      }\n      queueMicrotask(() =&gt; {\n        if (!event.defaultPrevented) {\n          this[kSend](event.data);\n        }\n      });\n    });\n    this.transport.addEventListener(\n      \"incoming\",\n      this.handleIncomingMessage.bind(this)\n    );\n  }\n  /**\n   * The `WebSocket` instance connected to the original server.\n   * Accessing this before calling `server.connect()` will throw.\n   */\n  get socket() {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      this.realWebSocket,\n      'Cannot access \"socket\" on the original WebSocket server object: the connection is not open. Did you forget to call `server.connect()`?'\n    );\n    return this.realWebSocket;\n  }\n  /**\n   * Open connection to the original WebSocket server.\n   */\n  connect() {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      !this.realWebSocket || this.realWebSocket.readyState !== WebSocket.OPEN,\n      'Failed to call \"connect()\" on the original WebSocket instance: the connection already open'\n    );\n    const realWebSocket = this.createConnection();\n    realWebSocket.binaryType = this.client.binaryType;\n    realWebSocket.addEventListener(\n      \"open\",\n      (event) =&gt; {\n        this[kEmitter2].dispatchEvent(\n          bindEvent(this.realWebSocket, new Event(\"open\", event))\n        );\n      },\n      { once: true }\n    );\n    realWebSocket.addEventListener(\"message\", (event) =&gt; {\n      this.transport.dispatchEvent(\n        bindEvent(\n          this.realWebSocket,\n          new MessageEvent(\"incoming\", {\n            data: event.data,\n            origin: event.origin\n          })\n        )\n      );\n    });\n    this.client.addEventListener(\n      \"close\",\n      (event) =&gt; {\n        this.handleMockClose(event);\n      },\n      {\n        signal: this.mockCloseController.signal\n      }\n    );\n    realWebSocket.addEventListener(\n      \"close\",\n      (event) =&gt; {\n        this.handleRealClose(event);\n      },\n      {\n        signal: this.realCloseController.signal\n      }\n    );\n    realWebSocket.addEventListener(\"error\", () =&gt; {\n      const errorEvent = bindEvent(\n        realWebSocket,\n        new Event(\"error\", { cancelable: true })\n      );\n      this[kEmitter2].dispatchEvent(errorEvent);\n      if (!errorEvent.defaultPrevented) {\n        this.client.dispatchEvent(bindEvent(this.client, new Event(\"error\")));\n      }\n    });\n    this.realWebSocket = realWebSocket;\n  }\n  /**\n   * Listen for the incoming events from the original WebSocket server.\n   */\n  addEventListener(event, listener, options) {\n    if (!Reflect.has(listener, kBoundListener2)) {\n      const boundListener = listener.bind(this.client);\n      Object.defineProperty(listener, kBoundListener2, {\n        value: boundListener,\n        enumerable: false\n      });\n    }\n    this[kEmitter2].addEventListener(\n      event,\n      Reflect.get(listener, kBoundListener2),\n      options\n    );\n  }\n  /**\n   * Remove the listener for the given event.\n   */\n  removeEventListener(event, listener, options) {\n    this[kEmitter2].removeEventListener(\n      event,\n      Reflect.get(listener, kBoundListener2),\n      options\n    );\n  }\n  /**\n   * Send data to the original WebSocket server.\n   * @example\n   * server.send('hello')\n   * server.send(new Blob(['hello']))\n   * server.send(new TextEncoder().encode('hello'))\n   */\n  send(data) {\n    this[kSend](data);\n  }\n  [(kEmitter2, kSend)](data) {\n    const { realWebSocket } = this;\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      realWebSocket,\n      'Failed to call \"server.send()\" for \"%s\": the connection is not open. Did you forget to call \"server.connect()\"?',\n      this.client.url\n    );\n    if (realWebSocket.readyState === WebSocket.CLOSING || realWebSocket.readyState === WebSocket.CLOSED) {\n      return;\n    }\n    if (realWebSocket.readyState === WebSocket.CONNECTING) {\n      realWebSocket.addEventListener(\n        \"open\",\n        () =&gt; {\n          realWebSocket.send(data);\n        },\n        { once: true }\n      );\n      return;\n    }\n    realWebSocket.send(data);\n  }\n  /**\n   * Close the actual server connection.\n   */\n  close() {\n    const { realWebSocket } = this;\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_2__.invariant)(\n      realWebSocket,\n      'Failed to close server connection for \"%s\": the connection is not open. Did you forget to call \"server.connect()\"?',\n      this.client.url\n    );\n    this.realCloseController.abort();\n    if (realWebSocket.readyState === WebSocket.CLOSING || realWebSocket.readyState === WebSocket.CLOSED) {\n      return;\n    }\n    realWebSocket.close();\n    queueMicrotask(() =&gt; {\n      this[kEmitter2].dispatchEvent(\n        bindEvent(\n          this.realWebSocket,\n          new CancelableCloseEvent(\"close\", {\n            /**\n             * @note `server.close()` in the interceptor\n             * always results in clean closures.\n             */\n            code: 1e3,\n            cancelable: true\n          })\n        )\n      );\n    });\n  }\n  handleIncomingMessage(event) {\n    const messageEvent = bindEvent(\n      event.target,\n      new CancelableMessageEvent(\"message\", {\n        data: event.data,\n        origin: event.origin,\n        cancelable: true\n      })\n    );\n    this[kEmitter2].dispatchEvent(messageEvent);\n    if (!messageEvent.defaultPrevented) {\n      this.client.dispatchEvent(\n        bindEvent(\n          /**\n           * @note Bind the forwarded original server events\n           * to the mock WebSocket instance so it would\n           * dispatch them straight away.\n           */\n          this.client,\n          // Clone the message event again to prevent\n          // the \"already being dispatched\" exception.\n          new MessageEvent(\"message\", {\n            data: event.data,\n            origin: event.origin\n          })\n        )\n      );\n    }\n  }\n  handleMockClose(_event) {\n    if (this.realWebSocket) {\n      this.realWebSocket.close();\n    }\n  }\n  handleRealClose(event) {\n    this.mockCloseController.abort();\n    const closeEvent = bindEvent(\n      this.realWebSocket,\n      new CancelableCloseEvent(\"close\", {\n        code: event.code,\n        reason: event.reason,\n        wasClean: event.wasClean,\n        cancelable: true\n      })\n    );\n    this[kEmitter2].dispatchEvent(closeEvent);\n    if (!closeEvent.defaultPrevented) {\n      this.client[kClose](event.code, event.reason);\n    }\n  }\n};\n\n// src/interceptors/WebSocket/WebSocketClassTransport.ts\nvar WebSocketClassTransport = class extends EventTarget {\n  constructor(socket) {\n    super();\n    this.socket = socket;\n    this.socket.addEventListener(\"close\", (event) =&gt; {\n      this.dispatchEvent(bindEvent(this.socket, new CloseEvent(\"close\", event)));\n    });\n    this.socket[kOnSend] = (data) =&gt; {\n      this.dispatchEvent(\n        bindEvent(\n          this.socket,\n          // Dispatch this as cancelable because \"client\" connection\n          // re-creates this message event (cannot dispatch the same event).\n          new CancelableMessageEvent(\"outgoing\", {\n            data,\n            origin: this.socket.url,\n            cancelable: true\n          })\n        )\n      );\n    };\n  }\n  addEventListener(type, callback, options) {\n    return super.addEventListener(type, callback, options);\n  }\n  dispatchEvent(event) {\n    return super.dispatchEvent(event);\n  }\n  send(data) {\n    queueMicrotask(() =&gt; {\n      if (this.socket.readyState === this.socket.CLOSING || this.socket.readyState === this.socket.CLOSED) {\n        return;\n      }\n      const dispatchEvent = () =&gt; {\n        this.socket.dispatchEvent(\n          bindEvent(\n            /**\n             * @note Setting this event's \"target\" to the\n             * WebSocket override instance is important.\n             * This way it can tell apart original incoming events\n             * (must be forwarded to the transport) from the\n             * mocked message events like the one below\n             * (must be dispatched on the client instance).\n             */\n            this.socket,\n            new MessageEvent(\"message\", {\n              data,\n              origin: this.socket.url\n            })\n          )\n        );\n      };\n      if (this.socket.readyState === this.socket.CONNECTING) {\n        this.socket.addEventListener(\n          \"open\",\n          () =&gt; {\n            dispatchEvent();\n          },\n          { once: true }\n        );\n      } else {\n        dispatchEvent();\n      }\n    });\n  }\n  close(code, reason) {\n    this.socket[kClose](code, reason);\n  }\n};\n\n// src/interceptors/WebSocket/index.ts\nvar _WebSocketInterceptor = class extends _chunk_QED3Q6Z2_mjs__WEBPACK_IMPORTED_MODULE_1__.Interceptor {\n  constructor() {\n    super(_WebSocketInterceptor.symbol);\n  }\n  checkEnvironment() {\n    return (0,_chunk_TX5GBTFY_mjs__WEBPACK_IMPORTED_MODULE_0__.hasConfigurableGlobal)(\"WebSocket\");\n  }\n  setup() {\n    const originalWebSocketDescriptor = Object.getOwnPropertyDescriptor(\n      globalThis,\n      \"WebSocket\"\n    );\n    const WebSocketProxy = new Proxy(globalThis.WebSocket, {\n      construct: (target, args, newTarget) =&gt; {\n        const [url, protocols] = args;\n        const createConnection = () =&gt; {\n          return Reflect.construct(target, args, newTarget);\n        };\n        const socket = new WebSocketOverride(url, protocols);\n        const transport = new WebSocketClassTransport(socket);\n        queueMicrotask(() =&gt; {\n          try {\n            const server = new WebSocketServerConnection(\n              socket,\n              transport,\n              createConnection\n            );\n            const hasConnectionListeners = this.emitter.emit(\"connection\", {\n              client: new WebSocketClientConnection(socket, transport),\n              server,\n              info: {\n                protocols\n              }\n            });\n            if (hasConnectionListeners) {\n              socket[kPassthroughPromise].resolve(false);\n            } else {\n              socket[kPassthroughPromise].resolve(true);\n              server.connect();\n              server.addEventListener(\"open\", () =&gt; {\n                socket.dispatchEvent(bindEvent(socket, new Event(\"open\")));\n                if (server[\"realWebSocket\"]) {\n                  socket.protocol = server[\"realWebSocket\"].protocol;\n                }\n              });\n            }\n          } catch (error) {\n            if (error instanceof Error) {\n              socket.dispatchEvent(new Event(\"error\"));\n              if (socket.readyState !== WebSocket.CLOSING &amp;&amp; socket.readyState !== WebSocket.CLOSED) {\n                socket[kClose](1011, error.message, false);\n              }\n              console.error(error);\n            }\n          }\n        });\n        return socket;\n      }\n    });\n    Object.defineProperty(globalThis, \"WebSocket\", {\n      value: WebSocketProxy,\n      configurable: true\n    });\n    this.subscriptions.push(() =&gt; {\n      Object.defineProperty(\n        globalThis,\n        \"WebSocket\",\n        originalWebSocketDescriptor\n      );\n    });\n  }\n};\nvar WebSocketInterceptor = _WebSocketInterceptor;\nWebSocketInterceptor.symbol = Symbol(\"websocket\");\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2ludGVyY2VwdG9ycy9XZWJTb2NrZXQvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFa0M7QUFJQTs7QUFFbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsb0VBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ3FEOztBQUVyRDtBQUN1QztBQUN3QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MseUVBQWU7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSSxxREFBUztBQUNiLElBQUkscURBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFVO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSxxREFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGtCQUFrQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QixJQUFJLHFEQUFVO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QixJQUFJLHFEQUFVO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFlBQVk7QUFDWjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQ0FBMEMsNERBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDBFQUFxQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL2Jyb3dzZXIvaW50ZXJjZXB0b3JzL1dlYlNvY2tldC9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgaGFzQ29uZmlndXJhYmxlR2xvYmFsXG59IGZyb20gXCIuLi8uLi9jaHVuay1UWDVHQlRGWS5tanNcIjtcbmltcG9ydCB7XG4gIEludGVyY2VwdG9yLFxuICBjcmVhdGVSZXF1ZXN0SWRcbn0gZnJvbSBcIi4uLy4uL2NodW5rLVFFRDNRNloyLm1qc1wiO1xuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL1dlYlNvY2tldC91dGlscy9iaW5kRXZlbnQudHNcbmZ1bmN0aW9uIGJpbmRFdmVudCh0YXJnZXQsIGV2ZW50KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGV2ZW50LCB7XG4gICAgdGFyZ2V0OiB7XG4gICAgICB2YWx1ZTogdGFyZ2V0LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSxcbiAgICBjdXJyZW50VGFyZ2V0OiB7XG4gICAgICB2YWx1ZTogdGFyZ2V0LFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL1dlYlNvY2tldC91dGlscy9ldmVudHMudHNcbnZhciBrQ2FuY2VsYWJsZSA9IFN5bWJvbChcImtDYW5jZWxhYmxlXCIpO1xudmFyIGtEZWZhdWx0UHJldmVudGVkID0gU3ltYm9sKFwia0RlZmF1bHRQcmV2ZW50ZWRcIik7XG52YXIgQ2FuY2VsYWJsZU1lc3NhZ2VFdmVudCA9IGNsYXNzIGV4dGVuZHMgTWVzc2FnZUV2ZW50IHtcbiAgY29uc3RydWN0b3IodHlwZSwgaW5pdCkge1xuICAgIHN1cGVyKHR5cGUsIGluaXQpO1xuICAgIHRoaXNba0NhbmNlbGFibGVdID0gISFpbml0LmNhbmNlbGFibGU7XG4gICAgdGhpc1trRGVmYXVsdFByZXZlbnRlZF0gPSBmYWxzZTtcbiAgfVxuICBnZXQgY2FuY2VsYWJsZSgpIHtcbiAgICByZXR1cm4gdGhpc1trQ2FuY2VsYWJsZV07XG4gIH1cbiAgc2V0IGNhbmNlbGFibGUobmV4dENhbmNlbGFibGUpIHtcbiAgICB0aGlzW2tDYW5jZWxhYmxlXSA9IG5leHRDYW5jZWxhYmxlO1xuICB9XG4gIGdldCBkZWZhdWx0UHJldmVudGVkKCkge1xuICAgIHJldHVybiB0aGlzW2tEZWZhdWx0UHJldmVudGVkXTtcbiAgfVxuICBzZXQgZGVmYXVsdFByZXZlbnRlZChuZXh0RGVmYXVsdFByZXZlbnRlZCkge1xuICAgIHRoaXNba0RlZmF1bHRQcmV2ZW50ZWRdID0gbmV4dERlZmF1bHRQcmV2ZW50ZWQ7XG4gIH1cbiAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgaWYgKHRoaXMuY2FuY2VsYWJsZSAmJiAhdGhpc1trRGVmYXVsdFByZXZlbnRlZF0pIHtcbiAgICAgIHRoaXNba0RlZmF1bHRQcmV2ZW50ZWRdID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn07XG5rQ2FuY2VsYWJsZSwga0RlZmF1bHRQcmV2ZW50ZWQ7XG52YXIgQ2xvc2VFdmVudCA9IGNsYXNzIGV4dGVuZHMgRXZlbnQge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBpbml0ID0ge30pIHtcbiAgICBzdXBlcih0eXBlLCBpbml0KTtcbiAgICB0aGlzLmNvZGUgPSBpbml0LmNvZGUgPT09IHZvaWQgMCA/IDAgOiBpbml0LmNvZGU7XG4gICAgdGhpcy5yZWFzb24gPSBpbml0LnJlYXNvbiA9PT0gdm9pZCAwID8gXCJcIiA6IGluaXQucmVhc29uO1xuICAgIHRoaXMud2FzQ2xlYW4gPSBpbml0Lndhc0NsZWFuID09PSB2b2lkIDAgPyBmYWxzZSA6IGluaXQud2FzQ2xlYW47XG4gIH1cbn07XG52YXIgQ2FuY2VsYWJsZUNsb3NlRXZlbnQgPSBjbGFzcyBleHRlbmRzIENsb3NlRXZlbnQge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBpbml0ID0ge30pIHtcbiAgICBzdXBlcih0eXBlLCBpbml0KTtcbiAgICB0aGlzW2tDYW5jZWxhYmxlXSA9ICEhaW5pdC5jYW5jZWxhYmxlO1xuICAgIHRoaXNba0RlZmF1bHRQcmV2ZW50ZWRdID0gZmFsc2U7XG4gIH1cbiAgZ2V0IGNhbmNlbGFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXNba0NhbmNlbGFibGVdO1xuICB9XG4gIHNldCBjYW5jZWxhYmxlKG5leHRDYW5jZWxhYmxlKSB7XG4gICAgdGhpc1trQ2FuY2VsYWJsZV0gPSBuZXh0Q2FuY2VsYWJsZTtcbiAgfVxuICBnZXQgZGVmYXVsdFByZXZlbnRlZCgpIHtcbiAgICByZXR1cm4gdGhpc1trRGVmYXVsdFByZXZlbnRlZF07XG4gIH1cbiAgc2V0IGRlZmF1bHRQcmV2ZW50ZWQobmV4dERlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICB0aGlzW2tEZWZhdWx0UHJldmVudGVkXSA9IG5leHREZWZhdWx0UHJldmVudGVkO1xuICB9XG4gIHByZXZlbnREZWZhdWx0KCkge1xuICAgIGlmICh0aGlzLmNhbmNlbGFibGUgJiYgIXRoaXNba0RlZmF1bHRQcmV2ZW50ZWRdKSB7XG4gICAgICB0aGlzW2tEZWZhdWx0UHJldmVudGVkXSA9IHRydWU7XG4gICAgfVxuICB9XG59O1xua0NhbmNlbGFibGUsIGtEZWZhdWx0UHJldmVudGVkO1xuXG4vLyBzcmMvaW50ZXJjZXB0b3JzL1dlYlNvY2tldC9XZWJTb2NrZXRDbGllbnRDb25uZWN0aW9uLnRzXG52YXIga0VtaXR0ZXIgPSBTeW1ib2woXCJrRW1pdHRlclwiKTtcbnZhciBrQm91bmRMaXN0ZW5lciA9IFN5bWJvbChcImtCb3VuZExpc3RlbmVyXCIpO1xudmFyIFdlYlNvY2tldENsaWVudENvbm5lY3Rpb24gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHNvY2tldCwgdHJhbnNwb3J0KSB7XG4gICAgdGhpcy5zb2NrZXQgPSBzb2NrZXQ7XG4gICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgdGhpcy5pZCA9IGNyZWF0ZVJlcXVlc3RJZCgpO1xuICAgIHRoaXMudXJsID0gbmV3IFVSTChzb2NrZXQudXJsKTtcbiAgICB0aGlzW2tFbWl0dGVyXSA9IG5ldyBFdmVudFRhcmdldCgpO1xuICAgIHRoaXMudHJhbnNwb3J0LmFkZEV2ZW50TGlzdGVuZXIoXCJvdXRnb2luZ1wiLCAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBiaW5kRXZlbnQoXG4gICAgICAgIHRoaXMuc29ja2V0LFxuICAgICAgICBuZXcgQ2FuY2VsYWJsZU1lc3NhZ2VFdmVudChcIm1lc3NhZ2VcIiwge1xuICAgICAgICAgIGRhdGE6IGV2ZW50LmRhdGEsXG4gICAgICAgICAgb3JpZ2luOiBldmVudC5vcmlnaW4sXG4gICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHRoaXNba0VtaXR0ZXJdLmRpc3BhdGNoRXZlbnQobWVzc2FnZSk7XG4gICAgICBpZiAobWVzc2FnZS5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy50cmFuc3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIChldmVudCkgPT4ge1xuICAgICAgdGhpc1trRW1pdHRlcl0uZGlzcGF0Y2hFdmVudChcbiAgICAgICAgYmluZEV2ZW50KHRoaXMuc29ja2V0LCBuZXcgQ2xvc2VFdmVudChcImNsb3NlXCIsIGV2ZW50KSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIExpc3RlbiBmb3IgdGhlIG91dGdvaW5nIGV2ZW50cyBmcm9tIHRoZSBjb25uZWN0ZWQgV2ViU29ja2V0IGNsaWVudC5cbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAoIVJlZmxlY3QuaGFzKGxpc3RlbmVyLCBrQm91bmRMaXN0ZW5lcikpIHtcbiAgICAgIGNvbnN0IGJvdW5kTGlzdGVuZXIgPSBsaXN0ZW5lci5iaW5kKHRoaXMuc29ja2V0KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsaXN0ZW5lciwga0JvdW5kTGlzdGVuZXIsIHtcbiAgICAgICAgdmFsdWU6IGJvdW5kTGlzdGVuZXIsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpc1trRW1pdHRlcl0uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHR5cGUsXG4gICAgICBSZWZsZWN0LmdldChsaXN0ZW5lciwga0JvdW5kTGlzdGVuZXIpLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGxpc3RlbmVyIGZvciB0aGUgZ2l2ZW4gZXZlbnQuXG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIHRoaXNba0VtaXR0ZXJdLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBldmVudCxcbiAgICAgIFJlZmxlY3QuZ2V0KGxpc3RlbmVyLCBrQm91bmRMaXN0ZW5lciksXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogU2VuZCBkYXRhIHRvIHRoZSBjb25uZWN0ZWQgY2xpZW50LlxuICAgKi9cbiAgc2VuZChkYXRhKSB7XG4gICAgdGhpcy50cmFuc3BvcnQuc2VuZChkYXRhKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2UgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uLlxuICAgKiBAcGFyYW0ge251bWJlcn0gY29kZSBBIHN0YXR1cyBjb2RlIChzZWUgaHR0cHM6Ly93d3cucmZjLWVkaXRvci5vcmcvcmZjL3JmYzY0NTUjc2VjdGlvbi03LjQuMSkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb24gQSBjdXN0b20gY29ubmVjdGlvbiBjbG9zZSByZWFzb24uXG4gICAqL1xuICBjbG9zZShjb2RlLCByZWFzb24pIHtcbiAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZShjb2RlLCByZWFzb24pO1xuICB9XG59O1xua0VtaXR0ZXI7XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvV2ViU29ja2V0L1dlYlNvY2tldFNlcnZlckNvbm5lY3Rpb24udHNcbmltcG9ydCB7IGludmFyaWFudCBhcyBpbnZhcmlhbnQyIH0gZnJvbSBcIm91dHZhcmlhbnRcIjtcblxuLy8gc3JjL2ludGVyY2VwdG9ycy9XZWJTb2NrZXQvV2ViU29ja2V0T3ZlcnJpZGUudHNcbmltcG9ydCB7IGludmFyaWFudCB9IGZyb20gXCJvdXR2YXJpYW50XCI7XG5pbXBvcnQgeyBEZWZlcnJlZFByb21pc2UgfSBmcm9tIFwiQG9wZW4tZHJhZnQvZGVmZXJyZWQtcHJvbWlzZVwiO1xudmFyIFdFQlNPQ0tFVF9DTE9TRV9DT0RFX1JBTkdFX0VSUk9SID0gXCJJbnZhbGlkQWNjZXNzRXJyb3I6IGNsb3NlIGNvZGUgb3V0IG9mIHVzZXIgY29uZmlndXJhYmxlIHJhbmdlXCI7XG52YXIga1Bhc3N0aHJvdWdoUHJvbWlzZSA9IFN5bWJvbChcImtQYXNzdGhyb3VnaFByb21pc2VcIik7XG52YXIga09uU2VuZCA9IFN5bWJvbChcImtPblNlbmRcIik7XG52YXIga0Nsb3NlID0gU3ltYm9sKFwia0Nsb3NlXCIpO1xudmFyIFdlYlNvY2tldE92ZXJyaWRlID0gY2xhc3MgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIGNvbnN0cnVjdG9yKHVybCwgcHJvdG9jb2xzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLkNPTk5FQ1RJTkcgPSAwO1xuICAgIHRoaXMuT1BFTiA9IDE7XG4gICAgdGhpcy5DTE9TSU5HID0gMjtcbiAgICB0aGlzLkNMT1NFRCA9IDM7XG4gICAgdGhpcy5fb25vcGVuID0gbnVsbDtcbiAgICB0aGlzLl9vbm1lc3NhZ2UgPSBudWxsO1xuICAgIHRoaXMuX29uZXJyb3IgPSBudWxsO1xuICAgIHRoaXMuX29uY2xvc2UgPSBudWxsO1xuICAgIHRoaXMudXJsID0gdXJsLnRvU3RyaW5nKCk7XG4gICAgdGhpcy5wcm90b2NvbCA9IFwiXCI7XG4gICAgdGhpcy5leHRlbnNpb25zID0gXCJcIjtcbiAgICB0aGlzLmJpbmFyeVR5cGUgPSBcImJsb2JcIjtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSB0aGlzLkNPTk5FQ1RJTkc7XG4gICAgdGhpcy5idWZmZXJlZEFtb3VudCA9IDA7XG4gICAgdGhpc1trUGFzc3Rocm91Z2hQcm9taXNlXSA9IG5ldyBEZWZlcnJlZFByb21pc2UoKTtcbiAgICBxdWV1ZU1pY3JvdGFzayhhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoYXdhaXQgdGhpc1trUGFzc3Rocm91Z2hQcm9taXNlXSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnByb3RvY29sID0gdHlwZW9mIHByb3RvY29scyA9PT0gXCJzdHJpbmdcIiA/IHByb3RvY29scyA6IEFycmF5LmlzQXJyYXkocHJvdG9jb2xzKSAmJiBwcm90b2NvbHMubGVuZ3RoID4gMCA/IHByb3RvY29sc1swXSA6IFwiXCI7XG4gICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkNPTk5FQ1RJTkcpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5PUEVOO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmluZEV2ZW50KHRoaXMsIG5ldyBFdmVudChcIm9wZW5cIikpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBzZXQgb25vcGVuKGxpc3RlbmVyKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3BlblwiLCB0aGlzLl9vbm9wZW4pO1xuICAgIHRoaXMuX29ub3BlbiA9IGxpc3RlbmVyO1xuICAgIGlmIChsaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG4gIGdldCBvbm9wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuX29ub3BlbjtcbiAgfVxuICBzZXQgb25tZXNzYWdlKGxpc3RlbmVyKSB7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgXCJtZXNzYWdlXCIsXG4gICAgICB0aGlzLl9vbm1lc3NhZ2VcbiAgICApO1xuICAgIHRoaXMuX29ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGlmIChsaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG4gIGdldCBvbm1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29ubWVzc2FnZTtcbiAgfVxuICBzZXQgb25lcnJvcihsaXN0ZW5lcikge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHRoaXMuX29uZXJyb3IpO1xuICAgIHRoaXMuX29uZXJyb3IgPSBsaXN0ZW5lcjtcbiAgICBpZiAobGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cbiAgZ2V0IG9uZXJyb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29uZXJyb3I7XG4gIH1cbiAgc2V0IG9uY2xvc2UobGlzdGVuZXIpIHtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCB0aGlzLl9vbmNsb3NlKTtcbiAgICB0aGlzLl9vbmNsb3NlID0gbGlzdGVuZXI7XG4gICAgaWYgKGxpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG4gIGdldCBvbmNsb3NlKCkge1xuICAgIHJldHVybiB0aGlzLl9vbmNsb3NlO1xuICB9XG4gIC8qKlxuICAgKiBAc2VlIGh0dHBzOi8vd2Vic29ja2V0cy5zcGVjLndoYXR3Zy5vcmcvI3JlZi1mb3ItZG9tLXdlYnNvY2tldC1zZW5kJUUyJTkxJUEwXG4gICAqL1xuICBzZW5kKGRhdGEpIHtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkNPTk5FQ1RJTkcpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJJbnZhbGlkU3RhdGVFcnJvclwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TSU5HIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TRUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5idWZmZXJlZEFtb3VudCArPSBnZXREYXRhU2l6ZShkYXRhKTtcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICB0aGlzLmJ1ZmZlcmVkQW1vdW50ID0gMDtcbiAgICAgIChfYSA9IHRoaXNba09uU2VuZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMsIGRhdGEpO1xuICAgIH0pO1xuICB9XG4gIGNsb3NlKGNvZGUgPSAxZTMsIHJlYXNvbikge1xuICAgIGludmFyaWFudChjb2RlLCBXRUJTT0NLRVRfQ0xPU0VfQ09ERV9SQU5HRV9FUlJPUik7XG4gICAgaW52YXJpYW50KFxuICAgICAgY29kZSA9PT0gMWUzIHx8IGNvZGUgPj0gM2UzICYmIGNvZGUgPD0gNDk5OSxcbiAgICAgIFdFQlNPQ0tFVF9DTE9TRV9DT0RFX1JBTkdFX0VSUk9SXG4gICAgKTtcbiAgICB0aGlzW2tDbG9zZV0oY29kZSwgcmVhc29uKTtcbiAgfVxuICBbKGtQYXNzdGhyb3VnaFByb21pc2UsIGtPblNlbmQsIGtDbG9zZSldKGNvZGUgPSAxZTMsIHJlYXNvbiwgd2FzQ2xlYW4gPSB0cnVlKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TSU5HIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TRUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gdGhpcy5DTE9TSU5HO1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IHRoaXMuQ0xPU0VEO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBiaW5kRXZlbnQoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBuZXcgQ2xvc2VFdmVudChcImNsb3NlXCIsIHtcbiAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgICB3YXNDbGVhblxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aGlzLl9vbm9wZW4gPSBudWxsO1xuICAgICAgdGhpcy5fb25tZXNzYWdlID0gbnVsbDtcbiAgICAgIHRoaXMuX29uZXJyb3IgPSBudWxsO1xuICAgICAgdGhpcy5fb25jbG9zZSA9IG51bGw7XG4gICAgfSk7XG4gIH1cbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIHJldHVybiBzdXBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgdHlwZSxcbiAgICAgIGxpc3RlbmVyLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIHJldHVybiBzdXBlci5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgfVxufTtcbldlYlNvY2tldE92ZXJyaWRlLkNPTk5FQ1RJTkcgPSAwO1xuV2ViU29ja2V0T3ZlcnJpZGUuT1BFTiA9IDE7XG5XZWJTb2NrZXRPdmVycmlkZS5DTE9TSU5HID0gMjtcbldlYlNvY2tldE92ZXJyaWRlLkNMT1NFRCA9IDM7XG5mdW5jdGlvbiBnZXREYXRhU2l6ZShkYXRhKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBkYXRhLmxlbmd0aDtcbiAgfVxuICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICByZXR1cm4gZGF0YS5zaXplO1xuICB9XG4gIHJldHVybiBkYXRhLmJ5dGVMZW5ndGg7XG59XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvV2ViU29ja2V0L1dlYlNvY2tldFNlcnZlckNvbm5lY3Rpb24udHNcbnZhciBrRW1pdHRlcjIgPSBTeW1ib2woXCJrRW1pdHRlclwiKTtcbnZhciBrQm91bmRMaXN0ZW5lcjIgPSBTeW1ib2woXCJrQm91bmRMaXN0ZW5lclwiKTtcbnZhciBrU2VuZCA9IFN5bWJvbChcImtTZW5kXCIpO1xudmFyIFdlYlNvY2tldFNlcnZlckNvbm5lY3Rpb24gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgdHJhbnNwb3J0LCBjcmVhdGVDb25uZWN0aW9uKSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy50cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgdGhpcy5jcmVhdGVDb25uZWN0aW9uID0gY3JlYXRlQ29ubmVjdGlvbjtcbiAgICB0aGlzW2tFbWl0dGVyMl0gPSBuZXcgRXZlbnRUYXJnZXQoKTtcbiAgICB0aGlzLm1vY2tDbG9zZUNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgdGhpcy5yZWFsQ2xvc2VDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIHRoaXMudHJhbnNwb3J0LmFkZEV2ZW50TGlzdGVuZXIoXCJvdXRnb2luZ1wiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5yZWFsV2ViU29ja2V0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgdGhpc1trU2VuZF0oZXZlbnQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMudHJhbnNwb3J0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImluY29taW5nXCIsXG4gICAgICB0aGlzLmhhbmRsZUluY29taW5nTWVzc2FnZS5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGBXZWJTb2NrZXRgIGluc3RhbmNlIGNvbm5lY3RlZCB0byB0aGUgb3JpZ2luYWwgc2VydmVyLlxuICAgKiBBY2Nlc3NpbmcgdGhpcyBiZWZvcmUgY2FsbGluZyBgc2VydmVyLmNvbm5lY3QoKWAgd2lsbCB0aHJvdy5cbiAgICovXG4gIGdldCBzb2NrZXQoKSB7XG4gICAgaW52YXJpYW50MihcbiAgICAgIHRoaXMucmVhbFdlYlNvY2tldCxcbiAgICAgICdDYW5ub3QgYWNjZXNzIFwic29ja2V0XCIgb24gdGhlIG9yaWdpbmFsIFdlYlNvY2tldCBzZXJ2ZXIgb2JqZWN0OiB0aGUgY29ubmVjdGlvbiBpcyBub3Qgb3Blbi4gRGlkIHlvdSBmb3JnZXQgdG8gY2FsbCBgc2VydmVyLmNvbm5lY3QoKWA/J1xuICAgICk7XG4gICAgcmV0dXJuIHRoaXMucmVhbFdlYlNvY2tldDtcbiAgfVxuICAvKipcbiAgICogT3BlbiBjb25uZWN0aW9uIHRvIHRoZSBvcmlnaW5hbCBXZWJTb2NrZXQgc2VydmVyLlxuICAgKi9cbiAgY29ubmVjdCgpIHtcbiAgICBpbnZhcmlhbnQyKFxuICAgICAgIXRoaXMucmVhbFdlYlNvY2tldCB8fCB0aGlzLnJlYWxXZWJTb2NrZXQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0Lk9QRU4sXG4gICAgICAnRmFpbGVkIHRvIGNhbGwgXCJjb25uZWN0KClcIiBvbiB0aGUgb3JpZ2luYWwgV2ViU29ja2V0IGluc3RhbmNlOiB0aGUgY29ubmVjdGlvbiBhbHJlYWR5IG9wZW4nXG4gICAgKTtcbiAgICBjb25zdCByZWFsV2ViU29ja2V0ID0gdGhpcy5jcmVhdGVDb25uZWN0aW9uKCk7XG4gICAgcmVhbFdlYlNvY2tldC5iaW5hcnlUeXBlID0gdGhpcy5jbGllbnQuYmluYXJ5VHlwZTtcbiAgICByZWFsV2ViU29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcIm9wZW5cIixcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICB0aGlzW2tFbWl0dGVyMl0uZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICBiaW5kRXZlbnQodGhpcy5yZWFsV2ViU29ja2V0LCBuZXcgRXZlbnQoXCJvcGVuXCIsIGV2ZW50KSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB7IG9uY2U6IHRydWUgfVxuICAgICk7XG4gICAgcmVhbFdlYlNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMudHJhbnNwb3J0LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgIGJpbmRFdmVudChcbiAgICAgICAgICB0aGlzLnJlYWxXZWJTb2NrZXQsXG4gICAgICAgICAgbmV3IE1lc3NhZ2VFdmVudChcImluY29taW5nXCIsIHtcbiAgICAgICAgICAgIGRhdGE6IGV2ZW50LmRhdGEsXG4gICAgICAgICAgICBvcmlnaW46IGV2ZW50Lm9yaWdpblxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSk7XG4gICAgdGhpcy5jbGllbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiY2xvc2VcIixcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZU1vY2tDbG9zZShldmVudCk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBzaWduYWw6IHRoaXMubW9ja0Nsb3NlQ29udHJvbGxlci5zaWduYWxcbiAgICAgIH1cbiAgICApO1xuICAgIHJlYWxXZWJTb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiY2xvc2VcIixcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZVJlYWxDbG9zZShldmVudCk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBzaWduYWw6IHRoaXMucmVhbENsb3NlQ29udHJvbGxlci5zaWduYWxcbiAgICAgIH1cbiAgICApO1xuICAgIHJlYWxXZWJTb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yRXZlbnQgPSBiaW5kRXZlbnQoXG4gICAgICAgIHJlYWxXZWJTb2NrZXQsXG4gICAgICAgIG5ldyBFdmVudChcImVycm9yXCIsIHsgY2FuY2VsYWJsZTogdHJ1ZSB9KVxuICAgICAgKTtcbiAgICAgIHRoaXNba0VtaXR0ZXIyXS5kaXNwYXRjaEV2ZW50KGVycm9yRXZlbnQpO1xuICAgICAgaWYgKCFlcnJvckV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChiaW5kRXZlbnQodGhpcy5jbGllbnQsIG5ldyBFdmVudChcImVycm9yXCIpKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5yZWFsV2ViU29ja2V0ID0gcmVhbFdlYlNvY2tldDtcbiAgfVxuICAvKipcbiAgICogTGlzdGVuIGZvciB0aGUgaW5jb21pbmcgZXZlbnRzIGZyb20gdGhlIG9yaWdpbmFsIFdlYlNvY2tldCBzZXJ2ZXIuXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGlmICghUmVmbGVjdC5oYXMobGlzdGVuZXIsIGtCb3VuZExpc3RlbmVyMikpIHtcbiAgICAgIGNvbnN0IGJvdW5kTGlzdGVuZXIgPSBsaXN0ZW5lci5iaW5kKHRoaXMuY2xpZW50KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShsaXN0ZW5lciwga0JvdW5kTGlzdGVuZXIyLCB7XG4gICAgICAgIHZhbHVlOiBib3VuZExpc3RlbmVyLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXNba0VtaXR0ZXIyXS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgZXZlbnQsXG4gICAgICBSZWZsZWN0LmdldChsaXN0ZW5lciwga0JvdW5kTGlzdGVuZXIyKSxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGxpc3RlbmVyIGZvciB0aGUgZ2l2ZW4gZXZlbnQuXG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIHRoaXNba0VtaXR0ZXIyXS5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgZXZlbnQsXG4gICAgICBSZWZsZWN0LmdldChsaXN0ZW5lciwga0JvdW5kTGlzdGVuZXIyKSxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBTZW5kIGRhdGEgdG8gdGhlIG9yaWdpbmFsIFdlYlNvY2tldCBzZXJ2ZXIuXG4gICAqIEBleGFtcGxlXG4gICAqIHNlcnZlci5zZW5kKCdoZWxsbycpXG4gICAqIHNlcnZlci5zZW5kKG5ldyBCbG9iKFsnaGVsbG8nXSkpXG4gICAqIHNlcnZlci5zZW5kKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSgnaGVsbG8nKSlcbiAgICovXG4gIHNlbmQoZGF0YSkge1xuICAgIHRoaXNba1NlbmRdKGRhdGEpO1xuICB9XG4gIFsoa0VtaXR0ZXIyLCBrU2VuZCldKGRhdGEpIHtcbiAgICBjb25zdCB7IHJlYWxXZWJTb2NrZXQgfSA9IHRoaXM7XG4gICAgaW52YXJpYW50MihcbiAgICAgIHJlYWxXZWJTb2NrZXQsXG4gICAgICAnRmFpbGVkIHRvIGNhbGwgXCJzZXJ2ZXIuc2VuZCgpXCIgZm9yIFwiJXNcIjogdGhlIGNvbm5lY3Rpb24gaXMgbm90IG9wZW4uIERpZCB5b3UgZm9yZ2V0IHRvIGNhbGwgXCJzZXJ2ZXIuY29ubmVjdCgpXCI/JyxcbiAgICAgIHRoaXMuY2xpZW50LnVybFxuICAgICk7XG4gICAgaWYgKHJlYWxXZWJTb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LkNMT1NJTkcgfHwgcmVhbFdlYlNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0VEKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZWFsV2ViU29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSB7XG4gICAgICByZWFsV2ViU29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwib3BlblwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgcmVhbFdlYlNvY2tldC5zZW5kKGRhdGEpO1xuICAgICAgICB9LFxuICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVhbFdlYlNvY2tldC5zZW5kKGRhdGEpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgYWN0dWFsIHNlcnZlciBjb25uZWN0aW9uLlxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgY29uc3QgeyByZWFsV2ViU29ja2V0IH0gPSB0aGlzO1xuICAgIGludmFyaWFudDIoXG4gICAgICByZWFsV2ViU29ja2V0LFxuICAgICAgJ0ZhaWxlZCB0byBjbG9zZSBzZXJ2ZXIgY29ubmVjdGlvbiBmb3IgXCIlc1wiOiB0aGUgY29ubmVjdGlvbiBpcyBub3Qgb3Blbi4gRGlkIHlvdSBmb3JnZXQgdG8gY2FsbCBcInNlcnZlci5jb25uZWN0KClcIj8nLFxuICAgICAgdGhpcy5jbGllbnQudXJsXG4gICAgKTtcbiAgICB0aGlzLnJlYWxDbG9zZUNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICBpZiAocmVhbFdlYlNvY2tldC5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuQ0xPU0lORyB8fCByZWFsV2ViU29ja2V0LnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DTE9TRUQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVhbFdlYlNvY2tldC5jbG9zZSgpO1xuICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgIHRoaXNba0VtaXR0ZXIyXS5kaXNwYXRjaEV2ZW50KFxuICAgICAgICBiaW5kRXZlbnQoXG4gICAgICAgICAgdGhpcy5yZWFsV2ViU29ja2V0LFxuICAgICAgICAgIG5ldyBDYW5jZWxhYmxlQ2xvc2VFdmVudChcImNsb3NlXCIsIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQG5vdGUgYHNlcnZlci5jbG9zZSgpYCBpbiB0aGUgaW50ZXJjZXB0b3JcbiAgICAgICAgICAgICAqIGFsd2F5cyByZXN1bHRzIGluIGNsZWFuIGNsb3N1cmVzLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb2RlOiAxZTMsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuICBoYW5kbGVJbmNvbWluZ01lc3NhZ2UoZXZlbnQpIHtcbiAgICBjb25zdCBtZXNzYWdlRXZlbnQgPSBiaW5kRXZlbnQoXG4gICAgICBldmVudC50YXJnZXQsXG4gICAgICBuZXcgQ2FuY2VsYWJsZU1lc3NhZ2VFdmVudChcIm1lc3NhZ2VcIiwge1xuICAgICAgICBkYXRhOiBldmVudC5kYXRhLFxuICAgICAgICBvcmlnaW46IGV2ZW50Lm9yaWdpbixcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgfSlcbiAgICApO1xuICAgIHRoaXNba0VtaXR0ZXIyXS5kaXNwYXRjaEV2ZW50KG1lc3NhZ2VFdmVudCk7XG4gICAgaWYgKCFtZXNzYWdlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgYmluZEV2ZW50KFxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEBub3RlIEJpbmQgdGhlIGZvcndhcmRlZCBvcmlnaW5hbCBzZXJ2ZXIgZXZlbnRzXG4gICAgICAgICAgICogdG8gdGhlIG1vY2sgV2ViU29ja2V0IGluc3RhbmNlIHNvIGl0IHdvdWxkXG4gICAgICAgICAgICogZGlzcGF0Y2ggdGhlbSBzdHJhaWdodCBhd2F5LlxuICAgICAgICAgICAqL1xuICAgICAgICAgIHRoaXMuY2xpZW50LFxuICAgICAgICAgIC8vIENsb25lIHRoZSBtZXNzYWdlIGV2ZW50IGFnYWluIHRvIHByZXZlbnRcbiAgICAgICAgICAvLyB0aGUgXCJhbHJlYWR5IGJlaW5nIGRpc3BhdGNoZWRcIiBleGNlcHRpb24uXG4gICAgICAgICAgbmV3IE1lc3NhZ2VFdmVudChcIm1lc3NhZ2VcIiwge1xuICAgICAgICAgICAgZGF0YTogZXZlbnQuZGF0YSxcbiAgICAgICAgICAgIG9yaWdpbjogZXZlbnQub3JpZ2luXG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaGFuZGxlTW9ja0Nsb3NlKF9ldmVudCkge1xuICAgIGlmICh0aGlzLnJlYWxXZWJTb2NrZXQpIHtcbiAgICAgIHRoaXMucmVhbFdlYlNvY2tldC5jbG9zZSgpO1xuICAgIH1cbiAgfVxuICBoYW5kbGVSZWFsQ2xvc2UoZXZlbnQpIHtcbiAgICB0aGlzLm1vY2tDbG9zZUNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICBjb25zdCBjbG9zZUV2ZW50ID0gYmluZEV2ZW50KFxuICAgICAgdGhpcy5yZWFsV2ViU29ja2V0LFxuICAgICAgbmV3IENhbmNlbGFibGVDbG9zZUV2ZW50KFwiY2xvc2VcIiwge1xuICAgICAgICBjb2RlOiBldmVudC5jb2RlLFxuICAgICAgICByZWFzb246IGV2ZW50LnJlYXNvbixcbiAgICAgICAgd2FzQ2xlYW46IGV2ZW50Lndhc0NsZWFuLFxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICB9KVxuICAgICk7XG4gICAgdGhpc1trRW1pdHRlcjJdLmRpc3BhdGNoRXZlbnQoY2xvc2VFdmVudCk7XG4gICAgaWYgKCFjbG9zZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIHRoaXMuY2xpZW50W2tDbG9zZV0oZXZlbnQuY29kZSwgZXZlbnQucmVhc29uKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvV2ViU29ja2V0L1dlYlNvY2tldENsYXNzVHJhbnNwb3J0LnRzXG52YXIgV2ViU29ja2V0Q2xhc3NUcmFuc3BvcnQgPSBjbGFzcyBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgY29uc3RydWN0b3Ioc29ja2V0KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcbiAgICB0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoYmluZEV2ZW50KHRoaXMuc29ja2V0LCBuZXcgQ2xvc2VFdmVudChcImNsb3NlXCIsIGV2ZW50KSkpO1xuICAgIH0pO1xuICAgIHRoaXMuc29ja2V0W2tPblNlbmRdID0gKGRhdGEpID0+IHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgYmluZEV2ZW50KFxuICAgICAgICAgIHRoaXMuc29ja2V0LFxuICAgICAgICAgIC8vIERpc3BhdGNoIHRoaXMgYXMgY2FuY2VsYWJsZSBiZWNhdXNlIFwiY2xpZW50XCIgY29ubmVjdGlvblxuICAgICAgICAgIC8vIHJlLWNyZWF0ZXMgdGhpcyBtZXNzYWdlIGV2ZW50IChjYW5ub3QgZGlzcGF0Y2ggdGhlIHNhbWUgZXZlbnQpLlxuICAgICAgICAgIG5ldyBDYW5jZWxhYmxlTWVzc2FnZUV2ZW50KFwib3V0Z29pbmdcIiwge1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIG9yaWdpbjogdGhpcy5zb2NrZXQudXJsLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfTtcbiAgfVxuICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2ssIG9wdGlvbnMpO1xuICB9XG4gIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICByZXR1cm4gc3VwZXIuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH1cbiAgc2VuZChkYXRhKSB7XG4gICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc29ja2V0LnJlYWR5U3RhdGUgPT09IHRoaXMuc29ja2V0LkNMT1NJTkcgfHwgdGhpcy5zb2NrZXQucmVhZHlTdGF0ZSA9PT0gdGhpcy5zb2NrZXQuQ0xPU0VEKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpc3BhdGNoRXZlbnQgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMuc29ja2V0LmRpc3BhdGNoRXZlbnQoXG4gICAgICAgICAgYmluZEV2ZW50KFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAbm90ZSBTZXR0aW5nIHRoaXMgZXZlbnQncyBcInRhcmdldFwiIHRvIHRoZVxuICAgICAgICAgICAgICogV2ViU29ja2V0IG92ZXJyaWRlIGluc3RhbmNlIGlzIGltcG9ydGFudC5cbiAgICAgICAgICAgICAqIFRoaXMgd2F5IGl0IGNhbiB0ZWxsIGFwYXJ0IG9yaWdpbmFsIGluY29taW5nIGV2ZW50c1xuICAgICAgICAgICAgICogKG11c3QgYmUgZm9yd2FyZGVkIHRvIHRoZSB0cmFuc3BvcnQpIGZyb20gdGhlXG4gICAgICAgICAgICAgKiBtb2NrZWQgbWVzc2FnZSBldmVudHMgbGlrZSB0aGUgb25lIGJlbG93XG4gICAgICAgICAgICAgKiAobXVzdCBiZSBkaXNwYXRjaGVkIG9uIHRoZSBjbGllbnQgaW5zdGFuY2UpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLnNvY2tldCxcbiAgICAgICAgICAgIG5ldyBNZXNzYWdlRXZlbnQoXCJtZXNzYWdlXCIsIHtcbiAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgb3JpZ2luOiB0aGlzLnNvY2tldC51cmxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLnNvY2tldC5yZWFkeVN0YXRlID09PSB0aGlzLnNvY2tldC5DT05ORUNUSU5HKSB7XG4gICAgICAgIHRoaXMuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgXCJvcGVuXCIsXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgeyBvbmNlOiB0cnVlIH1cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BhdGNoRXZlbnQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjbG9zZShjb2RlLCByZWFzb24pIHtcbiAgICB0aGlzLnNvY2tldFtrQ2xvc2VdKGNvZGUsIHJlYXNvbik7XG4gIH1cbn07XG5cbi8vIHNyYy9pbnRlcmNlcHRvcnMvV2ViU29ja2V0L2luZGV4LnRzXG52YXIgX1dlYlNvY2tldEludGVyY2VwdG9yID0gY2xhc3MgZXh0ZW5kcyBJbnRlcmNlcHRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKF9XZWJTb2NrZXRJbnRlcmNlcHRvci5zeW1ib2wpO1xuICB9XG4gIGNoZWNrRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIGhhc0NvbmZpZ3VyYWJsZUdsb2JhbChcIldlYlNvY2tldFwiKTtcbiAgfVxuICBzZXR1cCgpIHtcbiAgICBjb25zdCBvcmlnaW5hbFdlYlNvY2tldERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgZ2xvYmFsVGhpcyxcbiAgICAgIFwiV2ViU29ja2V0XCJcbiAgICApO1xuICAgIGNvbnN0IFdlYlNvY2tldFByb3h5ID0gbmV3IFByb3h5KGdsb2JhbFRoaXMuV2ViU29ja2V0LCB7XG4gICAgICBjb25zdHJ1Y3Q6ICh0YXJnZXQsIGFyZ3MsIG5ld1RhcmdldCkgPT4ge1xuICAgICAgICBjb25zdCBbdXJsLCBwcm90b2NvbHNdID0gYXJncztcbiAgICAgICAgY29uc3QgY3JlYXRlQ29ubmVjdGlvbiA9ICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gUmVmbGVjdC5jb25zdHJ1Y3QodGFyZ2V0LCBhcmdzLCBuZXdUYXJnZXQpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzb2NrZXQgPSBuZXcgV2ViU29ja2V0T3ZlcnJpZGUodXJsLCBwcm90b2NvbHMpO1xuICAgICAgICBjb25zdCB0cmFuc3BvcnQgPSBuZXcgV2ViU29ja2V0Q2xhc3NUcmFuc3BvcnQoc29ja2V0KTtcbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXIgPSBuZXcgV2ViU29ja2V0U2VydmVyQ29ubmVjdGlvbihcbiAgICAgICAgICAgICAgc29ja2V0LFxuICAgICAgICAgICAgICB0cmFuc3BvcnQsXG4gICAgICAgICAgICAgIGNyZWF0ZUNvbm5lY3Rpb25cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCBoYXNDb25uZWN0aW9uTGlzdGVuZXJzID0gdGhpcy5lbWl0dGVyLmVtaXQoXCJjb25uZWN0aW9uXCIsIHtcbiAgICAgICAgICAgICAgY2xpZW50OiBuZXcgV2ViU29ja2V0Q2xpZW50Q29ubmVjdGlvbihzb2NrZXQsIHRyYW5zcG9ydCksXG4gICAgICAgICAgICAgIHNlcnZlcixcbiAgICAgICAgICAgICAgaW5mbzoge1xuICAgICAgICAgICAgICAgIHByb3RvY29sc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChoYXNDb25uZWN0aW9uTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgIHNvY2tldFtrUGFzc3Rocm91Z2hQcm9taXNlXS5yZXNvbHZlKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNvY2tldFtrUGFzc3Rocm91Z2hQcm9taXNlXS5yZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICBzZXJ2ZXIuY29ubmVjdCgpO1xuICAgICAgICAgICAgICBzZXJ2ZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNvY2tldC5kaXNwYXRjaEV2ZW50KGJpbmRFdmVudChzb2NrZXQsIG5ldyBFdmVudChcIm9wZW5cIikpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmVyW1wicmVhbFdlYlNvY2tldFwiXSkge1xuICAgICAgICAgICAgICAgICAgc29ja2V0LnByb3RvY29sID0gc2VydmVyW1wicmVhbFdlYlNvY2tldFwiXS5wcm90b2NvbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICBzb2NrZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJlcnJvclwiKSk7XG4gICAgICAgICAgICAgIGlmIChzb2NrZXQucmVhZHlTdGF0ZSAhPT0gV2ViU29ja2V0LkNMT1NJTkcgJiYgc29ja2V0LnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5DTE9TRUQpIHtcbiAgICAgICAgICAgICAgICBzb2NrZXRba0Nsb3NlXSgxMDExLCBlcnJvci5tZXNzYWdlLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNvY2tldDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcywgXCJXZWJTb2NrZXRcIiwge1xuICAgICAgdmFsdWU6IFdlYlNvY2tldFByb3h5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICBnbG9iYWxUaGlzLFxuICAgICAgICBcIldlYlNvY2tldFwiLFxuICAgICAgICBvcmlnaW5hbFdlYlNvY2tldERlc2NyaXB0b3JcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn07XG52YXIgV2ViU29ja2V0SW50ZXJjZXB0b3IgPSBfV2ViU29ja2V0SW50ZXJjZXB0b3I7XG5XZWJTb2NrZXRJbnRlcmNlcHRvci5zeW1ib2wgPSBTeW1ib2woXCJ3ZWJzb2NrZXRcIik7XG5leHBvcnQge1xuICBXZWJTb2NrZXRDbGllbnRDb25uZWN0aW9uLFxuICBXZWJTb2NrZXRJbnRlcmNlcHRvcixcbiAgV2ViU29ja2V0U2VydmVyQ29ubmVjdGlvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@mswjs/interceptors/lib/browser/interceptors/WebSocket/index.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/@open-draft/deferred-promise/build/index.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!*******************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/@open-draft/deferred-promise/build/index.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \*******************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeferredPromise: () =&gt; (/* binding */ DeferredPromise),\n/* harmony export */   createDeferredExecutor: () =&gt; (/* binding */ createDeferredExecutor)\n/* harmony export */ });\n// src/createDeferredExecutor.ts\nfunction createDeferredExecutor() {\n  const executor = (resolve, reject) =&gt; {\n    executor.state = \"pending\";\n    executor.resolve = (data) =&gt; {\n      if (executor.state !== \"pending\") {\n        return;\n      }\n      executor.result = data;\n      const onFulfilled = (value) =&gt; {\n        executor.state = \"fulfilled\";\n        return value;\n      };\n      return resolve(\n        data instanceof Promise ? data : Promise.resolve(data).then(onFulfilled)\n      );\n    };\n    executor.reject = (reason) =&gt; {\n      if (executor.state !== \"pending\") {\n        return;\n      }\n      queueMicrotask(() =&gt; {\n        executor.state = \"rejected\";\n      });\n      return reject(executor.rejectionReason = reason);\n    };\n  };\n  return executor;\n}\n\n// src/DeferredPromise.ts\nvar DeferredPromise = class extends Promise {\n  #executor;\n  resolve;\n  reject;\n  constructor(executor = null) {\n    const deferredExecutor = createDeferredExecutor();\n    super((originalResolve, originalReject) =&gt; {\n      deferredExecutor(originalResolve, originalReject);\n      executor?.(deferredExecutor.resolve, deferredExecutor.reject);\n    });\n    this.#executor = deferredExecutor;\n    this.resolve = this.#executor.resolve;\n    this.reject = this.#executor.reject;\n  }\n  get state() {\n    return this.#executor.state;\n  }\n  get rejectionReason() {\n    return this.#executor.rejectionReason;\n  }\n  then(onFulfilled, onRejected) {\n    return this.#decorate(super.then(onFulfilled, onRejected));\n  }\n  catch(onRejected) {\n    return this.#decorate(super.catch(onRejected));\n  }\n  finally(onfinally) {\n    return this.#decorate(super.finally(onfinally));\n  }\n  #decorate(promise) {\n    return Object.defineProperties(promise, {\n      resolve: { configurable: true, value: this.resolve },\n      reject: { configurable: true, value: this.reject }\n    });\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3Blbi1kcmFmdC9kZWZlcnJlZC1wcm9taXNlL2J1aWxkL2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIseUNBQXlDO0FBQzFELGdCQUFnQjtBQUNoQixLQUFLO0FBQ0w7QUFDQTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BvcGVuLWRyYWZ0L2RlZmVycmVkLXByb21pc2UvYnVpbGQvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jcmVhdGVEZWZlcnJlZEV4ZWN1dG9yLnRzXG5mdW5jdGlvbiBjcmVhdGVEZWZlcnJlZEV4ZWN1dG9yKCkge1xuICBjb25zdCBleGVjdXRvciA9IChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBleGVjdXRvci5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgIGV4ZWN1dG9yLnJlc29sdmUgPSAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGV4ZWN1dG9yLnN0YXRlICE9PSBcInBlbmRpbmdcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBleGVjdXRvci5yZXN1bHQgPSBkYXRhO1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSAodmFsdWUpID0+IHtcbiAgICAgICAgZXhlY3V0b3Iuc3RhdGUgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc29sdmUoXG4gICAgICAgIGRhdGEgaW5zdGFuY2VvZiBQcm9taXNlID8gZGF0YSA6IFByb21pc2UucmVzb2x2ZShkYXRhKS50aGVuKG9uRnVsZmlsbGVkKVxuICAgICAgKTtcbiAgICB9O1xuICAgIGV4ZWN1dG9yLnJlamVjdCA9IChyZWFzb24pID0+IHtcbiAgICAgIGlmIChleGVjdXRvci5zdGF0ZSAhPT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICBleGVjdXRvci5zdGF0ZSA9IFwicmVqZWN0ZWRcIjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlamVjdChleGVjdXRvci5yZWplY3Rpb25SZWFzb24gPSByZWFzb24pO1xuICAgIH07XG4gIH07XG4gIHJldHVybiBleGVjdXRvcjtcbn1cblxuLy8gc3JjL0RlZmVycmVkUHJvbWlzZS50c1xudmFyIERlZmVycmVkUHJvbWlzZSA9IGNsYXNzIGV4dGVuZHMgUHJvbWlzZSB7XG4gICNleGVjdXRvcjtcbiAgcmVzb2x2ZTtcbiAgcmVqZWN0O1xuICBjb25zdHJ1Y3RvcihleGVjdXRvciA9IG51bGwpIHtcbiAgICBjb25zdCBkZWZlcnJlZEV4ZWN1dG9yID0gY3JlYXRlRGVmZXJyZWRFeGVjdXRvcigpO1xuICAgIHN1cGVyKChvcmlnaW5hbFJlc29sdmUsIG9yaWdpbmFsUmVqZWN0KSA9PiB7XG4gICAgICBkZWZlcnJlZEV4ZWN1dG9yKG9yaWdpbmFsUmVzb2x2ZSwgb3JpZ2luYWxSZWplY3QpO1xuICAgICAgZXhlY3V0b3I/LihkZWZlcnJlZEV4ZWN1dG9yLnJlc29sdmUsIGRlZmVycmVkRXhlY3V0b3IucmVqZWN0KTtcbiAgICB9KTtcbiAgICB0aGlzLiNleGVjdXRvciA9IGRlZmVycmVkRXhlY3V0b3I7XG4gICAgdGhpcy5yZXNvbHZlID0gdGhpcy4jZXhlY3V0b3IucmVzb2x2ZTtcbiAgICB0aGlzLnJlamVjdCA9IHRoaXMuI2V4ZWN1dG9yLnJlamVjdDtcbiAgfVxuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2V4ZWN1dG9yLnN0YXRlO1xuICB9XG4gIGdldCByZWplY3Rpb25SZWFzb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuI2V4ZWN1dG9yLnJlamVjdGlvblJlYXNvbjtcbiAgfVxuICB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMuI2RlY29yYXRlKHN1cGVyLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpKTtcbiAgfVxuICBjYXRjaChvblJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMuI2RlY29yYXRlKHN1cGVyLmNhdGNoKG9uUmVqZWN0ZWQpKTtcbiAgfVxuICBmaW5hbGx5KG9uZmluYWxseSkge1xuICAgIHJldHVybiB0aGlzLiNkZWNvcmF0ZShzdXBlci5maW5hbGx5KG9uZmluYWxseSkpO1xuICB9XG4gICNkZWNvcmF0ZShwcm9taXNlKSB7XG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHByb21pc2UsIHtcbiAgICAgIHJlc29sdmU6IHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGhpcy5yZXNvbHZlIH0sXG4gICAgICByZWplY3Q6IHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGhpcy5yZWplY3QgfVxuICAgIH0pO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgRGVmZXJyZWRQcm9taXNlLFxuICBjcmVhdGVEZWZlcnJlZEV4ZWN1dG9yXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@open-draft/deferred-promise/build/index.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/@open-draft/until/lib/index.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!******************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/@open-draft/until/lib/index.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \******************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   until: () =&gt; (/* binding */ until)\n/* harmony export */ });\n// src/until.ts\nvar until = async (promise) =&gt; {\n  try {\n    const data = await promise().catch((error) =&gt; {\n      throw error;\n    });\n    return { error: null, data };\n  } catch (error) {\n    return { error, data: null };\n  }\n};\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3Blbi1kcmFmdC91bnRpbC9saWIvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWE7QUFDYixJQUFJO0FBQ0osYUFBYTtBQUNiO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvaGVjdG9yemVhL2Rldi9mcm9udGJ1aWxkL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9Ab3Blbi1kcmFmdC91bnRpbC9saWIvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91bnRpbC50c1xudmFyIHVudGlsID0gYXN5bmMgKHByb21pc2UpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcHJvbWlzZSgpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwsIGRhdGEgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvciwgZGF0YTogbnVsbCB9O1xuICB9XG59O1xuZXhwb3J0IHtcbiAgdW50aWxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@open-draft/until/lib/index.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/browser/index.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/browser/index.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SetupWorkerApi: () =&gt; (/* binding */ SetupWorkerApi),\n/* harmony export */   setupWorker: () =&gt; (/* binding */ setupWorker)\n/* harmony export */ });\n/* harmony import */ var _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/utils/internal/devUtils.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\");\n/* harmony import */ var _core_handlers_RequestHandler_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/handlers/RequestHandler.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/handlers/RequestHandler.mjs\");\n/* harmony import */ var _core_utils_handleRequest_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils/handleRequest.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/handleRequest.mjs\");\n/* harmony import */ var _core_utils_toResponseInit_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/utils/toResponseInit.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/toResponseInit.mjs\");\n/* harmony import */ var _core_utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/utils/internal/isHandlerKind.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs\");\n/* harmony import */ var _core_SetupApi_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/SetupApi.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/SetupApi.mjs\");\n/* harmony import */ var _core_utils_internal_mergeRight_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/utils/internal/mergeRight.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/mergeRight.mjs\");\n/* harmony import */ var _core_ws_webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/ws/webSocketInterceptor.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs\");\n/* harmony import */ var _core_ws_handleWebSocketEvent_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/ws/handleWebSocketEvent.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/ws/handleWebSocketEvent.mjs\");\n/* harmony import */ var _core_ws_utils_attachWebSocketLogger_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/ws/utils/attachWebSocketLogger.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/attachWebSocketLogger.mjs\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n// node_modules/.pnpm/outvariant@1.4.3/node_modules/outvariant/lib/index.mjs\nvar POSITIONALS_EXP = /(%?)(%([sdijo]))/g;\nfunction serializePositional(positional, flag) {\n  switch (flag) {\n    case \"s\":\n      return positional;\n    case \"d\":\n    case \"i\":\n      return Number(positional);\n    case \"j\":\n      return JSON.stringify(positional);\n    case \"o\": {\n      if (typeof positional === \"string\") {\n        return positional;\n      }\n      const json = JSON.stringify(positional);\n      if (json === \"{}\" || json === \"[]\" || /^\\[object .+?\\]$/.test(json)) {\n        return positional;\n      }\n      return json;\n    }\n  }\n}\nfunction format(message, ...positionals) {\n  if (positionals.length === 0) {\n    return message;\n  }\n  let positionalIndex = 0;\n  let formattedMessage = message.replace(\n    POSITIONALS_EXP,\n    (match, isEscaped, _, flag) =&gt; {\n      const positional = positionals[positionalIndex];\n      const value = serializePositional(positional, flag);\n      if (!isEscaped) {\n        positionalIndex++;\n        return value;\n      }\n      return match;\n    }\n  );\n  if (positionalIndex &lt; positionals.length) {\n    formattedMessage += ` ${positionals.slice(positionalIndex).join(\" \")}`;\n  }\n  formattedMessage = formattedMessage.replace(/%{2,2}/g, \"%\");\n  return formattedMessage;\n}\nvar STACK_FRAMES_TO_IGNORE = 2;\nfunction cleanErrorStack(error2) {\n  if (!error2.stack) {\n    return;\n  }\n  const nextStack = error2.stack.split(\"\\n\");\n  nextStack.splice(1, STACK_FRAMES_TO_IGNORE);\n  error2.stack = nextStack.join(\"\\n\");\n}\nvar InvariantError = class extends Error {\n  constructor(message, ...positionals) {\n    super(message);\n    this.message = message;\n    this.name = \"Invariant Violation\";\n    this.message = format(message, ...positionals);\n    cleanErrorStack(this);\n  }\n};\nvar invariant = (predicate, message, ...positionals) =&gt; {\n  if (!predicate) {\n    throw new InvariantError(message, ...positionals);\n  }\n};\ninvariant.as = (ErrorConstructor, predicate, message, ...positionals) =&gt; {\n  if (!predicate) {\n    const formatMessage = positionals.length === 0 ? message : format(message, ...positionals);\n    let error2;\n    try {\n      error2 = Reflect.construct(ErrorConstructor, [\n        formatMessage\n      ]);\n    } catch (err) {\n      error2 = ErrorConstructor(formatMessage);\n    }\n    throw error2;\n  }\n};\n\n// node_modules/.pnpm/is-node-process@1.2.0/node_modules/is-node-process/lib/index.mjs\nfunction isNodeProcess() {\n  if (typeof navigator !== \"undefined\" &amp;&amp; navigator.product === \"ReactNative\") {\n    return true;\n  }\n  if (typeof process !== \"undefined\") {\n    const type = process.type;\n    if (type === \"renderer\" || type === \"worker\") {\n      return false;\n    }\n    return !!(process.versions &amp;&amp; process.versions.node);\n  }\n  return false;\n}\n\n// src/browser/setupWorker/start/createStartHandler.ts\n\n\n// node_modules/.pnpm/@open-draft+until@2.1.0/node_modules/@open-draft/until/lib/index.mjs\nvar until = async (promise) =&gt; {\n  try {\n    const data = await promise().catch((error2) =&gt; {\n      throw error2;\n    });\n    return { error: null, data };\n  } catch (error2) {\n    return { error: error2, data: null };\n  }\n};\n\n// src/browser/setupWorker/start/utils/getWorkerInstance.ts\n\n\n// src/browser/utils/getAbsoluteWorkerUrl.ts\nfunction getAbsoluteWorkerUrl(workerUrl) {\n  return new URL(workerUrl, location.href).href;\n}\n\n// src/browser/setupWorker/start/utils/getWorkerByRegistration.ts\nfunction getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker) {\n  const allStates = [\n    registration.active,\n    registration.installing,\n    registration.waiting\n  ];\n  const relevantStates = allStates.filter((state) =&gt; {\n    return state != null;\n  });\n  const worker = relevantStates.find((worker2) =&gt; {\n    return findWorker(worker2.scriptURL, absoluteWorkerUrl);\n  });\n  return worker || null;\n}\n\n// src/browser/setupWorker/start/utils/getWorkerInstance.ts\nvar getWorkerInstance = async (url, options = {}, findWorker) =&gt; {\n  const absoluteWorkerUrl = getAbsoluteWorkerUrl(url);\n  const mockRegistrations = await navigator.serviceWorker.getRegistrations().then(\n    (registrations) =&gt; registrations.filter(\n      (registration) =&gt; getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker)\n    )\n  );\n  if (!navigator.serviceWorker.controller &amp;&amp; mockRegistrations.length &gt; 0) {\n    location.reload();\n  }\n  const [existingRegistration] = mockRegistrations;\n  if (existingRegistration) {\n    existingRegistration.update();\n    return [\n      getWorkerByRegistration(\n        existingRegistration,\n        absoluteWorkerUrl,\n        findWorker\n      ),\n      existingRegistration\n    ];\n  }\n  const registrationResult = await until(\n    async () =&gt; {\n      const registration = await navigator.serviceWorker.register(url, options);\n      return [\n        // Compare existing worker registration by its worker URL,\n        // to prevent irrelevant workers to resolve here (such as Codesandbox worker).\n        getWorkerByRegistration(registration, absoluteWorkerUrl, findWorker),\n        registration\n      ];\n    }\n  );\n  if (registrationResult.error) {\n    const isWorkerMissing = registrationResult.error.message.includes(\"(404)\");\n    if (isWorkerMissing) {\n      const scopeUrl = new URL(options?.scope || \"/\", location.href);\n      throw new Error(\n        _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(`Failed to register a Service Worker for scope ('${scopeUrl.href}') with script ('${absoluteWorkerUrl}'): Service Worker script does not exist at the given path.\n\nDid you forget to run \"npx msw init &lt;PUBLIC_DIR&gt;\"?\n\nLearn more about creating the Service Worker script: https://mswjs.io/docs/cli/init`)\n      );\n    }\n    throw new Error(\n      _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\n        \"Failed to register the Service Worker:\\n\\n%s\",\n        registrationResult.error.message\n      )\n    );\n  }\n  return registrationResult.data;\n};\n\n// src/browser/setupWorker/start/utils/enableMocking.ts\n\n\n// src/browser/setupWorker/start/utils/printStartMessage.ts\n\nfunction printStartMessage(args = {}) {\n  if (args.quiet) {\n    return;\n  }\n  const message = args.message || \"Mocking enabled.\";\n  console.groupCollapsed(\n    `%c${_core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(message)}`,\n    \"color:orangered;font-weight:bold;\"\n  );\n  console.log(\n    \"%cDocumentation: %chttps://mswjs.io/docs\",\n    \"font-weight:bold\",\n    \"font-weight:normal\"\n  );\n  console.log(\"Found an issue? https://github.com/mswjs/msw/issues\");\n  if (args.workerUrl) {\n    console.log(\"Worker script URL:\", args.workerUrl);\n  }\n  if (args.workerScope) {\n    console.log(\"Worker scope:\", args.workerScope);\n  }\n  if (args.client) {\n    console.log(\"Client ID: %s (%s)\", args.client.id, args.client.frameType);\n  }\n  console.groupEnd();\n}\n\n// src/browser/setupWorker/start/utils/enableMocking.ts\nasync function enableMocking(context, options) {\n  context.workerChannel.send(\"MOCK_ACTIVATE\");\n  const { payload } = await context.events.once(\"MOCKING_ENABLED\");\n  if (context.isMockingEnabled) {\n    _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n      `Found a redundant \"worker.start()\" call. Note that starting the worker while mocking is already enabled will have no effect. Consider removing this \"worker.start()\" call.`\n    );\n    return;\n  }\n  context.isMockingEnabled = true;\n  printStartMessage({\n    quiet: options.quiet,\n    workerScope: context.registration?.scope,\n    workerUrl: context.worker?.scriptURL,\n    client: payload.client\n  });\n}\n\n// src/browser/setupWorker/start/utils/createMessageChannel.ts\nvar WorkerChannel = class {\n  constructor(port) {\n    this.port = port;\n  }\n  postMessage(event, ...rest) {\n    const [data, transfer] = rest;\n    this.port.postMessage({ type: event, data }, { transfer });\n  }\n};\n\n// src/browser/utils/pruneGetRequestBody.ts\nfunction pruneGetRequestBody(request) {\n  if ([\"HEAD\", \"GET\"].includes(request.method)) {\n    return void 0;\n  }\n  return request.body;\n}\n\n// src/browser/utils/parseWorkerRequest.ts\nfunction parseWorkerRequest(incomingRequest) {\n  return new Request(incomingRequest.url, {\n    ...incomingRequest,\n    body: pruneGetRequestBody(incomingRequest)\n  });\n}\n\n// src/browser/setupWorker/start/createRequestListener.ts\n\n\n\n\n\nvar createRequestListener = (context, options) =&gt; {\n  return async (event, message) =&gt; {\n    const messageChannel = new WorkerChannel(event.ports[0]);\n    const requestId = message.payload.id;\n    const request = parseWorkerRequest(message.payload);\n    const requestCloneForLogs = request.clone();\n    const requestClone = request.clone();\n    _core_handlers_RequestHandler_mjs__WEBPACK_IMPORTED_MODULE_1__.RequestHandler.cache.set(request, requestClone);\n    context.requests.set(requestId, requestClone);\n    try {\n      await (0,_core_utils_handleRequest_mjs__WEBPACK_IMPORTED_MODULE_2__.handleRequest)(\n        request,\n        requestId,\n        context.getRequestHandlers().filter((0,_core_utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_3__.isHandlerKind)(\"RequestHandler\")),\n        options,\n        context.emitter,\n        {\n          onPassthroughResponse() {\n            messageChannel.postMessage(\"PASSTHROUGH\");\n          },\n          async onMockedResponse(response, { handler, parsedResult }) {\n            const responseClone = response.clone();\n            const responseCloneForLogs = response.clone();\n            const responseInit = (0,_core_utils_toResponseInit_mjs__WEBPACK_IMPORTED_MODULE_4__.toResponseInit)(response);\n            if (context.supports.readableStreamTransfer) {\n              const responseStreamOrNull = response.body;\n              messageChannel.postMessage(\n                \"MOCK_RESPONSE\",\n                {\n                  ...responseInit,\n                  body: responseStreamOrNull\n                },\n                responseStreamOrNull ? [responseStreamOrNull] : void 0\n              );\n            } else {\n              const responseBufferOrNull = response.body === null ? null : await responseClone.arrayBuffer();\n              messageChannel.postMessage(\"MOCK_RESPONSE\", {\n                ...responseInit,\n                body: responseBufferOrNull\n              });\n            }\n            if (!options.quiet) {\n              context.emitter.once(\"response:mocked\", () =&gt; {\n                handler.log({\n                  request: requestCloneForLogs,\n                  response: responseCloneForLogs,\n                  parsedResult\n                });\n              });\n            }\n          }\n        }\n      );\n    } catch (error2) {\n      if (error2 instanceof Error) {\n        _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.error(\n          `Uncaught exception in the request handler for \"%s %s\":\n\n%s\n\nThis exception has been gracefully handled as a 500 response, however, it's strongly recommended to resolve this error, as it indicates a mistake in your code. If you wish to mock an error response, please see this guide: https://mswjs.io/docs/recipes/mocking-error-responses`,\n          request.method,\n          request.url,\n          error2.stack ?? error2\n        );\n        messageChannel.postMessage(\"MOCK_RESPONSE\", {\n          status: 500,\n          statusText: \"Request Handler Error\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            name: error2.name,\n            message: error2.message,\n            stack: error2.stack\n          })\n        });\n      }\n    }\n  };\n};\n\n// src/browser/utils/checkWorkerIntegrity.ts\n\nasync function checkWorkerIntegrity(context) {\n  context.workerChannel.send(\"INTEGRITY_CHECK_REQUEST\");\n  const { payload } = await context.events.once(\"INTEGRITY_CHECK_RESPONSE\");\n  if (payload.checksum !== \"00729d72e3b82faf54ca8b9621dbb96f\") {\n    _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n      `The currently registered Service Worker has been generated by a different version of MSW (${payload.packageVersion}) and may not be fully compatible with the installed version.\n\nIt's recommended you update your worker script by running this command:\n\n  \\u2022 npx msw init &lt;PUBLIC_DIR&gt;\n\nYou can also automate this process and make the worker script update automatically upon the library installations. Read more: https://mswjs.io/docs/cli/init.`\n    );\n  }\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.37.1/node_modules/@mswjs/interceptors/lib/browser/chunk-6HYIRFX2.mjs\nvar encoder = new TextEncoder();\nfunction encodeBuffer(text) {\n  return encoder.encode(text);\n}\nfunction decodeBuffer(buffer, encoding) {\n  const decoder = new TextDecoder(encoding);\n  return decoder.decode(buffer);\n}\nfunction toArrayBuffer(array) {\n  return array.buffer.slice(\n    array.byteOffset,\n    array.byteOffset + array.byteLength\n  );\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.37.1/node_modules/@mswjs/interceptors/lib/browser/chunk-F4BN745U.mjs\nvar IS_PATCHED_MODULE = Symbol(\"isPatchedModule\");\nvar _FetchResponse = class extends Response {\n  static isConfigurableStatusCode(status) {\n    return status &gt;= 200 &amp;&amp; status &lt;= 599;\n  }\n  static isRedirectResponse(status) {\n    return _FetchResponse.STATUS_CODES_WITH_REDIRECT.includes(status);\n  }\n  /**\n   * Returns a boolean indicating whether the given response status\n   * code represents a response that can have a body.\n   */\n  static isResponseWithBody(status) {\n    return !_FetchResponse.STATUS_CODES_WITHOUT_BODY.includes(status);\n  }\n  static setUrl(url, response) {\n    if (!url) {\n      return;\n    }\n    if (response.url != \"\") {\n      return;\n    }\n    Object.defineProperty(response, \"url\", {\n      value: url,\n      enumerable: true,\n      configurable: true,\n      writable: false\n    });\n  }\n  constructor(body, init = {}) {\n    var _a;\n    const status = (_a = init.status) != null ? _a : 200;\n    const safeStatus = _FetchResponse.isConfigurableStatusCode(status) ? status : 200;\n    const finalBody = _FetchResponse.isResponseWithBody(status) ? body : null;\n    super(finalBody, {\n      ...init,\n      status: safeStatus\n    });\n    if (status !== safeStatus) {\n      const stateSymbol = Object.getOwnPropertySymbols(this).find(\n        (symbol) =&gt; symbol.description === \"state\"\n      );\n      if (stateSymbol) {\n        const state = Reflect.get(this, stateSymbol);\n        Reflect.set(state, \"status\", status);\n      } else {\n        Object.defineProperty(this, \"status\", {\n          value: status,\n          enumerable: true,\n          configurable: true,\n          writable: false\n        });\n      }\n    }\n    _FetchResponse.setUrl(init.url, this);\n  }\n};\nvar FetchResponse = _FetchResponse;\nFetchResponse.STATUS_CODES_WITHOUT_BODY = [101, 103, 204, 205, 304];\nFetchResponse.STATUS_CODES_WITH_REDIRECT = [301, 302, 303, 307, 308];\n\n// node_modules/.pnpm/@open-draft+logger@0.3.0/node_modules/@open-draft/logger/lib/index.mjs\nvar __defProp = Object.defineProperty;\nvar __export = (target, all) =&gt; {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar colors_exports = {};\n__export(colors_exports, {\n  blue: () =&gt; blue,\n  gray: () =&gt; gray,\n  green: () =&gt; green,\n  red: () =&gt; red,\n  yellow: () =&gt; yellow\n});\nfunction yellow(text) {\n  return `\\x1B[33m${text}\\x1B[0m`;\n}\nfunction blue(text) {\n  return `\\x1B[34m${text}\\x1B[0m`;\n}\nfunction gray(text) {\n  return `\\x1B[90m${text}\\x1B[0m`;\n}\nfunction red(text) {\n  return `\\x1B[31m${text}\\x1B[0m`;\n}\nfunction green(text) {\n  return `\\x1B[32m${text}\\x1B[0m`;\n}\nvar IS_NODE = isNodeProcess();\nvar Logger = class {\n  constructor(name) {\n    this.name = name;\n    this.prefix = `[${this.name}]`;\n    const LOGGER_NAME = getVariable(\"DEBUG\");\n    const LOGGER_LEVEL = getVariable(\"LOG_LEVEL\");\n    const isLoggingEnabled = LOGGER_NAME === \"1\" || LOGGER_NAME === \"true\" || typeof LOGGER_NAME !== \"undefined\" &amp;&amp; this.name.startsWith(LOGGER_NAME);\n    if (isLoggingEnabled) {\n      this.debug = isDefinedAndNotEquals(LOGGER_LEVEL, \"debug\") ? noop : this.debug;\n      this.info = isDefinedAndNotEquals(LOGGER_LEVEL, \"info\") ? noop : this.info;\n      this.success = isDefinedAndNotEquals(LOGGER_LEVEL, \"success\") ? noop : this.success;\n      this.warning = isDefinedAndNotEquals(LOGGER_LEVEL, \"warning\") ? noop : this.warning;\n      this.error = isDefinedAndNotEquals(LOGGER_LEVEL, \"error\") ? noop : this.error;\n    } else {\n      this.info = noop;\n      this.success = noop;\n      this.warning = noop;\n      this.error = noop;\n      this.only = noop;\n    }\n  }\n  prefix;\n  extend(domain) {\n    return new Logger(`${this.name}:${domain}`);\n  }\n  /**\n   * Print a debug message.\n   * @example\n   * logger.debug('no duplicates found, creating a document...')\n   */\n  debug(message, ...positionals) {\n    this.logEntry({\n      level: \"debug\",\n      message: gray(message),\n      positionals,\n      prefix: this.prefix,\n      colors: {\n        prefix: \"gray\"\n      }\n    });\n  }\n  /**\n   * Print an info message.\n   * @example\n   * logger.info('start parsing...')\n   */\n  info(message, ...positionals) {\n    this.logEntry({\n      level: \"info\",\n      message,\n      positionals,\n      prefix: this.prefix,\n      colors: {\n        prefix: \"blue\"\n      }\n    });\n    const performance2 = new PerformanceEntry();\n    return (message2, ...positionals2) =&gt; {\n      performance2.measure();\n      this.logEntry({\n        level: \"info\",\n        message: `${message2} ${gray(`${performance2.deltaTime}ms`)}`,\n        positionals: positionals2,\n        prefix: this.prefix,\n        colors: {\n          prefix: \"blue\"\n        }\n      });\n    };\n  }\n  /**\n   * Print a success message.\n   * @example\n   * logger.success('successfully created document')\n   */\n  success(message, ...positionals) {\n    this.logEntry({\n      level: \"info\",\n      message,\n      positionals,\n      prefix: `\\u2714 ${this.prefix}`,\n      colors: {\n        timestamp: \"green\",\n        prefix: \"green\"\n      }\n    });\n  }\n  /**\n   * Print a warning.\n   * @example\n   * logger.warning('found legacy document format')\n   */\n  warning(message, ...positionals) {\n    this.logEntry({\n      level: \"warning\",\n      message,\n      positionals,\n      prefix: `\\u26A0 ${this.prefix}`,\n      colors: {\n        timestamp: \"yellow\",\n        prefix: \"yellow\"\n      }\n    });\n  }\n  /**\n   * Print an error message.\n   * @example\n   * logger.error('something went wrong')\n   */\n  error(message, ...positionals) {\n    this.logEntry({\n      level: \"error\",\n      message,\n      positionals,\n      prefix: `\\u2716 ${this.prefix}`,\n      colors: {\n        timestamp: \"red\",\n        prefix: \"red\"\n      }\n    });\n  }\n  /**\n   * Execute the given callback only when the logging is enabled.\n   * This is skipped in its entirety and has no runtime cost otherwise.\n   * This executes regardless of the log level.\n   * @example\n   * logger.only(() =&gt; {\n   *   logger.info('additional info')\n   * })\n   */\n  only(callback) {\n    callback();\n  }\n  createEntry(level, message) {\n    return {\n      timestamp: /* @__PURE__ */ new Date(),\n      level,\n      message\n    };\n  }\n  logEntry(args) {\n    const {\n      level,\n      message,\n      prefix,\n      colors: customColors,\n      positionals = []\n    } = args;\n    const entry = this.createEntry(level, message);\n    const timestampColor = customColors?.timestamp || \"gray\";\n    const prefixColor = customColors?.prefix || \"gray\";\n    const colorize = {\n      timestamp: colors_exports[timestampColor],\n      prefix: colors_exports[prefixColor]\n    };\n    const write = this.getWriter(level);\n    write(\n      [colorize.timestamp(this.formatTimestamp(entry.timestamp))].concat(prefix != null ? colorize.prefix(prefix) : []).concat(serializeInput(message)).join(\" \"),\n      ...positionals.map(serializeInput)\n    );\n  }\n  formatTimestamp(timestamp) {\n    return `${timestamp.toLocaleTimeString(\n      \"en-GB\"\n    )}:${timestamp.getMilliseconds()}`;\n  }\n  getWriter(level) {\n    switch (level) {\n      case \"debug\":\n      case \"success\":\n      case \"info\": {\n        return log;\n      }\n      case \"warning\": {\n        return warn;\n      }\n      case \"error\": {\n        return error;\n      }\n    }\n  }\n};\nvar PerformanceEntry = class {\n  startTime;\n  endTime;\n  deltaTime;\n  constructor() {\n    this.startTime = performance.now();\n  }\n  measure() {\n    this.endTime = performance.now();\n    const deltaTime = this.endTime - this.startTime;\n    this.deltaTime = deltaTime.toFixed(2);\n  }\n};\nvar noop = () =&gt; void 0;\nfunction log(message, ...positionals) {\n  if (IS_NODE) {\n    process.stdout.write(format(message, ...positionals) + \"\\n\");\n    return;\n  }\n  console.log(message, ...positionals);\n}\nfunction warn(message, ...positionals) {\n  if (IS_NODE) {\n    process.stderr.write(format(message, ...positionals) + \"\\n\");\n    return;\n  }\n  console.warn(message, ...positionals);\n}\nfunction error(message, ...positionals) {\n  if (IS_NODE) {\n    process.stderr.write(format(message, ...positionals) + \"\\n\");\n    return;\n  }\n  console.error(message, ...positionals);\n}\nfunction getVariable(variableName) {\n  if (IS_NODE) {\n    return process.env[variableName];\n  }\n  return globalThis[variableName]?.toString();\n}\nfunction isDefinedAndNotEquals(value, expected) {\n  return value !== void 0 &amp;&amp; value !== expected;\n}\nfunction serializeInput(message) {\n  if (typeof message === \"undefined\") {\n    return \"undefined\";\n  }\n  if (message === null) {\n    return \"null\";\n  }\n  if (typeof message === \"string\") {\n    return message;\n  }\n  if (typeof message === \"object\") {\n    return JSON.stringify(message);\n  }\n  return message.toString();\n}\n\n// node_modules/.pnpm/strict-event-emitter@0.5.1/node_modules/strict-event-emitter/lib/index.mjs\nvar MemoryLeakError = class extends Error {\n  constructor(emitter, type, count) {\n    super(\n      `Possible EventEmitter memory leak detected. ${count} ${type.toString()} listeners added. Use emitter.setMaxListeners() to increase limit`\n    );\n    this.emitter = emitter;\n    this.type = type;\n    this.count = count;\n    this.name = \"MaxListenersExceededWarning\";\n  }\n};\nvar _Emitter = class {\n  static listenerCount(emitter, eventName) {\n    return emitter.listenerCount(eventName);\n  }\n  constructor() {\n    this.events = /* @__PURE__ */ new Map();\n    this.maxListeners = _Emitter.defaultMaxListeners;\n    this.hasWarnedAboutPotentialMemoryLeak = false;\n  }\n  _emitInternalEvent(internalEventName, eventName, listener) {\n    this.emit(\n      internalEventName,\n      ...[eventName, listener]\n    );\n  }\n  _getListeners(eventName) {\n    return Array.prototype.concat.apply([], this.events.get(eventName)) || [];\n  }\n  _removeListener(listeners, listener) {\n    const index = listeners.indexOf(listener);\n    if (index &gt; -1) {\n      listeners.splice(index, 1);\n    }\n    return [];\n  }\n  _wrapOnceListener(eventName, listener) {\n    const onceListener = (...data) =&gt; {\n      this.removeListener(eventName, onceListener);\n      return listener.apply(this, data);\n    };\n    Object.defineProperty(onceListener, \"name\", { value: listener.name });\n    return onceListener;\n  }\n  setMaxListeners(maxListeners) {\n    this.maxListeners = maxListeners;\n    return this;\n  }\n  /**\n   * Returns the current max listener value for the `Emitter` which is\n   * either set by `emitter.setMaxListeners(n)` or defaults to\n   * `Emitter.defaultMaxListeners`.\n   */\n  getMaxListeners() {\n    return this.maxListeners;\n  }\n  /**\n   * Returns an array listing the events for which the emitter has registered listeners.\n   * The values in the array will be strings or Symbols.\n   */\n  eventNames() {\n    return Array.from(this.events.keys());\n  }\n  /**\n   * Synchronously calls each of the listeners registered for the event named `eventName`,\n   * in the order they were registered, passing the supplied arguments to each.\n   * Returns `true` if the event has listeners, `false` otherwise.\n   *\n   * @example\n   * const emitter = new Emitter&lt;{ hello: [string] }&gt;()\n   * emitter.emit('hello', 'John')\n   */\n  emit(eventName, ...data) {\n    const listeners = this._getListeners(eventName);\n    listeners.forEach((listener) =&gt; {\n      listener.apply(this, data);\n    });\n    return listeners.length &gt; 0;\n  }\n  addListener(eventName, listener) {\n    this._emitInternalEvent(\"newListener\", eventName, listener);\n    const nextListeners = this._getListeners(eventName).concat(listener);\n    this.events.set(eventName, nextListeners);\n    if (this.maxListeners &gt; 0 &amp;&amp; this.listenerCount(eventName) &gt; this.maxListeners &amp;&amp; !this.hasWarnedAboutPotentialMemoryLeak) {\n      this.hasWarnedAboutPotentialMemoryLeak = true;\n      const memoryLeakWarning = new MemoryLeakError(\n        this,\n        eventName,\n        this.listenerCount(eventName)\n      );\n      console.warn(memoryLeakWarning);\n    }\n    return this;\n  }\n  on(eventName, listener) {\n    return this.addListener(eventName, listener);\n  }\n  once(eventName, listener) {\n    return this.addListener(\n      eventName,\n      this._wrapOnceListener(eventName, listener)\n    );\n  }\n  prependListener(eventName, listener) {\n    const listeners = this._getListeners(eventName);\n    if (listeners.length &gt; 0) {\n      const nextListeners = [listener].concat(listeners);\n      this.events.set(eventName, nextListeners);\n    } else {\n      this.events.set(eventName, listeners.concat(listener));\n    }\n    return this;\n  }\n  prependOnceListener(eventName, listener) {\n    return this.prependListener(\n      eventName,\n      this._wrapOnceListener(eventName, listener)\n    );\n  }\n  removeListener(eventName, listener) {\n    const listeners = this._getListeners(eventName);\n    if (listeners.length &gt; 0) {\n      this._removeListener(listeners, listener);\n      this.events.set(eventName, listeners);\n      this._emitInternalEvent(\"removeListener\", eventName, listener);\n    }\n    return this;\n  }\n  /**\n   * Alias for `emitter.removeListener()`.\n   *\n   * @example\n   * emitter.off('hello', listener)\n   */\n  off(eventName, listener) {\n    return this.removeListener(eventName, listener);\n  }\n  removeAllListeners(eventName) {\n    if (eventName) {\n      this.events.delete(eventName);\n    } else {\n      this.events.clear();\n    }\n    return this;\n  }\n  /**\n   * Returns a copy of the array of listeners for the event named `eventName`.\n   */\n  listeners(eventName) {\n    return Array.from(this._getListeners(eventName));\n  }\n  /**\n   * Returns the number of listeners listening to the event named `eventName`.\n   */\n  listenerCount(eventName) {\n    return this._getListeners(eventName).length;\n  }\n  rawListeners(eventName) {\n    return this.listeners(eventName);\n  }\n};\nvar Emitter = _Emitter;\nEmitter.defaultMaxListeners = 10;\n\n// node_modules/.pnpm/@mswjs+interceptors@0.37.1/node_modules/@mswjs/interceptors/lib/browser/chunk-QED3Q6Z2.mjs\nvar INTERNAL_REQUEST_ID_HEADER_NAME = \"x-interceptors-internal-request-id\";\nfunction getGlobalSymbol(symbol) {\n  return (\n    // @ts-ignore https://github.com/Microsoft/TypeScript/issues/24587\n    globalThis[symbol] || void 0\n  );\n}\nfunction setGlobalSymbol(symbol, value) {\n  globalThis[symbol] = value;\n}\nfunction deleteGlobalSymbol(symbol) {\n  delete globalThis[symbol];\n}\nvar Interceptor = class {\n  constructor(symbol) {\n    this.symbol = symbol;\n    this.readyState = \"INACTIVE\";\n    this.emitter = new Emitter();\n    this.subscriptions = [];\n    this.logger = new Logger(symbol.description);\n    this.emitter.setMaxListeners(0);\n    this.logger.info(\"constructing the interceptor...\");\n  }\n  /**\n   * Determine if this interceptor can be applied\n   * in the current environment.\n   */\n  checkEnvironment() {\n    return true;\n  }\n  /**\n   * Apply this interceptor to the current process.\n   * Returns an already running interceptor instance if it's present.\n   */\n  apply() {\n    const logger = this.logger.extend(\"apply\");\n    logger.info(\"applying the interceptor...\");\n    if (this.readyState === \"APPLIED\") {\n      logger.info(\"intercepted already applied!\");\n      return;\n    }\n    const shouldApply = this.checkEnvironment();\n    if (!shouldApply) {\n      logger.info(\"the interceptor cannot be applied in this environment!\");\n      return;\n    }\n    this.readyState = \"APPLYING\";\n    const runningInstance = this.getInstance();\n    if (runningInstance) {\n      logger.info(\"found a running instance, reusing...\");\n      this.on = (event, listener) =&gt; {\n        logger.info('proxying the \"%s\" listener', event);\n        runningInstance.emitter.addListener(event, listener);\n        this.subscriptions.push(() =&gt; {\n          runningInstance.emitter.removeListener(event, listener);\n          logger.info('removed proxied \"%s\" listener!', event);\n        });\n        return this;\n      };\n      this.readyState = \"APPLIED\";\n      return;\n    }\n    logger.info(\"no running instance found, setting up a new instance...\");\n    this.setup();\n    this.setInstance();\n    this.readyState = \"APPLIED\";\n  }\n  /**\n   * Setup the module augments and stubs necessary for this interceptor.\n   * This method is not run if there's a running interceptor instance\n   * to prevent instantiating an interceptor multiple times.\n   */\n  setup() {\n  }\n  /**\n   * Listen to the interceptor's public events.\n   */\n  on(event, listener) {\n    const logger = this.logger.extend(\"on\");\n    if (this.readyState === \"DISPOSING\" || this.readyState === \"DISPOSED\") {\n      logger.info(\"cannot listen to events, already disposed!\");\n      return this;\n    }\n    logger.info('adding \"%s\" event listener:', event, listener);\n    this.emitter.on(event, listener);\n    return this;\n  }\n  once(event, listener) {\n    this.emitter.once(event, listener);\n    return this;\n  }\n  off(event, listener) {\n    this.emitter.off(event, listener);\n    return this;\n  }\n  removeAllListeners(event) {\n    this.emitter.removeAllListeners(event);\n    return this;\n  }\n  /**\n   * Disposes of any side-effects this interceptor has introduced.\n   */\n  dispose() {\n    const logger = this.logger.extend(\"dispose\");\n    if (this.readyState === \"DISPOSED\") {\n      logger.info(\"cannot dispose, already disposed!\");\n      return;\n    }\n    logger.info(\"disposing the interceptor...\");\n    this.readyState = \"DISPOSING\";\n    if (!this.getInstance()) {\n      logger.info(\"no interceptors running, skipping dispose...\");\n      return;\n    }\n    this.clearInstance();\n    logger.info(\"global symbol deleted:\", getGlobalSymbol(this.symbol));\n    if (this.subscriptions.length &gt; 0) {\n      logger.info(\"disposing of %d subscriptions...\", this.subscriptions.length);\n      for (const dispose of this.subscriptions) {\n        dispose();\n      }\n      this.subscriptions = [];\n      logger.info(\"disposed of all subscriptions!\", this.subscriptions.length);\n    }\n    this.emitter.removeAllListeners();\n    logger.info(\"destroyed the listener!\");\n    this.readyState = \"DISPOSED\";\n  }\n  getInstance() {\n    var _a;\n    const instance = getGlobalSymbol(this.symbol);\n    this.logger.info(\"retrieved global instance:\", (_a = instance == null ? void 0 : instance.constructor) == null ? void 0 : _a.name);\n    return instance;\n  }\n  setInstance() {\n    setGlobalSymbol(this.symbol, this);\n    this.logger.info(\"set global instance!\", this.symbol.description);\n  }\n  clearInstance() {\n    deleteGlobalSymbol(this.symbol);\n    this.logger.info(\"cleared global instance!\", this.symbol.description);\n  }\n};\nfunction createRequestId() {\n  return Math.random().toString(16).slice(2);\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.37.1/node_modules/@mswjs/interceptors/lib/browser/index.mjs\nvar BatchInterceptor = class extends Interceptor {\n  constructor(options) {\n    BatchInterceptor.symbol = Symbol(options.name);\n    super(BatchInterceptor.symbol);\n    this.interceptors = options.interceptors;\n  }\n  setup() {\n    const logger = this.logger.extend(\"setup\");\n    logger.info(\"applying all %d interceptors...\", this.interceptors.length);\n    for (const interceptor of this.interceptors) {\n      logger.info('applying \"%s\" interceptor...', interceptor.constructor.name);\n      interceptor.apply();\n      logger.info(\"adding interceptor dispose subscription\");\n      this.subscriptions.push(() =&gt; interceptor.dispose());\n    }\n  }\n  on(event, listener) {\n    for (const interceptor of this.interceptors) {\n      interceptor.on(event, listener);\n    }\n    return this;\n  }\n  once(event, listener) {\n    for (const interceptor of this.interceptors) {\n      interceptor.once(event, listener);\n    }\n    return this;\n  }\n  off(event, listener) {\n    for (const interceptor of this.interceptors) {\n      interceptor.off(event, listener);\n    }\n    return this;\n  }\n  removeAllListeners(event) {\n    for (const interceptors of this.interceptors) {\n      interceptors.removeAllListeners(event);\n    }\n    return this;\n  }\n};\n\n// src/browser/setupWorker/start/createResponseListener.ts\nfunction createResponseListener(context) {\n  return (_, message) =&gt; {\n    const { payload: responseJson } = message;\n    const { requestId } = responseJson;\n    const request = context.requests.get(requestId);\n    context.requests.delete(requestId);\n    if (responseJson.type?.includes(\"opaque\")) {\n      return;\n    }\n    const response = responseJson.status === 0 ? Response.error() : new FetchResponse(\n      /**\n       * Responses may be streams here, but when we create a response object\n       * with null-body status codes, like 204, 205, 304 Response will\n       * throw when passed a non-null body, so ensure it's null here\n       * for those codes\n       */\n      FetchResponse.isResponseWithBody(responseJson.status) ? responseJson.body : null,\n      {\n        ...responseJson,\n        /**\n         * Set response URL if it's not set already.\n         * @see https://github.com/mswjs/msw/issues/2030\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/Response/url\n         */\n        url: request.url\n      }\n    );\n    context.emitter.emit(\n      responseJson.isMockedResponse ? \"response:mocked\" : \"response:bypass\",\n      {\n        response,\n        request,\n        requestId: responseJson.requestId\n      }\n    );\n  };\n}\n\n// src/browser/setupWorker/start/utils/validateWorkerScope.ts\n\nfunction validateWorkerScope(registration, options) {\n  if (!options?.quiet &amp;&amp; !location.href.startsWith(registration.scope)) {\n    _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n      `Cannot intercept requests on this page because it's outside of the worker's scope (\"${registration.scope}\"). If you wish to mock API requests on this page, you must resolve this scope issue.\n\n- (Recommended) Register the worker at the root level (\"/\") of your application.\n- Set the \"Service-Worker-Allowed\" response header to allow out-of-scope workers.`\n    );\n  }\n}\n\n// src/browser/setupWorker/start/createStartHandler.ts\nvar createStartHandler = (context) =&gt; {\n  return function start(options, customOptions) {\n    const startWorkerInstance = async () =&gt; {\n      context.events.removeAllListeners();\n      context.workerChannel.on(\n        \"REQUEST\",\n        createRequestListener(context, options)\n      );\n      context.workerChannel.on(\"RESPONSE\", createResponseListener(context));\n      const instance = await getWorkerInstance(\n        options.serviceWorker.url,\n        options.serviceWorker.options,\n        options.findWorker\n      );\n      const [worker, registration] = instance;\n      if (!worker) {\n        const missingWorkerMessage = customOptions?.findWorker ? _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\n          `Failed to locate the Service Worker registration using a custom \"findWorker\" predicate.\n\nPlease ensure that the custom predicate properly locates the Service Worker registration at \"%s\".\nMore details: https://mswjs.io/docs/api/setup-worker/start#findworker\n`,\n          options.serviceWorker.url\n        ) : _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\n          `Failed to locate the Service Worker registration.\n\nThis most likely means that the worker script URL \"%s\" cannot resolve against the actual public hostname (%s). This may happen if your application runs behind a proxy, or has a dynamic hostname.\n\nPlease consider using a custom \"serviceWorker.url\" option to point to the actual worker script location, or a custom \"findWorker\" option to resolve the Service Worker registration manually. More details: https://mswjs.io/docs/api/setup-worker/start`,\n          options.serviceWorker.url,\n          location.host\n        );\n        throw new Error(missingWorkerMessage);\n      }\n      context.worker = worker;\n      context.registration = registration;\n      context.events.addListener(window, \"beforeunload\", () =&gt; {\n        if (worker.state !== \"redundant\") {\n          context.workerChannel.send(\"CLIENT_CLOSED\");\n        }\n        window.clearInterval(context.keepAliveInterval);\n        window.postMessage({ type: \"msw/worker:stop\" });\n      });\n      await checkWorkerIntegrity(context).catch((error2) =&gt; {\n        _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.error(\n          \"Error while checking the worker script integrity. Please report this on GitHub (https://github.com/mswjs/msw/issues), including the original error below.\"\n        );\n        console.error(error2);\n      });\n      context.keepAliveInterval = window.setInterval(\n        () =&gt; context.workerChannel.send(\"KEEPALIVE_REQUEST\"),\n        5e3\n      );\n      validateWorkerScope(registration, context.startOptions);\n      return registration;\n    };\n    const workerRegistration = startWorkerInstance().then(\n      async (registration) =&gt; {\n        const pendingInstance = registration.installing || registration.waiting;\n        if (pendingInstance) {\n          await new Promise((resolve) =&gt; {\n            pendingInstance.addEventListener(\"statechange\", () =&gt; {\n              if (pendingInstance.state === \"activated\") {\n                return resolve();\n              }\n            });\n          });\n        }\n        await enableMocking(context, options).catch((error2) =&gt; {\n          throw new Error(`Failed to enable mocking: ${error2?.message}`);\n        });\n        return registration;\n      }\n    );\n    return workerRegistration;\n  };\n};\n\n// src/browser/setupWorker/stop/createStop.ts\n\n\n// src/browser/setupWorker/stop/utils/printStopMessage.ts\n\nfunction printStopMessage(args = {}) {\n  if (args.quiet) {\n    return;\n  }\n  console.log(\n    `%c${_core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\"Mocking disabled.\")}`,\n    \"color:orangered;font-weight:bold;\"\n  );\n}\n\n// src/browser/setupWorker/stop/createStop.ts\nvar createStop = (context) =&gt; {\n  return function stop() {\n    if (!context.isMockingEnabled) {\n      _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n        'Found a redundant \"worker.stop()\" call. Note that stopping the worker while mocking already stopped has no effect. Consider removing this \"worker.stop()\" call.'\n      );\n      return;\n    }\n    context.workerChannel.send(\"MOCK_DEACTIVATE\");\n    context.isMockingEnabled = false;\n    window.clearInterval(context.keepAliveInterval);\n    window.postMessage({ type: \"msw/worker:stop\" });\n    printStopMessage({ quiet: context.startOptions?.quiet });\n  };\n};\n\n// src/browser/setupWorker/start/utils/prepareStartHandler.ts\n\nvar DEFAULT_START_OPTIONS = {\n  serviceWorker: {\n    url: \"/mockServiceWorker.js\",\n    options: null\n  },\n  quiet: false,\n  waitUntilReady: true,\n  onUnhandledRequest: \"warn\",\n  findWorker(scriptURL, mockServiceWorkerUrl) {\n    return scriptURL === mockServiceWorkerUrl;\n  }\n};\n\n// node_modules/.pnpm/@open-draft+deferred-promise@2.2.0/node_modules/@open-draft/deferred-promise/build/index.mjs\nfunction createDeferredExecutor() {\n  const executor = (resolve, reject) =&gt; {\n    executor.state = \"pending\";\n    executor.resolve = (data) =&gt; {\n      if (executor.state !== \"pending\") {\n        return;\n      }\n      executor.result = data;\n      const onFulfilled = (value) =&gt; {\n        executor.state = \"fulfilled\";\n        return value;\n      };\n      return resolve(\n        data instanceof Promise ? data : Promise.resolve(data).then(onFulfilled)\n      );\n    };\n    executor.reject = (reason) =&gt; {\n      if (executor.state !== \"pending\") {\n        return;\n      }\n      queueMicrotask(() =&gt; {\n        executor.state = \"rejected\";\n      });\n      return reject(executor.rejectionReason = reason);\n    };\n  };\n  return executor;\n}\nvar DeferredPromise = class extends Promise {\n  #executor;\n  resolve;\n  reject;\n  constructor(executor = null) {\n    const deferredExecutor = createDeferredExecutor();\n    super((originalResolve, originalReject) =&gt; {\n      deferredExecutor(originalResolve, originalReject);\n      executor?.(deferredExecutor.resolve, deferredExecutor.reject);\n    });\n    this.#executor = deferredExecutor;\n    this.resolve = this.#executor.resolve;\n    this.reject = this.#executor.reject;\n  }\n  get state() {\n    return this.#executor.state;\n  }\n  get rejectionReason() {\n    return this.#executor.rejectionReason;\n  }\n  then(onFulfilled, onRejected) {\n    return this.#decorate(super.then(onFulfilled, onRejected));\n  }\n  catch(onRejected) {\n    return this.#decorate(super.catch(onRejected));\n  }\n  finally(onfinally) {\n    return this.#decorate(super.finally(onfinally));\n  }\n  #decorate(promise) {\n    return Object.defineProperties(promise, {\n      resolve: { configurable: true, value: this.resolve },\n      reject: { configurable: true, value: this.reject }\n    });\n  }\n};\n\n// node_modules/.pnpm/@mswjs+interceptors@0.37.1/node_modules/@mswjs/interceptors/lib/browser/chunk-H5O73WD2.mjs\nvar InterceptorError = class extends Error {\n  constructor(message) {\n    super(message);\n    this.name = \"InterceptorError\";\n    Object.setPrototypeOf(this, InterceptorError.prototype);\n  }\n};\nvar kRequestHandled = Symbol(\"kRequestHandled\");\nvar kResponsePromise = Symbol(\"kResponsePromise\");\nvar RequestController = class {\n  constructor(request) {\n    this.request = request;\n    this[kRequestHandled] = false;\n    this[kResponsePromise] = new DeferredPromise();\n  }\n  /**\n   * Respond to this request with the given `Response` instance.\n   * @example\n   * controller.respondWith(new Response())\n   * controller.respondWith(Response.json({ id }))\n   * controller.respondWith(Response.error())\n   */\n  respondWith(response) {\n    invariant.as(\n      InterceptorError,\n      !this[kRequestHandled],\n      'Failed to respond to the \"%s %s\" request: the \"request\" event has already been handled.',\n      this.request.method,\n      this.request.url\n    );\n    this[kRequestHandled] = true;\n    this[kResponsePromise].resolve(response);\n  }\n  /**\n   * Error this request with the given error.\n   * @example\n   * controller.errorWith()\n   * controller.errorWith(new Error('Oops!'))\n   */\n  errorWith(error2) {\n    invariant.as(\n      InterceptorError,\n      !this[kRequestHandled],\n      'Failed to error the \"%s %s\" request: the \"request\" event has already been handled.',\n      this.request.method,\n      this.request.url\n    );\n    this[kRequestHandled] = true;\n    this[kResponsePromise].resolve(error2);\n  }\n};\nasync function emitAsync(emitter, eventName, ...data) {\n  const listners = emitter.listeners(eventName);\n  if (listners.length === 0) {\n    return;\n  }\n  for (const listener of listners) {\n    await listener.apply(emitter, data);\n  }\n}\nfunction isPropertyAccessible(obj, key) {\n  try {\n    obj[key];\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction createServerErrorResponse(body) {\n  return new Response(\n    JSON.stringify(\n      body instanceof Error ? {\n        name: body.name,\n        message: body.message,\n        stack: body.stack\n      } : body\n    ),\n    {\n      status: 500,\n      statusText: \"Unhandled Exception\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n}\nfunction isResponseError(response) {\n  return isPropertyAccessible(response, \"type\") &amp;&amp; response.type === \"error\";\n}\nfunction isNodeLikeError(error2) {\n  if (error2 == null) {\n    return false;\n  }\n  if (!(error2 instanceof Error)) {\n    return false;\n  }\n  return \"code\" in error2 &amp;&amp; \"errno\" in error2;\n}\nasync function handleRequest2(options) {\n  const handleResponse = async (response) =&gt; {\n    if (response instanceof Error) {\n      options.onError(response);\n    } else if (isResponseError(response)) {\n      options.onRequestError(response);\n    } else {\n      await options.onResponse(response);\n    }\n    return true;\n  };\n  const handleResponseError = async (error2) =&gt; {\n    if (error2 instanceof InterceptorError) {\n      throw result.error;\n    }\n    if (isNodeLikeError(error2)) {\n      options.onError(error2);\n      return true;\n    }\n    if (error2 instanceof Response) {\n      return await handleResponse(error2);\n    }\n    return false;\n  };\n  options.emitter.once(\"request\", ({ requestId: pendingRequestId }) =&gt; {\n    if (pendingRequestId !== options.requestId) {\n      return;\n    }\n    if (options.controller[kResponsePromise].state === \"pending\") {\n      options.controller[kResponsePromise].resolve(void 0);\n    }\n  });\n  const requestAbortPromise = new DeferredPromise();\n  if (options.request.signal) {\n    if (options.request.signal.aborted) {\n      requestAbortPromise.reject(options.request.signal.reason);\n    } else {\n      options.request.signal.addEventListener(\n        \"abort\",\n        () =&gt; {\n          requestAbortPromise.reject(options.request.signal.reason);\n        },\n        { once: true }\n      );\n    }\n  }\n  const result = await until(async () =&gt; {\n    const requestListtenersPromise = emitAsync(options.emitter, \"request\", {\n      requestId: options.requestId,\n      request: options.request,\n      controller: options.controller\n    });\n    await Promise.race([\n      // Short-circuit the request handling promise if the request gets aborted.\n      requestAbortPromise,\n      requestListtenersPromise,\n      options.controller[kResponsePromise]\n    ]);\n    const mockedResponse = await options.controller[kResponsePromise];\n    return mockedResponse;\n  });\n  if (requestAbortPromise.state === \"rejected\") {\n    options.onError(requestAbortPromise.rejectionReason);\n    return true;\n  }\n  if (result.error) {\n    if (await handleResponseError(result.error)) {\n      return true;\n    }\n    if (options.emitter.listenerCount(\"unhandledException\") &gt; 0) {\n      const unhandledExceptionController = new RequestController(\n        options.request\n      );\n      await emitAsync(options.emitter, \"unhandledException\", {\n        error: result.error,\n        request: options.request,\n        requestId: options.requestId,\n        controller: unhandledExceptionController\n      }).then(() =&gt; {\n        if (unhandledExceptionController[kResponsePromise].state === \"pending\") {\n          unhandledExceptionController[kResponsePromise].resolve(void 0);\n        }\n      });\n      const nextResult = await until(\n        () =&gt; unhandledExceptionController[kResponsePromise]\n      );\n      if (nextResult.error) {\n        return handleResponseError(nextResult.error);\n      }\n      if (nextResult.data) {\n        return handleResponse(nextResult.data);\n      }\n    }\n    options.onResponse(createServerErrorResponse(result.error));\n    return true;\n  }\n  if (result.data) {\n    return handleResponse(result.data);\n  }\n  return false;\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.37.1/node_modules/@mswjs/interceptors/lib/browser/chunk-TX5GBTFY.mjs\nfunction hasConfigurableGlobal(propertyName) {\n  const descriptor = Object.getOwnPropertyDescriptor(globalThis, propertyName);\n  if (typeof descriptor === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"function\" &amp;&amp; typeof descriptor.get() === \"undefined\") {\n    return false;\n  }\n  if (typeof descriptor.get === \"undefined\" &amp;&amp; descriptor.value == null) {\n    return false;\n  }\n  if (typeof descriptor.set === \"undefined\" &amp;&amp; !descriptor.configurable) {\n    console.error(\n      `[MSW] Failed to apply interceptor: the global \\`${propertyName}\\` property is non-configurable. This is likely an issue with your environment. If you are using a framework, please open an issue about this in their repository.`\n    );\n    return false;\n  }\n  return true;\n}\n\n// node_modules/.pnpm/@mswjs+interceptors@0.37.1/node_modules/@mswjs/interceptors/lib/browser/chunk-HER3NHBG.mjs\nfunction canParseUrl(url) {\n  try {\n    new URL(url);\n    return true;\n  } catch (_error) {\n    return false;\n  }\n}\nfunction createNetworkError(cause) {\n  return Object.assign(new TypeError(\"Failed to fetch\"), {\n    cause\n  });\n}\nvar REQUEST_BODY_HEADERS = [\n  \"content-encoding\",\n  \"content-language\",\n  \"content-location\",\n  \"content-type\",\n  \"content-length\"\n];\nvar kRedirectCount = Symbol(\"kRedirectCount\");\nasync function followFetchRedirect(request, response) {\n  if (response.status !== 303 &amp;&amp; request.body != null) {\n    return Promise.reject(createNetworkError());\n  }\n  const requestUrl = new URL(request.url);\n  let locationUrl;\n  try {\n    locationUrl = new URL(response.headers.get(\"location\"), request.url);\n  } catch (error2) {\n    return Promise.reject(createNetworkError(error2));\n  }\n  if (!(locationUrl.protocol === \"http:\" || locationUrl.protocol === \"https:\")) {\n    return Promise.reject(\n      createNetworkError(\"URL scheme must be a HTTP(S) scheme\")\n    );\n  }\n  if (Reflect.get(request, kRedirectCount) &gt; 20) {\n    return Promise.reject(createNetworkError(\"redirect count exceeded\"));\n  }\n  Object.defineProperty(request, kRedirectCount, {\n    value: (Reflect.get(request, kRedirectCount) || 0) + 1\n  });\n  if (request.mode === \"cors\" &amp;&amp; (locationUrl.username || locationUrl.password) &amp;&amp; !sameOrigin(requestUrl, locationUrl)) {\n    return Promise.reject(\n      createNetworkError('cross origin not allowed for request mode \"cors\"')\n    );\n  }\n  const requestInit = {};\n  if ([301, 302].includes(response.status) &amp;&amp; request.method === \"POST\" || response.status === 303 &amp;&amp; ![\"HEAD\", \"GET\"].includes(request.method)) {\n    requestInit.method = \"GET\";\n    requestInit.body = null;\n    REQUEST_BODY_HEADERS.forEach((headerName) =&gt; {\n      request.headers.delete(headerName);\n    });\n  }\n  if (!sameOrigin(requestUrl, locationUrl)) {\n    request.headers.delete(\"authorization\");\n    request.headers.delete(\"proxy-authorization\");\n    request.headers.delete(\"cookie\");\n    request.headers.delete(\"host\");\n  }\n  requestInit.headers = request.headers;\n  return fetch(new Request(locationUrl, requestInit));\n}\nfunction sameOrigin(left, right) {\n  if (left.origin === right.origin &amp;&amp; left.origin === \"null\") {\n    return true;\n  }\n  if (left.protocol === right.protocol &amp;&amp; left.hostname === right.hostname &amp;&amp; left.port === right.port) {\n    return true;\n  }\n  return false;\n}\nvar BrotliDecompressionStream = class extends TransformStream {\n  constructor() {\n    console.warn(\n      \"[Interceptors]: Brotli decompression of response streams is not supported in the browser\"\n    );\n    super({\n      transform(chunk, controller) {\n        controller.enqueue(chunk);\n      }\n    });\n  }\n};\nvar PipelineStream = class extends TransformStream {\n  constructor(transformStreams, ...strategies) {\n    super({}, ...strategies);\n    const readable = [super.readable, ...transformStreams].reduce(\n      (readable2, transform) =&gt; readable2.pipeThrough(transform)\n    );\n    Object.defineProperty(this, \"readable\", {\n      get() {\n        return readable;\n      }\n    });\n  }\n};\nfunction parseContentEncoding(contentEncoding) {\n  return contentEncoding.toLowerCase().split(\",\").map((coding) =&gt; coding.trim());\n}\nfunction createDecompressionStream(contentEncoding) {\n  if (contentEncoding === \"\") {\n    return null;\n  }\n  const codings = parseContentEncoding(contentEncoding);\n  if (codings.length === 0) {\n    return null;\n  }\n  const transformers = codings.reduceRight(\n    (transformers2, coding) =&gt; {\n      if (coding === \"gzip\" || coding === \"x-gzip\") {\n        return transformers2.concat(new DecompressionStream(\"gzip\"));\n      } else if (coding === \"deflate\") {\n        return transformers2.concat(new DecompressionStream(\"deflate\"));\n      } else if (coding === \"br\") {\n        return transformers2.concat(new BrotliDecompressionStream());\n      } else {\n        transformers2.length = 0;\n      }\n      return transformers2;\n    },\n    []\n  );\n  return new PipelineStream(transformers);\n}\nfunction decompressResponse(response) {\n  if (response.body === null) {\n    return null;\n  }\n  const decompressionStream = createDecompressionStream(\n    response.headers.get(\"content-encoding\") || \"\"\n  );\n  if (!decompressionStream) {\n    return null;\n  }\n  response.body.pipeTo(decompressionStream.writable);\n  return decompressionStream.readable;\n}\nvar _FetchInterceptor = class extends Interceptor {\n  constructor() {\n    super(_FetchInterceptor.symbol);\n  }\n  checkEnvironment() {\n    return hasConfigurableGlobal(\"fetch\");\n  }\n  async setup() {\n    const pureFetch = globalThis.fetch;\n    invariant(\n      !pureFetch[IS_PATCHED_MODULE],\n      'Failed to patch the \"fetch\" module: already patched.'\n    );\n    globalThis.fetch = async (input, init) =&gt; {\n      const requestId = createRequestId();\n      const resolvedInput = typeof input === \"string\" &amp;&amp; typeof location !== \"undefined\" &amp;&amp; !canParseUrl(input) ? new URL(input, location.origin) : input;\n      const request = new Request(resolvedInput, init);\n      const responsePromise = new DeferredPromise();\n      const controller = new RequestController(request);\n      this.logger.info(\"[%s] %s\", request.method, request.url);\n      this.logger.info(\"awaiting for the mocked response...\");\n      this.logger.info(\n        'emitting the \"request\" event for %s listener(s)...',\n        this.emitter.listenerCount(\"request\")\n      );\n      const isRequestHandled = await handleRequest2({\n        request,\n        requestId,\n        emitter: this.emitter,\n        controller,\n        onResponse: async (rawResponse) =&gt; {\n          this.logger.info(\"received mocked response!\", {\n            rawResponse\n          });\n          const decompressedStream = decompressResponse(rawResponse);\n          const response = decompressedStream === null ? rawResponse : new FetchResponse(decompressedStream, rawResponse);\n          FetchResponse.setUrl(request.url, response);\n          if (FetchResponse.isRedirectResponse(response.status)) {\n            if (request.redirect === \"error\") {\n              responsePromise.reject(createNetworkError(\"unexpected redirect\"));\n              return;\n            }\n            if (request.redirect === \"follow\") {\n              followFetchRedirect(request, response).then(\n                (response2) =&gt; {\n                  responsePromise.resolve(response2);\n                },\n                (reason) =&gt; {\n                  responsePromise.reject(reason);\n                }\n              );\n              return;\n            }\n          }\n          if (this.emitter.listenerCount(\"response\") &gt; 0) {\n            this.logger.info('emitting the \"response\" event...');\n            await emitAsync(this.emitter, \"response\", {\n              // Clone the mocked response for the \"response\" event listener.\n              // This way, the listener can read the response and not lock its body\n              // for the actual fetch consumer.\n              response: response.clone(),\n              isMockedResponse: true,\n              request,\n              requestId\n            });\n          }\n          responsePromise.resolve(response);\n        },\n        onRequestError: (response) =&gt; {\n          this.logger.info(\"request has errored!\", { response });\n          responsePromise.reject(createNetworkError(response));\n        },\n        onError: (error2) =&gt; {\n          this.logger.info(\"request has been aborted!\", { error: error2 });\n          responsePromise.reject(error2);\n        }\n      });\n      if (isRequestHandled) {\n        this.logger.info(\"request has been handled, returning mock promise...\");\n        return responsePromise;\n      }\n      this.logger.info(\n        \"no mocked response received, performing request as-is...\"\n      );\n      return pureFetch(request).then(async (response) =&gt; {\n        this.logger.info(\"original fetch performed\", response);\n        if (this.emitter.listenerCount(\"response\") &gt; 0) {\n          this.logger.info('emitting the \"response\" event...');\n          const responseClone = response.clone();\n          await emitAsync(this.emitter, \"response\", {\n            response: responseClone,\n            isMockedResponse: false,\n            request,\n            requestId\n          });\n        }\n        return response;\n      });\n    };\n    Object.defineProperty(globalThis.fetch, IS_PATCHED_MODULE, {\n      enumerable: true,\n      configurable: true,\n      value: true\n    });\n    this.subscriptions.push(() =&gt; {\n      Object.defineProperty(globalThis.fetch, IS_PATCHED_MODULE, {\n        value: void 0\n      });\n      globalThis.fetch = pureFetch;\n      this.logger.info(\n        'restored native \"globalThis.fetch\"!',\n        globalThis.fetch.name\n      );\n    });\n  }\n};\nvar FetchInterceptor = _FetchInterceptor;\nFetchInterceptor.symbol = Symbol(\"fetch\");\n\n// node_modules/.pnpm/@mswjs+interceptors@0.37.1/node_modules/@mswjs/interceptors/lib/browser/chunk-4SRQFK76.mjs\nfunction concatArrayBuffer(left, right) {\n  const result = new Uint8Array(left.byteLength + right.byteLength);\n  result.set(left, 0);\n  result.set(right, left.byteLength);\n  return result;\n}\nvar EventPolyfill = class {\n  constructor(type, options) {\n    this.NONE = 0;\n    this.CAPTURING_PHASE = 1;\n    this.AT_TARGET = 2;\n    this.BUBBLING_PHASE = 3;\n    this.type = \"\";\n    this.srcElement = null;\n    this.currentTarget = null;\n    this.eventPhase = 0;\n    this.isTrusted = true;\n    this.composed = false;\n    this.cancelable = true;\n    this.defaultPrevented = false;\n    this.bubbles = true;\n    this.lengthComputable = true;\n    this.loaded = 0;\n    this.total = 0;\n    this.cancelBubble = false;\n    this.returnValue = true;\n    this.type = type;\n    this.target = (options == null ? void 0 : options.target) || null;\n    this.currentTarget = (options == null ? void 0 : options.currentTarget) || null;\n    this.timeStamp = Date.now();\n  }\n  composedPath() {\n    return [];\n  }\n  initEvent(type, bubbles, cancelable) {\n    this.type = type;\n    this.bubbles = !!bubbles;\n    this.cancelable = !!cancelable;\n  }\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n  stopPropagation() {\n  }\n  stopImmediatePropagation() {\n  }\n};\nvar ProgressEventPolyfill = class extends EventPolyfill {\n  constructor(type, init) {\n    super(type);\n    this.lengthComputable = (init == null ? void 0 : init.lengthComputable) || false;\n    this.composed = (init == null ? void 0 : init.composed) || false;\n    this.loaded = (init == null ? void 0 : init.loaded) || 0;\n    this.total = (init == null ? void 0 : init.total) || 0;\n  }\n};\nvar SUPPORTS_PROGRESS_EVENT = typeof ProgressEvent !== \"undefined\";\nfunction createEvent(target, type, init) {\n  const progressEvents = [\n    \"error\",\n    \"progress\",\n    \"loadstart\",\n    \"loadend\",\n    \"load\",\n    \"timeout\",\n    \"abort\"\n  ];\n  const ProgressEventClass = SUPPORTS_PROGRESS_EVENT ? ProgressEvent : ProgressEventPolyfill;\n  const event = progressEvents.includes(type) ? new ProgressEventClass(type, {\n    lengthComputable: true,\n    loaded: (init == null ? void 0 : init.loaded) || 0,\n    total: (init == null ? void 0 : init.total) || 0\n  }) : new EventPolyfill(type, {\n    target,\n    currentTarget: target\n  });\n  return event;\n}\nfunction findPropertySource(target, propertyName) {\n  if (!(propertyName in target)) {\n    return null;\n  }\n  const hasProperty = Object.prototype.hasOwnProperty.call(target, propertyName);\n  if (hasProperty) {\n    return target;\n  }\n  const prototype = Reflect.getPrototypeOf(target);\n  return prototype ? findPropertySource(prototype, propertyName) : null;\n}\nfunction createProxy(target, options) {\n  const proxy = new Proxy(target, optionsToProxyHandler(options));\n  return proxy;\n}\nfunction optionsToProxyHandler(options) {\n  const { constructorCall, methodCall, getProperty, setProperty } = options;\n  const handler = {};\n  if (typeof constructorCall !== \"undefined\") {\n    handler.construct = function(target, args, newTarget) {\n      const next = Reflect.construct.bind(null, target, args, newTarget);\n      return constructorCall.call(newTarget, args, next);\n    };\n  }\n  handler.set = function(target, propertyName, nextValue) {\n    const next = () =&gt; {\n      const propertySource = findPropertySource(target, propertyName) || target;\n      const ownDescriptors = Reflect.getOwnPropertyDescriptor(\n        propertySource,\n        propertyName\n      );\n      if (typeof (ownDescriptors == null ? void 0 : ownDescriptors.set) !== \"undefined\") {\n        ownDescriptors.set.apply(target, [nextValue]);\n        return true;\n      }\n      return Reflect.defineProperty(propertySource, propertyName, {\n        writable: true,\n        enumerable: true,\n        configurable: true,\n        value: nextValue\n      });\n    };\n    if (typeof setProperty !== \"undefined\") {\n      return setProperty.call(target, [propertyName, nextValue], next);\n    }\n    return next();\n  };\n  handler.get = function(target, propertyName, receiver) {\n    const next = () =&gt; target[propertyName];\n    const value = typeof getProperty !== \"undefined\" ? getProperty.call(target, [propertyName, receiver], next) : next();\n    if (typeof value === \"function\") {\n      return (...args) =&gt; {\n        const next2 = value.bind(target, ...args);\n        if (typeof methodCall !== \"undefined\") {\n          return methodCall.call(target, [propertyName, args], next2);\n        }\n        return next2();\n      };\n    }\n    return value;\n  };\n  return handler;\n}\nfunction isDomParserSupportedType(type) {\n  const supportedTypes = [\n    \"application/xhtml+xml\",\n    \"application/xml\",\n    \"image/svg+xml\",\n    \"text/html\",\n    \"text/xml\"\n  ];\n  return supportedTypes.some((supportedType) =&gt; {\n    return type.startsWith(supportedType);\n  });\n}\nfunction parseJson(data) {\n  try {\n    const json = JSON.parse(data);\n    return json;\n  } catch (_) {\n    return null;\n  }\n}\nfunction createResponse(request, body) {\n  const responseBodyOrNull = FetchResponse.isResponseWithBody(request.status) ? body : null;\n  return new FetchResponse(responseBodyOrNull, {\n    url: request.responseURL,\n    status: request.status,\n    statusText: request.statusText,\n    headers: createHeadersFromXMLHttpReqestHeaders(\n      request.getAllResponseHeaders()\n    )\n  });\n}\nfunction createHeadersFromXMLHttpReqestHeaders(headersString) {\n  const headers = new Headers();\n  const lines = headersString.split(/[\\r\\n]+/);\n  for (const line of lines) {\n    if (line.trim() === \"\") {\n      continue;\n    }\n    const [name, ...parts] = line.split(\": \");\n    const value = parts.join(\": \");\n    headers.append(name, value);\n  }\n  return headers;\n}\nasync function getBodyByteLength(input) {\n  const explicitContentLength = input.headers.get(\"content-length\");\n  if (explicitContentLength != null &amp;&amp; explicitContentLength !== \"\") {\n    return Number(explicitContentLength);\n  }\n  const buffer = await input.arrayBuffer();\n  return buffer.byteLength;\n}\nvar kIsRequestHandled = Symbol(\"kIsRequestHandled\");\nvar IS_NODE2 = isNodeProcess();\nvar kFetchRequest = Symbol(\"kFetchRequest\");\nvar XMLHttpRequestController = class {\n  constructor(initialRequest, logger) {\n    this.initialRequest = initialRequest;\n    this.logger = logger;\n    this.method = \"GET\";\n    this.url = null;\n    this[kIsRequestHandled] = false;\n    this.events = /* @__PURE__ */ new Map();\n    this.uploadEvents = /* @__PURE__ */ new Map();\n    this.requestId = createRequestId();\n    this.requestHeaders = new Headers();\n    this.responseBuffer = new Uint8Array();\n    this.request = createProxy(initialRequest, {\n      setProperty: ([propertyName, nextValue], invoke) =&gt; {\n        switch (propertyName) {\n          case \"ontimeout\": {\n            const eventName = propertyName.slice(\n              2\n            );\n            this.request.addEventListener(eventName, nextValue);\n            return invoke();\n          }\n          default: {\n            return invoke();\n          }\n        }\n      },\n      methodCall: ([methodName, args], invoke) =&gt; {\n        var _a;\n        switch (methodName) {\n          case \"open\": {\n            const [method, url] = args;\n            if (typeof url === \"undefined\") {\n              this.method = \"GET\";\n              this.url = toAbsoluteUrl(method);\n            } else {\n              this.method = method;\n              this.url = toAbsoluteUrl(url);\n            }\n            this.logger = this.logger.extend(`${this.method} ${this.url.href}`);\n            this.logger.info(\"open\", this.method, this.url.href);\n            return invoke();\n          }\n          case \"addEventListener\": {\n            const [eventName, listener] = args;\n            this.registerEvent(eventName, listener);\n            this.logger.info(\"addEventListener\", eventName, listener);\n            return invoke();\n          }\n          case \"setRequestHeader\": {\n            const [name, value] = args;\n            this.requestHeaders.set(name, value);\n            this.logger.info(\"setRequestHeader\", name, value);\n            return invoke();\n          }\n          case \"send\": {\n            const [body] = args;\n            this.request.addEventListener(\"load\", () =&gt; {\n              if (typeof this.onResponse !== \"undefined\") {\n                const fetchResponse = createResponse(\n                  this.request,\n                  /**\n                   * The `response` property is the right way to read\n                   * the ambiguous response body, as the request's \"responseType\" may differ.\n                   * @see https://xhr.spec.whatwg.org/#the-response-attribute\n                   */\n                  this.request.response\n                );\n                this.onResponse.call(this, {\n                  response: fetchResponse,\n                  isMockedResponse: this[kIsRequestHandled],\n                  request: fetchRequest,\n                  requestId: this.requestId\n                });\n              }\n            });\n            const requestBody = typeof body === \"string\" ? encodeBuffer(body) : body;\n            const fetchRequest = this.toFetchApiRequest(requestBody);\n            this[kFetchRequest] = fetchRequest.clone();\n            const onceRequestSettled = ((_a = this.onRequest) == null ? void 0 : _a.call(this, {\n              request: fetchRequest,\n              requestId: this.requestId\n            })) || Promise.resolve();\n            onceRequestSettled.finally(() =&gt; {\n              if (!this[kIsRequestHandled]) {\n                this.logger.info(\n                  \"request callback settled but request has not been handled (readystate %d), performing as-is...\",\n                  this.request.readyState\n                );\n                if (IS_NODE2) {\n                  this.request.setRequestHeader(\n                    INTERNAL_REQUEST_ID_HEADER_NAME,\n                    this.requestId\n                  );\n                }\n                return invoke();\n              }\n            });\n            break;\n          }\n          default: {\n            return invoke();\n          }\n        }\n      }\n    });\n    define(\n      this.request,\n      \"upload\",\n      createProxy(this.request.upload, {\n        setProperty: ([propertyName, nextValue], invoke) =&gt; {\n          switch (propertyName) {\n            case \"onloadstart\":\n            case \"onprogress\":\n            case \"onaboart\":\n            case \"onerror\":\n            case \"onload\":\n            case \"ontimeout\":\n            case \"onloadend\": {\n              const eventName = propertyName.slice(\n                2\n              );\n              this.registerUploadEvent(eventName, nextValue);\n            }\n          }\n          return invoke();\n        },\n        methodCall: ([methodName, args], invoke) =&gt; {\n          switch (methodName) {\n            case \"addEventListener\": {\n              const [eventName, listener] = args;\n              this.registerUploadEvent(eventName, listener);\n              this.logger.info(\"upload.addEventListener\", eventName, listener);\n              return invoke();\n            }\n          }\n        }\n      })\n    );\n  }\n  registerEvent(eventName, listener) {\n    const prevEvents = this.events.get(eventName) || [];\n    const nextEvents = prevEvents.concat(listener);\n    this.events.set(eventName, nextEvents);\n    this.logger.info('registered event \"%s\"', eventName, listener);\n  }\n  registerUploadEvent(eventName, listener) {\n    const prevEvents = this.uploadEvents.get(eventName) || [];\n    const nextEvents = prevEvents.concat(listener);\n    this.uploadEvents.set(eventName, nextEvents);\n    this.logger.info('registered upload event \"%s\"', eventName, listener);\n  }\n  /**\n   * Responds to the current request with the given\n   * Fetch API `Response` instance.\n   */\n  async respondWith(response) {\n    this[kIsRequestHandled] = true;\n    if (this[kFetchRequest]) {\n      const totalRequestBodyLength = await getBodyByteLength(\n        this[kFetchRequest]\n      );\n      this.trigger(\"loadstart\", this.request.upload, {\n        loaded: 0,\n        total: totalRequestBodyLength\n      });\n      this.trigger(\"progress\", this.request.upload, {\n        loaded: totalRequestBodyLength,\n        total: totalRequestBodyLength\n      });\n      this.trigger(\"load\", this.request.upload, {\n        loaded: totalRequestBodyLength,\n        total: totalRequestBodyLength\n      });\n      this.trigger(\"loadend\", this.request.upload, {\n        loaded: totalRequestBodyLength,\n        total: totalRequestBodyLength\n      });\n    }\n    this.logger.info(\n      \"responding with a mocked response: %d %s\",\n      response.status,\n      response.statusText\n    );\n    define(this.request, \"status\", response.status);\n    define(this.request, \"statusText\", response.statusText);\n    define(this.request, \"responseURL\", this.url.href);\n    this.request.getResponseHeader = new Proxy(this.request.getResponseHeader, {\n      apply: (_, __, args) =&gt; {\n        this.logger.info(\"getResponseHeader\", args[0]);\n        if (this.request.readyState &lt; this.request.HEADERS_RECEIVED) {\n          this.logger.info(\"headers not received yet, returning null\");\n          return null;\n        }\n        const headerValue = response.headers.get(args[0]);\n        this.logger.info(\n          'resolved response header \"%s\" to',\n          args[0],\n          headerValue\n        );\n        return headerValue;\n      }\n    });\n    this.request.getAllResponseHeaders = new Proxy(\n      this.request.getAllResponseHeaders,\n      {\n        apply: () =&gt; {\n          this.logger.info(\"getAllResponseHeaders\");\n          if (this.request.readyState &lt; this.request.HEADERS_RECEIVED) {\n            this.logger.info(\"headers not received yet, returning empty string\");\n            return \"\";\n          }\n          const headersList = Array.from(response.headers.entries());\n          const allHeaders = headersList.map(([headerName, headerValue]) =&gt; {\n            return `${headerName}: ${headerValue}`;\n          }).join(\"\\r\\n\");\n          this.logger.info(\"resolved all response headers to\", allHeaders);\n          return allHeaders;\n        }\n      }\n    );\n    Object.defineProperties(this.request, {\n      response: {\n        enumerable: true,\n        configurable: false,\n        get: () =&gt; this.response\n      },\n      responseText: {\n        enumerable: true,\n        configurable: false,\n        get: () =&gt; this.responseText\n      },\n      responseXML: {\n        enumerable: true,\n        configurable: false,\n        get: () =&gt; this.responseXML\n      }\n    });\n    const totalResponseBodyLength = await getBodyByteLength(response.clone());\n    this.logger.info(\"calculated response body length\", totalResponseBodyLength);\n    this.trigger(\"loadstart\", this.request, {\n      loaded: 0,\n      total: totalResponseBodyLength\n    });\n    this.setReadyState(this.request.HEADERS_RECEIVED);\n    this.setReadyState(this.request.LOADING);\n    const finalizeResponse = () =&gt; {\n      this.logger.info(\"finalizing the mocked response...\");\n      this.setReadyState(this.request.DONE);\n      this.trigger(\"load\", this.request, {\n        loaded: this.responseBuffer.byteLength,\n        total: totalResponseBodyLength\n      });\n      this.trigger(\"loadend\", this.request, {\n        loaded: this.responseBuffer.byteLength,\n        total: totalResponseBodyLength\n      });\n    };\n    if (response.body) {\n      this.logger.info(\"mocked response has body, streaming...\");\n      const reader = response.body.getReader();\n      const readNextResponseBodyChunk = async () =&gt; {\n        const { value, done } = await reader.read();\n        if (done) {\n          this.logger.info(\"response body stream done!\");\n          finalizeResponse();\n          return;\n        }\n        if (value) {\n          this.logger.info(\"read response body chunk:\", value);\n          this.responseBuffer = concatArrayBuffer(this.responseBuffer, value);\n          this.trigger(\"progress\", this.request, {\n            loaded: this.responseBuffer.byteLength,\n            total: totalResponseBodyLength\n          });\n        }\n        readNextResponseBodyChunk();\n      };\n      readNextResponseBodyChunk();\n    } else {\n      finalizeResponse();\n    }\n  }\n  responseBufferToText() {\n    return decodeBuffer(this.responseBuffer);\n  }\n  get response() {\n    this.logger.info(\n      \"getResponse (responseType: %s)\",\n      this.request.responseType\n    );\n    if (this.request.readyState !== this.request.DONE) {\n      return null;\n    }\n    switch (this.request.responseType) {\n      case \"json\": {\n        const responseJson = parseJson(this.responseBufferToText());\n        this.logger.info(\"resolved response JSON\", responseJson);\n        return responseJson;\n      }\n      case \"arraybuffer\": {\n        const arrayBuffer = toArrayBuffer(this.responseBuffer);\n        this.logger.info(\"resolved response ArrayBuffer\", arrayBuffer);\n        return arrayBuffer;\n      }\n      case \"blob\": {\n        const mimeType = this.request.getResponseHeader(\"Content-Type\") || \"text/plain\";\n        const responseBlob = new Blob([this.responseBufferToText()], {\n          type: mimeType\n        });\n        this.logger.info(\n          \"resolved response Blob (mime type: %s)\",\n          responseBlob,\n          mimeType\n        );\n        return responseBlob;\n      }\n      default: {\n        const responseText = this.responseBufferToText();\n        this.logger.info(\n          'resolving \"%s\" response type as text',\n          this.request.responseType,\n          responseText\n        );\n        return responseText;\n      }\n    }\n  }\n  get responseText() {\n    invariant(\n      this.request.responseType === \"\" || this.request.responseType === \"text\",\n      \"InvalidStateError: The object is in invalid state.\"\n    );\n    if (this.request.readyState !== this.request.LOADING &amp;&amp; this.request.readyState !== this.request.DONE) {\n      return \"\";\n    }\n    const responseText = this.responseBufferToText();\n    this.logger.info('getResponseText: \"%s\"', responseText);\n    return responseText;\n  }\n  get responseXML() {\n    invariant(\n      this.request.responseType === \"\" || this.request.responseType === \"document\",\n      \"InvalidStateError: The object is in invalid state.\"\n    );\n    if (this.request.readyState !== this.request.DONE) {\n      return null;\n    }\n    const contentType = this.request.getResponseHeader(\"Content-Type\") || \"\";\n    if (typeof DOMParser === \"undefined\") {\n      console.warn(\n        \"Cannot retrieve XMLHttpRequest response body as XML: DOMParser is not defined. You are likely using an environment that is not browser or does not polyfill browser globals correctly.\"\n      );\n      return null;\n    }\n    if (isDomParserSupportedType(contentType)) {\n      return new DOMParser().parseFromString(\n        this.responseBufferToText(),\n        contentType\n      );\n    }\n    return null;\n  }\n  errorWith(error2) {\n    this[kIsRequestHandled] = true;\n    this.logger.info(\"responding with an error\");\n    this.setReadyState(this.request.DONE);\n    this.trigger(\"error\", this.request);\n    this.trigger(\"loadend\", this.request);\n  }\n  /**\n   * Transitions this request's `readyState` to the given one.\n   */\n  setReadyState(nextReadyState) {\n    this.logger.info(\n      \"setReadyState: %d -&gt; %d\",\n      this.request.readyState,\n      nextReadyState\n    );\n    if (this.request.readyState === nextReadyState) {\n      this.logger.info(\"ready state identical, skipping transition...\");\n      return;\n    }\n    define(this.request, \"readyState\", nextReadyState);\n    this.logger.info(\"set readyState to: %d\", nextReadyState);\n    if (nextReadyState !== this.request.UNSENT) {\n      this.logger.info('triggerring \"readystatechange\" event...');\n      this.trigger(\"readystatechange\", this.request);\n    }\n  }\n  /**\n   * Triggers given event on the `XMLHttpRequest` instance.\n   */\n  trigger(eventName, target, options) {\n    const callback = target[`on${eventName}`];\n    const event = createEvent(target, eventName, options);\n    this.logger.info('trigger \"%s\"', eventName, options || \"\");\n    if (typeof callback === \"function\") {\n      this.logger.info('found a direct \"%s\" callback, calling...', eventName);\n      callback.call(target, event);\n    }\n    const events = target instanceof XMLHttpRequestUpload ? this.uploadEvents : this.events;\n    for (const [registeredEventName, listeners] of events) {\n      if (registeredEventName === eventName) {\n        this.logger.info(\n          'found %d listener(s) for \"%s\" event, calling...',\n          listeners.length,\n          eventName\n        );\n        listeners.forEach((listener) =&gt; listener.call(target, event));\n      }\n    }\n  }\n  /**\n   * Converts this `XMLHttpRequest` instance into a Fetch API `Request` instance.\n   */\n  toFetchApiRequest(body) {\n    this.logger.info(\"converting request to a Fetch API Request...\");\n    const resolvedBody = body instanceof Document ? body.documentElement.innerText : body;\n    const fetchRequest = new Request(this.url.href, {\n      method: this.method,\n      headers: this.requestHeaders,\n      /**\n       * @see https://xhr.spec.whatwg.org/#cross-origin-credentials\n       */\n      credentials: this.request.withCredentials ? \"include\" : \"same-origin\",\n      body: [\"GET\", \"HEAD\"].includes(this.method.toUpperCase()) ? null : resolvedBody\n    });\n    const proxyHeaders = createProxy(fetchRequest.headers, {\n      methodCall: ([methodName, args], invoke) =&gt; {\n        switch (methodName) {\n          case \"append\":\n          case \"set\": {\n            const [headerName, headerValue] = args;\n            this.request.setRequestHeader(headerName, headerValue);\n            break;\n          }\n          case \"delete\": {\n            const [headerName] = args;\n            console.warn(\n              `XMLHttpRequest: Cannot remove a \"${headerName}\" header from the Fetch API representation of the \"${fetchRequest.method} ${fetchRequest.url}\" request. XMLHttpRequest headers cannot be removed.`\n            );\n            break;\n          }\n        }\n        return invoke();\n      }\n    });\n    define(fetchRequest, \"headers\", proxyHeaders);\n    this.logger.info(\"converted request to a Fetch API Request!\", fetchRequest);\n    return fetchRequest;\n  }\n};\nfunction toAbsoluteUrl(url) {\n  if (typeof location === \"undefined\") {\n    return new URL(url);\n  }\n  return new URL(url.toString(), location.href);\n}\nfunction define(target, property, value) {\n  Reflect.defineProperty(target, property, {\n    // Ensure writable properties to allow redefining readonly properties.\n    writable: true,\n    enumerable: true,\n    value\n  });\n}\nfunction createXMLHttpRequestProxy({\n  emitter,\n  logger\n}) {\n  const XMLHttpRequestProxy = new Proxy(globalThis.XMLHttpRequest, {\n    construct(target, args, newTarget) {\n      logger.info(\"constructed new XMLHttpRequest\");\n      const originalRequest = Reflect.construct(\n        target,\n        args,\n        newTarget\n      );\n      const prototypeDescriptors = Object.getOwnPropertyDescriptors(\n        target.prototype\n      );\n      for (const propertyName in prototypeDescriptors) {\n        Reflect.defineProperty(\n          originalRequest,\n          propertyName,\n          prototypeDescriptors[propertyName]\n        );\n      }\n      const xhrRequestController = new XMLHttpRequestController(\n        originalRequest,\n        logger\n      );\n      xhrRequestController.onRequest = async function({ request, requestId }) {\n        const controller = new RequestController(request);\n        this.logger.info(\"awaiting mocked response...\");\n        this.logger.info(\n          'emitting the \"request\" event for %s listener(s)...',\n          emitter.listenerCount(\"request\")\n        );\n        const isRequestHandled = await handleRequest2({\n          request,\n          requestId,\n          controller,\n          emitter,\n          onResponse: async (response) =&gt; {\n            await this.respondWith(response);\n          },\n          onRequestError: () =&gt; {\n            this.errorWith(new TypeError(\"Network error\"));\n          },\n          onError: (error2) =&gt; {\n            this.logger.info(\"request errored!\", { error: error2 });\n            if (error2 instanceof Error) {\n              this.errorWith(error2);\n            }\n          }\n        });\n        if (!isRequestHandled) {\n          this.logger.info(\n            \"no mocked response received, performing request as-is...\"\n          );\n        }\n      };\n      xhrRequestController.onResponse = async function({\n        response,\n        isMockedResponse,\n        request,\n        requestId\n      }) {\n        this.logger.info(\n          'emitting the \"response\" event for %s listener(s)...',\n          emitter.listenerCount(\"response\")\n        );\n        emitter.emit(\"response\", {\n          response,\n          isMockedResponse,\n          request,\n          requestId\n        });\n      };\n      return xhrRequestController.request;\n    }\n  });\n  return XMLHttpRequestProxy;\n}\nvar _XMLHttpRequestInterceptor = class extends Interceptor {\n  constructor() {\n    super(_XMLHttpRequestInterceptor.interceptorSymbol);\n  }\n  checkEnvironment() {\n    return hasConfigurableGlobal(\"XMLHttpRequest\");\n  }\n  setup() {\n    const logger = this.logger.extend(\"setup\");\n    logger.info('patching \"XMLHttpRequest\" module...');\n    const PureXMLHttpRequest = globalThis.XMLHttpRequest;\n    invariant(\n      !PureXMLHttpRequest[IS_PATCHED_MODULE],\n      'Failed to patch the \"XMLHttpRequest\" module: already patched.'\n    );\n    globalThis.XMLHttpRequest = createXMLHttpRequestProxy({\n      emitter: this.emitter,\n      logger: this.logger\n    });\n    logger.info(\n      'native \"XMLHttpRequest\" module patched!',\n      globalThis.XMLHttpRequest.name\n    );\n    Object.defineProperty(globalThis.XMLHttpRequest, IS_PATCHED_MODULE, {\n      enumerable: true,\n      configurable: true,\n      value: true\n    });\n    this.subscriptions.push(() =&gt; {\n      Object.defineProperty(globalThis.XMLHttpRequest, IS_PATCHED_MODULE, {\n        value: void 0\n      });\n      globalThis.XMLHttpRequest = PureXMLHttpRequest;\n      logger.info(\n        'native \"XMLHttpRequest\" module restored!',\n        globalThis.XMLHttpRequest.name\n      );\n    });\n  }\n};\nvar XMLHttpRequestInterceptor = _XMLHttpRequestInterceptor;\nXMLHttpRequestInterceptor.interceptorSymbol = Symbol(\"xhr\");\n\n// src/browser/setupWorker/start/createFallbackRequestListener.ts\n\n\nfunction createFallbackRequestListener(context, options) {\n  const interceptor = new BatchInterceptor({\n    name: \"fallback\",\n    interceptors: [new FetchInterceptor(), new XMLHttpRequestInterceptor()]\n  });\n  interceptor.on(\"request\", async ({ request, requestId, controller }) =&gt; {\n    const requestCloneForLogs = request.clone();\n    const response = await (0,_core_utils_handleRequest_mjs__WEBPACK_IMPORTED_MODULE_2__.handleRequest)(\n      request,\n      requestId,\n      context.getRequestHandlers().filter((0,_core_utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_3__.isHandlerKind)(\"RequestHandler\")),\n      options,\n      context.emitter,\n      {\n        onMockedResponse(_, { handler, parsedResult }) {\n          if (!options.quiet) {\n            context.emitter.once(\"response:mocked\", ({ response: response2 }) =&gt; {\n              handler.log({\n                request: requestCloneForLogs,\n                response: response2,\n                parsedResult\n              });\n            });\n          }\n        }\n      }\n    );\n    if (response) {\n      controller.respondWith(response);\n    }\n  });\n  interceptor.on(\n    \"response\",\n    ({ response, isMockedResponse, request, requestId }) =&gt; {\n      context.emitter.emit(\n        isMockedResponse ? \"response:mocked\" : \"response:bypass\",\n        {\n          response,\n          request,\n          requestId\n        }\n      );\n    }\n  );\n  interceptor.apply();\n  return interceptor;\n}\n\n// src/browser/setupWorker/start/createFallbackStart.ts\nfunction createFallbackStart(context) {\n  return async function start(options) {\n    context.fallbackInterceptor = createFallbackRequestListener(\n      context,\n      options\n    );\n    printStartMessage({\n      message: \"Mocking enabled (fallback mode).\",\n      quiet: options.quiet\n    });\n    return void 0;\n  };\n}\n\n// src/browser/setupWorker/stop/createFallbackStop.ts\nfunction createFallbackStop(context) {\n  return function stop() {\n    context.fallbackInterceptor?.dispose();\n    printStopMessage({ quiet: context.startOptions?.quiet });\n  };\n}\n\n// src/browser/setupWorker/setupWorker.ts\n\n\n\n\n// src/browser/utils/supportsReadableStreamTransfer.ts\nfunction supportsReadableStreamTransfer() {\n  try {\n    const stream = new ReadableStream({\n      start: (controller) =&gt; controller.close()\n    });\n    const message = new MessageChannel();\n    message.port1.postMessage(stream, [stream]);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n// src/browser/setupWorker/setupWorker.ts\n\n\n\nvar SetupWorkerApi = class extends _core_SetupApi_mjs__WEBPACK_IMPORTED_MODULE_5__.SetupApi {\n  context;\n  startHandler = null;\n  stopHandler = null;\n  listeners;\n  constructor(...handlers) {\n    super(...handlers);\n    invariant(\n      !isNodeProcess(),\n      _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.formatMessage(\n        \"Failed to execute `setupWorker` in a non-browser environment. Consider using `setupServer` for Node.js environment instead.\"\n      )\n    );\n    this.listeners = [];\n    this.context = this.createWorkerContext();\n  }\n  createWorkerContext() {\n    const context = {\n      // Mocking is not considered enabled until the worker\n      // signals back the successful activation event.\n      isMockingEnabled: false,\n      startOptions: null,\n      worker: null,\n      getRequestHandlers: () =&gt; {\n        return this.handlersController.currentHandlers();\n      },\n      registration: null,\n      requests: /* @__PURE__ */ new Map(),\n      emitter: this.emitter,\n      workerChannel: {\n        on: (eventType, callback) =&gt; {\n          this.context.events.addListener(navigator.serviceWorker, \"message\", (event) =&gt; {\n            if (event.source !== this.context.worker) {\n              return;\n            }\n            const message = event.data;\n            if (!message) {\n              return;\n            }\n            if (message.type === eventType) {\n              callback(event, message);\n            }\n          });\n        },\n        send: (type) =&gt; {\n          this.context.worker?.postMessage(type);\n        }\n      },\n      events: {\n        addListener: (target, eventType, callback) =&gt; {\n          target.addEventListener(eventType, callback);\n          this.listeners.push({\n            eventType,\n            target,\n            callback\n          });\n          return () =&gt; {\n            target.removeEventListener(eventType, callback);\n          };\n        },\n        removeAllListeners: () =&gt; {\n          for (const { target, eventType, callback } of this.listeners) {\n            target.removeEventListener(eventType, callback);\n          }\n          this.listeners = [];\n        },\n        once: (eventType) =&gt; {\n          const bindings = [];\n          return new Promise((resolve, reject) =&gt; {\n            const handleIncomingMessage = (event) =&gt; {\n              try {\n                const message = event.data;\n                if (message.type === eventType) {\n                  resolve(message);\n                }\n              } catch (error2) {\n                reject(error2);\n              }\n            };\n            bindings.push(\n              this.context.events.addListener(\n                navigator.serviceWorker,\n                \"message\",\n                handleIncomingMessage\n              ),\n              this.context.events.addListener(\n                navigator.serviceWorker,\n                \"messageerror\",\n                reject\n              )\n            );\n          }).finally(() =&gt; {\n            bindings.forEach((unbind) =&gt; unbind());\n          });\n        }\n      },\n      supports: {\n        serviceWorkerApi: !(\"serviceWorker\" in navigator) || location.protocol === \"file:\",\n        readableStreamTransfer: supportsReadableStreamTransfer()\n      }\n    };\n    this.startHandler = context.supports.serviceWorkerApi ? createFallbackStart(context) : createStartHandler(context);\n    this.stopHandler = context.supports.serviceWorkerApi ? createFallbackStop(context) : createStop(context);\n    return context;\n  }\n  async start(options = {}) {\n    if (options.waitUntilReady === true) {\n      _core_utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.devUtils.warn(\n        'The \"waitUntilReady\" option has been deprecated. Please remove it from this \"worker.start()\" call. Follow the recommended Browser integration (https://mswjs.io/docs/integrations/browser) to eliminate any race conditions between the Service Worker registration and any requests made by your application on initial render.'\n      );\n    }\n    this.context.startOptions = (0,_core_utils_internal_mergeRight_mjs__WEBPACK_IMPORTED_MODULE_6__.mergeRight)(\n      DEFAULT_START_OPTIONS,\n      options\n    );\n    (0,_core_ws_handleWebSocketEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.handleWebSocketEvent)({\n      getUnhandledRequestStrategy: () =&gt; {\n        return this.context.startOptions.onUnhandledRequest;\n      },\n      getHandlers: () =&gt; {\n        return this.handlersController.currentHandlers();\n      },\n      onMockedConnection: (connection) =&gt; {\n        if (!this.context.startOptions.quiet) {\n          (0,_core_ws_utils_attachWebSocketLogger_mjs__WEBPACK_IMPORTED_MODULE_8__.attachWebSocketLogger)(connection);\n        }\n      },\n      onPassthroughConnection() {\n      }\n    });\n    _core_ws_webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_9__.webSocketInterceptor.apply();\n    this.subscriptions.push(() =&gt; {\n      _core_ws_webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_9__.webSocketInterceptor.dispose();\n    });\n    return await this.startHandler(this.context.startOptions, options);\n  }\n  stop() {\n    super.dispose();\n    this.context.events.removeAllListeners();\n    this.context.emitter.removeAllListeners();\n    this.stopHandler();\n  }\n};\nfunction setupWorker(...handlers) {\n  return new SetupWorkerApi(...handlers);\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2Jyb3dzZXIvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkNBQTZDO0FBQ3pFO0FBQ0EsaURBQWlELElBQUk7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQixpQkFBaUIsT0FBTztBQUN4QjtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU8sYUFBYSxPQUFPO0FBQ3pDO0FBQ0E7QUFDQTs7QUFFQTtBQUM0RTs7QUFFNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhO0FBQ2IsSUFBSTtBQUNKLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQytEOztBQUUvRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1RUFBUSxrRUFBa0UsY0FBYyxtQkFBbUIsa0JBQWtCOztBQUVySTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sdUVBQVE7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0RTs7QUFFNUU7QUFDNEU7QUFDNUUsb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHVFQUFTLHdCQUF3QjtBQUMxQyxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLFVBQVU7QUFDcEI7QUFDQSxJQUFJLHVFQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUJBQW1CLElBQUksVUFBVTtBQUM3RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDcUU7QUFDTDtBQUNZO0FBQ1Y7QUFDTztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksNkVBQWM7QUFDbEI7QUFDQTtBQUNBLFlBQVksNEVBQWE7QUFDekI7QUFDQTtBQUNBLDRDQUE0QyxxRkFBYTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLDZDQUE2Qyx1QkFBdUI7QUFDcEU7QUFDQTtBQUNBLGlDQUFpQyw4RUFBYztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLFFBQVEsdUVBQVM7QUFDakI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzRFO0FBQzVFO0FBQ0E7QUFDQSxVQUFVLFVBQVU7QUFDcEI7QUFDQSxJQUFJLHVFQUFTO0FBQ2IsbUdBQW1HLHVCQUF1Qjs7QUFFMUg7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrQ0FBa0M7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLG9CQUFvQixLQUFLO0FBQ3pCO0FBQ0E7QUFDQSxvQkFBb0IsS0FBSztBQUN6QjtBQUNBO0FBQ0Esb0JBQW9CLEtBQUs7QUFDekI7QUFDQTtBQUNBLG9CQUFvQixLQUFLO0FBQ3pCO0FBQ0E7QUFDQSxvQkFBb0IsS0FBSztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFVBQVU7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixVQUFVLEdBQUcsT0FBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsVUFBVSxFQUFFLFFBQVEsdUJBQXVCLEtBQUs7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsWUFBWTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixZQUFZO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQSxNQUFNLEdBQUcsNEJBQTRCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksT0FBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksT0FBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksT0FBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsT0FBTyxFQUFFLGlCQUFpQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxzQkFBc0I7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGlCQUFpQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0JBQXdCO0FBQ3BDLFlBQVksWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDNEU7QUFDNUU7QUFDQTtBQUNBLElBQUksdUVBQVM7QUFDYiw2RkFBNkYsbUJBQW1COztBQUVoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsdUVBQVM7QUFDMUU7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHVFQUFTO0FBQ3JCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlCQUF5QjtBQUN0RCxPQUFPO0FBQ1A7QUFDQSxRQUFRLHVFQUFTO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBLHVEQUF1RCxnQkFBZ0I7QUFDdkUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM0RTs7QUFFNUU7QUFDNEU7QUFDNUUsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx1RUFBUyxvQ0FBb0M7QUFDdEQscUJBQXFCLGlCQUFpQjtBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx1RUFBUztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlCQUF5QjtBQUNsRCx1QkFBdUIsb0NBQW9DO0FBQzNEO0FBQ0E7O0FBRUE7QUFDbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQix5Q0FBeUM7QUFDMUQsZ0JBQWdCO0FBQ2hCLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsSUFBSTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyw2QkFBNkI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsYUFBYTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EscURBQXFELFVBQVU7QUFDL0Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwwREFBMEQsZUFBZTtBQUN6RTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3REFBd0Q7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxhQUFhLEVBQUUsY0FBYztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsV0FBVyxJQUFJLFlBQVk7QUFDakQsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGNBQWM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxVQUFVO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFdBQVcscURBQXFELHFCQUFxQixFQUFFLGlCQUFpQjtBQUMxSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxvQkFBb0I7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLG1EQUFtRCxlQUFlO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDa0Y7QUFDUztBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxxQ0FBcUMsZ0NBQWdDO0FBQ3JFO0FBQ0EsMkJBQTJCLDRFQUFjO0FBQ3pDO0FBQ0E7QUFDQSwwQ0FBMEMscUZBQWM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHVCQUF1QjtBQUNyRDtBQUNBLHVEQUF1RCxxQkFBcUI7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2YsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxPQUFPLGdEQUFnRDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0NBQW9DO0FBQzNEO0FBQ0E7O0FBRUE7QUFDNkU7QUFDN0I7QUFDa0M7O0FBRWxGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUMyRTtBQUNBO0FBQ1E7QUFDbkYsbUNBQW1DLHdEQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHVFQUFVO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVCQUF1Qiw4QkFBOEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0EsTUFBTSx1RUFBVTtBQUNoQjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsK0VBQVc7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsSUFBSSx1RkFBb0I7QUFDeEI7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxVQUFVLCtGQUFxQjtBQUMvQjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksbUZBQW9CO0FBQ3hCO0FBQ0EsTUFBTSxtRkFBb0I7QUFDMUIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL21zdy9saWIvYnJvd3Nlci9pbmRleC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbm9kZV9tb2R1bGVzLy5wbnBtL291dHZhcmlhbnRAMS40LjMvbm9kZV9tb2R1bGVzL291dHZhcmlhbnQvbGliL2luZGV4Lm1qc1xudmFyIFBPU0lUSU9OQUxTX0VYUCA9IC8oJT8pKCUoW3NkaWpvXSkpL2c7XG5mdW5jdGlvbiBzZXJpYWxpemVQb3NpdGlvbmFsKHBvc2l0aW9uYWwsIGZsYWcpIHtcbiAgc3dpdGNoIChmbGFnKSB7XG4gICAgY2FzZSBcInNcIjpcbiAgICAgIHJldHVybiBwb3NpdGlvbmFsO1xuICAgIGNhc2UgXCJkXCI6XG4gICAgY2FzZSBcImlcIjpcbiAgICAgIHJldHVybiBOdW1iZXIocG9zaXRpb25hbCk7XG4gICAgY2FzZSBcImpcIjpcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShwb3NpdGlvbmFsKTtcbiAgICBjYXNlIFwib1wiOiB7XG4gICAgICBpZiAodHlwZW9mIHBvc2l0aW9uYWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uYWw7XG4gICAgICB9XG4gICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkocG9zaXRpb25hbCk7XG4gICAgICBpZiAoanNvbiA9PT0gXCJ7fVwiIHx8IGpzb24gPT09IFwiW11cIiB8fCAvXlxcW29iamVjdCAuKz9cXF0kLy50ZXN0KGpzb24pKSB7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGpzb247XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmb3JtYXQobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgaWYgKHBvc2l0aW9uYWxzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG4gIGxldCBwb3NpdGlvbmFsSW5kZXggPSAwO1xuICBsZXQgZm9ybWF0dGVkTWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZShcbiAgICBQT1NJVElPTkFMU19FWFAsXG4gICAgKG1hdGNoLCBpc0VzY2FwZWQsIF8sIGZsYWcpID0+IHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uYWwgPSBwb3NpdGlvbmFsc1twb3NpdGlvbmFsSW5kZXhdO1xuICAgICAgY29uc3QgdmFsdWUgPSBzZXJpYWxpemVQb3NpdGlvbmFsKHBvc2l0aW9uYWwsIGZsYWcpO1xuICAgICAgaWYgKCFpc0VzY2FwZWQpIHtcbiAgICAgICAgcG9zaXRpb25hbEluZGV4Kys7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9XG4gICk7XG4gIGlmIChwb3NpdGlvbmFsSW5kZXggPCBwb3NpdGlvbmFscy5sZW5ndGgpIHtcbiAgICBmb3JtYXR0ZWRNZXNzYWdlICs9IGAgJHtwb3NpdGlvbmFscy5zbGljZShwb3NpdGlvbmFsSW5kZXgpLmpvaW4oXCIgXCIpfWA7XG4gIH1cbiAgZm9ybWF0dGVkTWVzc2FnZSA9IGZvcm1hdHRlZE1lc3NhZ2UucmVwbGFjZSgvJXsyLDJ9L2csIFwiJVwiKTtcbiAgcmV0dXJuIGZvcm1hdHRlZE1lc3NhZ2U7XG59XG52YXIgU1RBQ0tfRlJBTUVTX1RPX0lHTk9SRSA9IDI7XG5mdW5jdGlvbiBjbGVhbkVycm9yU3RhY2soZXJyb3IyKSB7XG4gIGlmICghZXJyb3IyLnN0YWNrKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG5leHRTdGFjayA9IGVycm9yMi5zdGFjay5zcGxpdChcIlxcblwiKTtcbiAgbmV4dFN0YWNrLnNwbGljZSgxLCBTVEFDS19GUkFNRVNfVE9fSUdOT1JFKTtcbiAgZXJyb3IyLnN0YWNrID0gbmV4dFN0YWNrLmpvaW4oXCJcXG5cIik7XG59XG52YXIgSW52YXJpYW50RXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMubmFtZSA9IFwiSW52YXJpYW50IFZpb2xhdGlvblwiO1xuICAgIHRoaXMubWVzc2FnZSA9IGZvcm1hdChtZXNzYWdlLCAuLi5wb3NpdGlvbmFscyk7XG4gICAgY2xlYW5FcnJvclN0YWNrKHRoaXMpO1xuICB9XG59O1xudmFyIGludmFyaWFudCA9IChwcmVkaWNhdGUsIG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSA9PiB7XG4gIGlmICghcHJlZGljYXRlKSB7XG4gICAgdGhyb3cgbmV3IEludmFyaWFudEVycm9yKG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKTtcbiAgfVxufTtcbmludmFyaWFudC5hcyA9IChFcnJvckNvbnN0cnVjdG9yLCBwcmVkaWNhdGUsIG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSA9PiB7XG4gIGlmICghcHJlZGljYXRlKSB7XG4gICAgY29uc3QgZm9ybWF0TWVzc2FnZSA9IHBvc2l0aW9uYWxzLmxlbmd0aCA9PT0gMCA/IG1lc3NhZ2UgOiBmb3JtYXQobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpO1xuICAgIGxldCBlcnJvcjI7XG4gICAgdHJ5IHtcbiAgICAgIGVycm9yMiA9IFJlZmxlY3QuY29uc3RydWN0KEVycm9yQ29uc3RydWN0b3IsIFtcbiAgICAgICAgZm9ybWF0TWVzc2FnZVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnJvcjIgPSBFcnJvckNvbnN0cnVjdG9yKGZvcm1hdE1lc3NhZ2UpO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjI7XG4gIH1cbn07XG5cbi8vIG5vZGVfbW9kdWxlcy8ucG5wbS9pcy1ub2RlLXByb2Nlc3NAMS4yLjAvbm9kZV9tb2R1bGVzL2lzLW5vZGUtcHJvY2Vzcy9saWIvaW5kZXgubWpzXG5mdW5jdGlvbiBpc05vZGVQcm9jZXNzKCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gXCJSZWFjdE5hdGl2ZVwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgdHlwZSA9IHByb2Nlc3MudHlwZTtcbiAgICBpZiAodHlwZSA9PT0gXCJyZW5kZXJlclwiIHx8IHR5cGUgPT09IFwid29ya2VyXCIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICEhKHByb2Nlc3MudmVyc2lvbnMgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L2NyZWF0ZVN0YXJ0SGFuZGxlci50c1xuaW1wb3J0IHsgZGV2VXRpbHMgYXMgZGV2VXRpbHM3IH0gZnJvbSAnLi4vY29yZS91dGlscy9pbnRlcm5hbC9kZXZVdGlscy5tanMnO1xuXG4vLyBub2RlX21vZHVsZXMvLnBucG0vQG9wZW4tZHJhZnQrdW50aWxAMi4xLjAvbm9kZV9tb2R1bGVzL0BvcGVuLWRyYWZ0L3VudGlsL2xpYi9pbmRleC5tanNcbnZhciB1bnRpbCA9IGFzeW5jIChwcm9taXNlKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHByb21pc2UoKS5jYXRjaCgoZXJyb3IyKSA9PiB7XG4gICAgICB0aHJvdyBlcnJvcjI7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgZXJyb3I6IG51bGwsIGRhdGEgfTtcbiAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yMiwgZGF0YTogbnVsbCB9O1xuICB9XG59O1xuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC91dGlscy9nZXRXb3JrZXJJbnN0YW5jZS50c1xuaW1wb3J0IHsgZGV2VXRpbHMgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5cbi8vIHNyYy9icm93c2VyL3V0aWxzL2dldEFic29sdXRlV29ya2VyVXJsLnRzXG5mdW5jdGlvbiBnZXRBYnNvbHV0ZVdvcmtlclVybCh3b3JrZXJVcmwpIHtcbiAgcmV0dXJuIG5ldyBVUkwod29ya2VyVXJsLCBsb2NhdGlvbi5ocmVmKS5ocmVmO1xufVxuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC91dGlscy9nZXRXb3JrZXJCeVJlZ2lzdHJhdGlvbi50c1xuZnVuY3Rpb24gZ2V0V29ya2VyQnlSZWdpc3RyYXRpb24ocmVnaXN0cmF0aW9uLCBhYnNvbHV0ZVdvcmtlclVybCwgZmluZFdvcmtlcikge1xuICBjb25zdCBhbGxTdGF0ZXMgPSBbXG4gICAgcmVnaXN0cmF0aW9uLmFjdGl2ZSxcbiAgICByZWdpc3RyYXRpb24uaW5zdGFsbGluZyxcbiAgICByZWdpc3RyYXRpb24ud2FpdGluZ1xuICBdO1xuICBjb25zdCByZWxldmFudFN0YXRlcyA9IGFsbFN0YXRlcy5maWx0ZXIoKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlICE9IG51bGw7XG4gIH0pO1xuICBjb25zdCB3b3JrZXIgPSByZWxldmFudFN0YXRlcy5maW5kKCh3b3JrZXIyKSA9PiB7XG4gICAgcmV0dXJuIGZpbmRXb3JrZXIod29ya2VyMi5zY3JpcHRVUkwsIGFic29sdXRlV29ya2VyVXJsKTtcbiAgfSk7XG4gIHJldHVybiB3b3JrZXIgfHwgbnVsbDtcbn1cblxuLy8gc3JjL2Jyb3dzZXIvc2V0dXBXb3JrZXIvc3RhcnQvdXRpbHMvZ2V0V29ya2VySW5zdGFuY2UudHNcbnZhciBnZXRXb3JrZXJJbnN0YW5jZSA9IGFzeW5jICh1cmwsIG9wdGlvbnMgPSB7fSwgZmluZFdvcmtlcikgPT4ge1xuICBjb25zdCBhYnNvbHV0ZVdvcmtlclVybCA9IGdldEFic29sdXRlV29ya2VyVXJsKHVybCk7XG4gIGNvbnN0IG1vY2tSZWdpc3RyYXRpb25zID0gYXdhaXQgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9ucygpLnRoZW4oXG4gICAgKHJlZ2lzdHJhdGlvbnMpID0+IHJlZ2lzdHJhdGlvbnMuZmlsdGVyKFxuICAgICAgKHJlZ2lzdHJhdGlvbikgPT4gZ2V0V29ya2VyQnlSZWdpc3RyYXRpb24ocmVnaXN0cmF0aW9uLCBhYnNvbHV0ZVdvcmtlclVybCwgZmluZFdvcmtlcilcbiAgICApXG4gICk7XG4gIGlmICghbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlciAmJiBtb2NrUmVnaXN0cmF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gIH1cbiAgY29uc3QgW2V4aXN0aW5nUmVnaXN0cmF0aW9uXSA9IG1vY2tSZWdpc3RyYXRpb25zO1xuICBpZiAoZXhpc3RpbmdSZWdpc3RyYXRpb24pIHtcbiAgICBleGlzdGluZ1JlZ2lzdHJhdGlvbi51cGRhdGUoKTtcbiAgICByZXR1cm4gW1xuICAgICAgZ2V0V29ya2VyQnlSZWdpc3RyYXRpb24oXG4gICAgICAgIGV4aXN0aW5nUmVnaXN0cmF0aW9uLFxuICAgICAgICBhYnNvbHV0ZVdvcmtlclVybCxcbiAgICAgICAgZmluZFdvcmtlclxuICAgICAgKSxcbiAgICAgIGV4aXN0aW5nUmVnaXN0cmF0aW9uXG4gICAgXTtcbiAgfVxuICBjb25zdCByZWdpc3RyYXRpb25SZXN1bHQgPSBhd2FpdCB1bnRpbChcbiAgICBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZWdpc3RyYXRpb24gPSBhd2FpdCBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcih1cmwsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLy8gQ29tcGFyZSBleGlzdGluZyB3b3JrZXIgcmVnaXN0cmF0aW9uIGJ5IGl0cyB3b3JrZXIgVVJMLFxuICAgICAgICAvLyB0byBwcmV2ZW50IGlycmVsZXZhbnQgd29ya2VycyB0byByZXNvbHZlIGhlcmUgKHN1Y2ggYXMgQ29kZXNhbmRib3ggd29ya2VyKS5cbiAgICAgICAgZ2V0V29ya2VyQnlSZWdpc3RyYXRpb24ocmVnaXN0cmF0aW9uLCBhYnNvbHV0ZVdvcmtlclVybCwgZmluZFdvcmtlciksXG4gICAgICAgIHJlZ2lzdHJhdGlvblxuICAgICAgXTtcbiAgICB9XG4gICk7XG4gIGlmIChyZWdpc3RyYXRpb25SZXN1bHQuZXJyb3IpIHtcbiAgICBjb25zdCBpc1dvcmtlck1pc3NpbmcgPSByZWdpc3RyYXRpb25SZXN1bHQuZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIig0MDQpXCIpO1xuICAgIGlmIChpc1dvcmtlck1pc3NpbmcpIHtcbiAgICAgIGNvbnN0IHNjb3BlVXJsID0gbmV3IFVSTChvcHRpb25zPy5zY29wZSB8fCBcIi9cIiwgbG9jYXRpb24uaHJlZik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGRldlV0aWxzLmZvcm1hdE1lc3NhZ2UoYEZhaWxlZCB0byByZWdpc3RlciBhIFNlcnZpY2UgV29ya2VyIGZvciBzY29wZSAoJyR7c2NvcGVVcmwuaHJlZn0nKSB3aXRoIHNjcmlwdCAoJyR7YWJzb2x1dGVXb3JrZXJVcmx9Jyk6IFNlcnZpY2UgV29ya2VyIHNjcmlwdCBkb2VzIG5vdCBleGlzdCBhdCB0aGUgZ2l2ZW4gcGF0aC5cblxuRGlkIHlvdSBmb3JnZXQgdG8gcnVuIFwibnB4IG1zdyBpbml0IDxQVUJMSUNfRElSPlwiP1xuXG5MZWFybiBtb3JlIGFib3V0IGNyZWF0aW5nIHRoZSBTZXJ2aWNlIFdvcmtlciBzY3JpcHQ6IGh0dHBzOi8vbXN3anMuaW8vZG9jcy9jbGkvaW5pdGApXG4gICAgICApO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgICBcIkZhaWxlZCB0byByZWdpc3RlciB0aGUgU2VydmljZSBXb3JrZXI6XFxuXFxuJXNcIixcbiAgICAgICAgcmVnaXN0cmF0aW9uUmVzdWx0LmVycm9yLm1lc3NhZ2VcbiAgICAgIClcbiAgICApO1xuICB9XG4gIHJldHVybiByZWdpc3RyYXRpb25SZXN1bHQuZGF0YTtcbn07XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L3V0aWxzL2VuYWJsZU1vY2tpbmcudHNcbmltcG9ydCB7IGRldlV0aWxzIGFzIGRldlV0aWxzMyB9IGZyb20gJy4uL2NvcmUvdXRpbHMvaW50ZXJuYWwvZGV2VXRpbHMubWpzJztcblxuLy8gc3JjL2Jyb3dzZXIvc2V0dXBXb3JrZXIvc3RhcnQvdXRpbHMvcHJpbnRTdGFydE1lc3NhZ2UudHNcbmltcG9ydCB7IGRldlV0aWxzIGFzIGRldlV0aWxzMiB9IGZyb20gJy4uL2NvcmUvdXRpbHMvaW50ZXJuYWwvZGV2VXRpbHMubWpzJztcbmZ1bmN0aW9uIHByaW50U3RhcnRNZXNzYWdlKGFyZ3MgPSB7fSkge1xuICBpZiAoYXJncy5xdWlldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBtZXNzYWdlID0gYXJncy5tZXNzYWdlIHx8IFwiTW9ja2luZyBlbmFibGVkLlwiO1xuICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFxuICAgIGAlYyR7ZGV2VXRpbHMyLmZvcm1hdE1lc3NhZ2UobWVzc2FnZSl9YCxcbiAgICBcImNvbG9yOm9yYW5nZXJlZDtmb250LXdlaWdodDpib2xkO1wiXG4gICk7XG4gIGNvbnNvbGUubG9nKFxuICAgIFwiJWNEb2N1bWVudGF0aW9uOiAlY2h0dHBzOi8vbXN3anMuaW8vZG9jc1wiLFxuICAgIFwiZm9udC13ZWlnaHQ6Ym9sZFwiLFxuICAgIFwiZm9udC13ZWlnaHQ6bm9ybWFsXCJcbiAgKTtcbiAgY29uc29sZS5sb2coXCJGb3VuZCBhbiBpc3N1ZT8gaHR0cHM6Ly9naXRodWIuY29tL21zd2pzL21zdy9pc3N1ZXNcIik7XG4gIGlmIChhcmdzLndvcmtlclVybCkge1xuICAgIGNvbnNvbGUubG9nKFwiV29ya2VyIHNjcmlwdCBVUkw6XCIsIGFyZ3Mud29ya2VyVXJsKTtcbiAgfVxuICBpZiAoYXJncy53b3JrZXJTY29wZSkge1xuICAgIGNvbnNvbGUubG9nKFwiV29ya2VyIHNjb3BlOlwiLCBhcmdzLndvcmtlclNjb3BlKTtcbiAgfVxuICBpZiAoYXJncy5jbGllbnQpIHtcbiAgICBjb25zb2xlLmxvZyhcIkNsaWVudCBJRDogJXMgKCVzKVwiLCBhcmdzLmNsaWVudC5pZCwgYXJncy5jbGllbnQuZnJhbWVUeXBlKTtcbiAgfVxuICBjb25zb2xlLmdyb3VwRW5kKCk7XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L3V0aWxzL2VuYWJsZU1vY2tpbmcudHNcbmFzeW5jIGZ1bmN0aW9uIGVuYWJsZU1vY2tpbmcoY29udGV4dCwgb3B0aW9ucykge1xuICBjb250ZXh0LndvcmtlckNoYW5uZWwuc2VuZChcIk1PQ0tfQUNUSVZBVEVcIik7XG4gIGNvbnN0IHsgcGF5bG9hZCB9ID0gYXdhaXQgY29udGV4dC5ldmVudHMub25jZShcIk1PQ0tJTkdfRU5BQkxFRFwiKTtcbiAgaWYgKGNvbnRleHQuaXNNb2NraW5nRW5hYmxlZCkge1xuICAgIGRldlV0aWxzMy53YXJuKFxuICAgICAgYEZvdW5kIGEgcmVkdW5kYW50IFwid29ya2VyLnN0YXJ0KClcIiBjYWxsLiBOb3RlIHRoYXQgc3RhcnRpbmcgdGhlIHdvcmtlciB3aGlsZSBtb2NraW5nIGlzIGFscmVhZHkgZW5hYmxlZCB3aWxsIGhhdmUgbm8gZWZmZWN0LiBDb25zaWRlciByZW1vdmluZyB0aGlzIFwid29ya2VyLnN0YXJ0KClcIiBjYWxsLmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb250ZXh0LmlzTW9ja2luZ0VuYWJsZWQgPSB0cnVlO1xuICBwcmludFN0YXJ0TWVzc2FnZSh7XG4gICAgcXVpZXQ6IG9wdGlvbnMucXVpZXQsXG4gICAgd29ya2VyU2NvcGU6IGNvbnRleHQucmVnaXN0cmF0aW9uPy5zY29wZSxcbiAgICB3b3JrZXJVcmw6IGNvbnRleHQud29ya2VyPy5zY3JpcHRVUkwsXG4gICAgY2xpZW50OiBwYXlsb2FkLmNsaWVudFxuICB9KTtcbn1cblxuLy8gc3JjL2Jyb3dzZXIvc2V0dXBXb3JrZXIvc3RhcnQvdXRpbHMvY3JlYXRlTWVzc2FnZUNoYW5uZWwudHNcbnZhciBXb3JrZXJDaGFubmVsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihwb3J0KSB7XG4gICAgdGhpcy5wb3J0ID0gcG9ydDtcbiAgfVxuICBwb3N0TWVzc2FnZShldmVudCwgLi4ucmVzdCkge1xuICAgIGNvbnN0IFtkYXRhLCB0cmFuc2Zlcl0gPSByZXN0O1xuICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7IHR5cGU6IGV2ZW50LCBkYXRhIH0sIHsgdHJhbnNmZXIgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy9icm93c2VyL3V0aWxzL3BydW5lR2V0UmVxdWVzdEJvZHkudHNcbmZ1bmN0aW9uIHBydW5lR2V0UmVxdWVzdEJvZHkocmVxdWVzdCkge1xuICBpZiAoW1wiSEVBRFwiLCBcIkdFVFwiXS5pbmNsdWRlcyhyZXF1ZXN0Lm1ldGhvZCkpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIHJldHVybiByZXF1ZXN0LmJvZHk7XG59XG5cbi8vIHNyYy9icm93c2VyL3V0aWxzL3BhcnNlV29ya2VyUmVxdWVzdC50c1xuZnVuY3Rpb24gcGFyc2VXb3JrZXJSZXF1ZXN0KGluY29taW5nUmVxdWVzdCkge1xuICByZXR1cm4gbmV3IFJlcXVlc3QoaW5jb21pbmdSZXF1ZXN0LnVybCwge1xuICAgIC4uLmluY29taW5nUmVxdWVzdCxcbiAgICBib2R5OiBwcnVuZUdldFJlcXVlc3RCb2R5KGluY29taW5nUmVxdWVzdClcbiAgfSk7XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L2NyZWF0ZVJlcXVlc3RMaXN0ZW5lci50c1xuaW1wb3J0IHsgUmVxdWVzdEhhbmRsZXIgfSBmcm9tICcuLi9jb3JlL2hhbmRsZXJzL1JlcXVlc3RIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBoYW5kbGVSZXF1ZXN0IH0gZnJvbSAnLi4vY29yZS91dGlscy9oYW5kbGVSZXF1ZXN0Lm1qcyc7XG5pbXBvcnQgeyBkZXZVdGlscyBhcyBkZXZVdGlsczQgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5pbXBvcnQgeyB0b1Jlc3BvbnNlSW5pdCB9IGZyb20gJy4uL2NvcmUvdXRpbHMvdG9SZXNwb25zZUluaXQubWpzJztcbmltcG9ydCB7IGlzSGFuZGxlcktpbmQgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2lzSGFuZGxlcktpbmQubWpzJztcbnZhciBjcmVhdGVSZXF1ZXN0TGlzdGVuZXIgPSAoY29udGV4dCwgb3B0aW9ucykgPT4ge1xuICByZXR1cm4gYXN5bmMgKGV2ZW50LCBtZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgbWVzc2FnZUNoYW5uZWwgPSBuZXcgV29ya2VyQ2hhbm5lbChldmVudC5wb3J0c1swXSk7XG4gICAgY29uc3QgcmVxdWVzdElkID0gbWVzc2FnZS5wYXlsb2FkLmlkO1xuICAgIGNvbnN0IHJlcXVlc3QgPSBwYXJzZVdvcmtlclJlcXVlc3QobWVzc2FnZS5wYXlsb2FkKTtcbiAgICBjb25zdCByZXF1ZXN0Q2xvbmVGb3JMb2dzID0gcmVxdWVzdC5jbG9uZSgpO1xuICAgIGNvbnN0IHJlcXVlc3RDbG9uZSA9IHJlcXVlc3QuY2xvbmUoKTtcbiAgICBSZXF1ZXN0SGFuZGxlci5jYWNoZS5zZXQocmVxdWVzdCwgcmVxdWVzdENsb25lKTtcbiAgICBjb250ZXh0LnJlcXVlc3RzLnNldChyZXF1ZXN0SWQsIHJlcXVlc3RDbG9uZSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGhhbmRsZVJlcXVlc3QoXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgY29udGV4dC5nZXRSZXF1ZXN0SGFuZGxlcnMoKS5maWx0ZXIoaXNIYW5kbGVyS2luZChcIlJlcXVlc3RIYW5kbGVyXCIpKSxcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgY29udGV4dC5lbWl0dGVyLFxuICAgICAgICB7XG4gICAgICAgICAgb25QYXNzdGhyb3VnaFJlc3BvbnNlKCkge1xuICAgICAgICAgICAgbWVzc2FnZUNoYW5uZWwucG9zdE1lc3NhZ2UoXCJQQVNTVEhST1VHSFwiKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFzeW5jIG9uTW9ja2VkUmVzcG9uc2UocmVzcG9uc2UsIHsgaGFuZGxlciwgcGFyc2VkUmVzdWx0IH0pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQ2xvbmUgPSByZXNwb25zZS5jbG9uZSgpO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VDbG9uZUZvckxvZ3MgPSByZXNwb25zZS5jbG9uZSgpO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VJbml0ID0gdG9SZXNwb25zZUluaXQocmVzcG9uc2UpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQuc3VwcG9ydHMucmVhZGFibGVTdHJlYW1UcmFuc2Zlcikge1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZVN0cmVhbU9yTnVsbCA9IHJlc3BvbnNlLmJvZHk7XG4gICAgICAgICAgICAgIG1lc3NhZ2VDaGFubmVsLnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgIFwiTU9DS19SRVNQT05TRVwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIC4uLnJlc3BvbnNlSW5pdCxcbiAgICAgICAgICAgICAgICAgIGJvZHk6IHJlc3BvbnNlU3RyZWFtT3JOdWxsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXNwb25zZVN0cmVhbU9yTnVsbCA/IFtyZXNwb25zZVN0cmVhbU9yTnVsbF0gOiB2b2lkIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQnVmZmVyT3JOdWxsID0gcmVzcG9uc2UuYm9keSA9PT0gbnVsbCA/IG51bGwgOiBhd2FpdCByZXNwb25zZUNsb25lLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICAgIG1lc3NhZ2VDaGFubmVsLnBvc3RNZXNzYWdlKFwiTU9DS19SRVNQT05TRVwiLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVzcG9uc2VJbml0LFxuICAgICAgICAgICAgICAgIGJvZHk6IHJlc3BvbnNlQnVmZmVyT3JOdWxsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnF1aWV0KSB7XG4gICAgICAgICAgICAgIGNvbnRleHQuZW1pdHRlci5vbmNlKFwicmVzcG9uc2U6bW9ja2VkXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmxvZyh7XG4gICAgICAgICAgICAgICAgICByZXF1ZXN0OiByZXF1ZXN0Q2xvbmVGb3JMb2dzLFxuICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlQ2xvbmVGb3JMb2dzLFxuICAgICAgICAgICAgICAgICAgcGFyc2VkUmVzdWx0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgIGlmIChlcnJvcjIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBkZXZVdGlsczQuZXJyb3IoXG4gICAgICAgICAgYFVuY2F1Z2h0IGV4Y2VwdGlvbiBpbiB0aGUgcmVxdWVzdCBoYW5kbGVyIGZvciBcIiVzICVzXCI6XG5cbiVzXG5cblRoaXMgZXhjZXB0aW9uIGhhcyBiZWVuIGdyYWNlZnVsbHkgaGFuZGxlZCBhcyBhIDUwMCByZXNwb25zZSwgaG93ZXZlciwgaXQncyBzdHJvbmdseSByZWNvbW1lbmRlZCB0byByZXNvbHZlIHRoaXMgZXJyb3IsIGFzIGl0IGluZGljYXRlcyBhIG1pc3Rha2UgaW4geW91ciBjb2RlLiBJZiB5b3Ugd2lzaCB0byBtb2NrIGFuIGVycm9yIHJlc3BvbnNlLCBwbGVhc2Ugc2VlIHRoaXMgZ3VpZGU6IGh0dHBzOi8vbXN3anMuaW8vZG9jcy9yZWNpcGVzL21vY2tpbmctZXJyb3ItcmVzcG9uc2VzYCxcbiAgICAgICAgICByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICByZXF1ZXN0LnVybCxcbiAgICAgICAgICBlcnJvcjIuc3RhY2sgPz8gZXJyb3IyXG4gICAgICAgICk7XG4gICAgICAgIG1lc3NhZ2VDaGFubmVsLnBvc3RNZXNzYWdlKFwiTU9DS19SRVNQT05TRVwiLCB7XG4gICAgICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICAgICAgc3RhdHVzVGV4dDogXCJSZXF1ZXN0IEhhbmRsZXIgRXJyb3JcIixcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZTogZXJyb3IyLm5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvcjIubWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrOiBlcnJvcjIuc3RhY2tcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG4vLyBzcmMvYnJvd3Nlci91dGlscy9jaGVja1dvcmtlckludGVncml0eS50c1xuaW1wb3J0IHsgZGV2VXRpbHMgYXMgZGV2VXRpbHM1IH0gZnJvbSAnLi4vY29yZS91dGlscy9pbnRlcm5hbC9kZXZVdGlscy5tanMnO1xuYXN5bmMgZnVuY3Rpb24gY2hlY2tXb3JrZXJJbnRlZ3JpdHkoY29udGV4dCkge1xuICBjb250ZXh0LndvcmtlckNoYW5uZWwuc2VuZChcIklOVEVHUklUWV9DSEVDS19SRVFVRVNUXCIpO1xuICBjb25zdCB7IHBheWxvYWQgfSA9IGF3YWl0IGNvbnRleHQuZXZlbnRzLm9uY2UoXCJJTlRFR1JJVFlfQ0hFQ0tfUkVTUE9OU0VcIik7XG4gIGlmIChwYXlsb2FkLmNoZWNrc3VtICE9PSBcIjAwNzI5ZDcyZTNiODJmYWY1NGNhOGI5NjIxZGJiOTZmXCIpIHtcbiAgICBkZXZVdGlsczUud2FybihcbiAgICAgIGBUaGUgY3VycmVudGx5IHJlZ2lzdGVyZWQgU2VydmljZSBXb3JrZXIgaGFzIGJlZW4gZ2VuZXJhdGVkIGJ5IGEgZGlmZmVyZW50IHZlcnNpb24gb2YgTVNXICgke3BheWxvYWQucGFja2FnZVZlcnNpb259KSBhbmQgbWF5IG5vdCBiZSBmdWxseSBjb21wYXRpYmxlIHdpdGggdGhlIGluc3RhbGxlZCB2ZXJzaW9uLlxuXG5JdCdzIHJlY29tbWVuZGVkIHlvdSB1cGRhdGUgeW91ciB3b3JrZXIgc2NyaXB0IGJ5IHJ1bm5pbmcgdGhpcyBjb21tYW5kOlxuXG4gIFxcdTIwMjIgbnB4IG1zdyBpbml0IDxQVUJMSUNfRElSPlxuXG5Zb3UgY2FuIGFsc28gYXV0b21hdGUgdGhpcyBwcm9jZXNzIGFuZCBtYWtlIHRoZSB3b3JrZXIgc2NyaXB0IHVwZGF0ZSBhdXRvbWF0aWNhbGx5IHVwb24gdGhlIGxpYnJhcnkgaW5zdGFsbGF0aW9ucy4gUmVhZCBtb3JlOiBodHRwczovL21zd2pzLmlvL2RvY3MvY2xpL2luaXQuYFxuICAgICk7XG4gIH1cbn1cblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0Btc3dqcytpbnRlcmNlcHRvcnNAMC4zNy4xL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2NodW5rLTZIWUlSRlgyLm1qc1xudmFyIGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbmZ1bmN0aW9uIGVuY29kZUJ1ZmZlcih0ZXh0KSB7XG4gIHJldHVybiBlbmNvZGVyLmVuY29kZSh0ZXh0KTtcbn1cbmZ1bmN0aW9uIGRlY29kZUJ1ZmZlcihidWZmZXIsIGVuY29kaW5nKSB7XG4gIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmcpO1xuICByZXR1cm4gZGVjb2Rlci5kZWNvZGUoYnVmZmVyKTtcbn1cbmZ1bmN0aW9uIHRvQXJyYXlCdWZmZXIoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5LmJ1ZmZlci5zbGljZShcbiAgICBhcnJheS5ieXRlT2Zmc2V0LFxuICAgIGFycmF5LmJ5dGVPZmZzZXQgKyBhcnJheS5ieXRlTGVuZ3RoXG4gICk7XG59XG5cbi8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbXN3anMraW50ZXJjZXB0b3JzQDAuMzcuMS9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9jaHVuay1GNEJONzQ1VS5tanNcbnZhciBJU19QQVRDSEVEX01PRFVMRSA9IFN5bWJvbChcImlzUGF0Y2hlZE1vZHVsZVwiKTtcbnZhciBfRmV0Y2hSZXNwb25zZSA9IGNsYXNzIGV4dGVuZHMgUmVzcG9uc2Uge1xuICBzdGF0aWMgaXNDb25maWd1cmFibGVTdGF0dXNDb2RlKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8PSA1OTk7XG4gIH1cbiAgc3RhdGljIGlzUmVkaXJlY3RSZXNwb25zZShzdGF0dXMpIHtcbiAgICByZXR1cm4gX0ZldGNoUmVzcG9uc2UuU1RBVFVTX0NPREVTX1dJVEhfUkVESVJFQ1QuaW5jbHVkZXMoc3RhdHVzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBnaXZlbiByZXNwb25zZSBzdGF0dXNcbiAgICogY29kZSByZXByZXNlbnRzIGEgcmVzcG9uc2UgdGhhdCBjYW4gaGF2ZSBhIGJvZHkuXG4gICAqL1xuICBzdGF0aWMgaXNSZXNwb25zZVdpdGhCb2R5KHN0YXR1cykge1xuICAgIHJldHVybiAhX0ZldGNoUmVzcG9uc2UuU1RBVFVTX0NPREVTX1dJVEhPVVRfQk9EWS5pbmNsdWRlcyhzdGF0dXMpO1xuICB9XG4gIHN0YXRpYyBzZXRVcmwodXJsLCByZXNwb25zZSkge1xuICAgIGlmICghdXJsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChyZXNwb25zZS51cmwgIT0gXCJcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzcG9uc2UsIFwidXJsXCIsIHtcbiAgICAgIHZhbHVlOiB1cmwsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgY29uc3RydWN0b3IoYm9keSwgaW5pdCA9IHt9KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHN0YXR1cyA9IChfYSA9IGluaXQuc3RhdHVzKSAhPSBudWxsID8gX2EgOiAyMDA7XG4gICAgY29uc3Qgc2FmZVN0YXR1cyA9IF9GZXRjaFJlc3BvbnNlLmlzQ29uZmlndXJhYmxlU3RhdHVzQ29kZShzdGF0dXMpID8gc3RhdHVzIDogMjAwO1xuICAgIGNvbnN0IGZpbmFsQm9keSA9IF9GZXRjaFJlc3BvbnNlLmlzUmVzcG9uc2VXaXRoQm9keShzdGF0dXMpID8gYm9keSA6IG51bGw7XG4gICAgc3VwZXIoZmluYWxCb2R5LCB7XG4gICAgICAuLi5pbml0LFxuICAgICAgc3RhdHVzOiBzYWZlU3RhdHVzXG4gICAgfSk7XG4gICAgaWYgKHN0YXR1cyAhPT0gc2FmZVN0YXR1cykge1xuICAgICAgY29uc3Qgc3RhdGVTeW1ib2wgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRoaXMpLmZpbmQoXG4gICAgICAgIChzeW1ib2wpID0+IHN5bWJvbC5kZXNjcmlwdGlvbiA9PT0gXCJzdGF0ZVwiXG4gICAgICApO1xuICAgICAgaWYgKHN0YXRlU3ltYm9sKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gUmVmbGVjdC5nZXQodGhpcywgc3RhdGVTeW1ib2wpO1xuICAgICAgICBSZWZsZWN0LnNldChzdGF0ZSwgXCJzdGF0dXNcIiwgc3RhdHVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YXR1c1wiLCB7XG4gICAgICAgICAgdmFsdWU6IHN0YXR1cyxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB3cml0YWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIF9GZXRjaFJlc3BvbnNlLnNldFVybChpbml0LnVybCwgdGhpcyk7XG4gIH1cbn07XG52YXIgRmV0Y2hSZXNwb25zZSA9IF9GZXRjaFJlc3BvbnNlO1xuRmV0Y2hSZXNwb25zZS5TVEFUVVNfQ09ERVNfV0lUSE9VVF9CT0RZID0gWzEwMSwgMTAzLCAyMDQsIDIwNSwgMzA0XTtcbkZldGNoUmVzcG9uc2UuU1RBVFVTX0NPREVTX1dJVEhfUkVESVJFQ1QgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdO1xuXG4vLyBub2RlX21vZHVsZXMvLnBucG0vQG9wZW4tZHJhZnQrbG9nZ2VyQDAuMy4wL25vZGVfbW9kdWxlcy9Ab3Blbi1kcmFmdC9sb2dnZXIvbGliL2luZGV4Lm1qc1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4ge1xuICBmb3IgKHZhciBuYW1lIGluIGFsbClcbiAgICBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCB7IGdldDogYWxsW25hbWVdLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufTtcbnZhciBjb2xvcnNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoY29sb3JzX2V4cG9ydHMsIHtcbiAgYmx1ZTogKCkgPT4gYmx1ZSxcbiAgZ3JheTogKCkgPT4gZ3JheSxcbiAgZ3JlZW46ICgpID0+IGdyZWVuLFxuICByZWQ6ICgpID0+IHJlZCxcbiAgeWVsbG93OiAoKSA9PiB5ZWxsb3dcbn0pO1xuZnVuY3Rpb24geWVsbG93KHRleHQpIHtcbiAgcmV0dXJuIGBcXHgxQlszM20ke3RleHR9XFx4MUJbMG1gO1xufVxuZnVuY3Rpb24gYmx1ZSh0ZXh0KSB7XG4gIHJldHVybiBgXFx4MUJbMzRtJHt0ZXh0fVxceDFCWzBtYDtcbn1cbmZ1bmN0aW9uIGdyYXkodGV4dCkge1xuICByZXR1cm4gYFxceDFCWzkwbSR7dGV4dH1cXHgxQlswbWA7XG59XG5mdW5jdGlvbiByZWQodGV4dCkge1xuICByZXR1cm4gYFxceDFCWzMxbSR7dGV4dH1cXHgxQlswbWA7XG59XG5mdW5jdGlvbiBncmVlbih0ZXh0KSB7XG4gIHJldHVybiBgXFx4MUJbMzJtJHt0ZXh0fVxceDFCWzBtYDtcbn1cbnZhciBJU19OT0RFID0gaXNOb2RlUHJvY2VzcygpO1xudmFyIExvZ2dlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IobmFtZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5wcmVmaXggPSBgWyR7dGhpcy5uYW1lfV1gO1xuICAgIGNvbnN0IExPR0dFUl9OQU1FID0gZ2V0VmFyaWFibGUoXCJERUJVR1wiKTtcbiAgICBjb25zdCBMT0dHRVJfTEVWRUwgPSBnZXRWYXJpYWJsZShcIkxPR19MRVZFTFwiKTtcbiAgICBjb25zdCBpc0xvZ2dpbmdFbmFibGVkID0gTE9HR0VSX05BTUUgPT09IFwiMVwiIHx8IExPR0dFUl9OQU1FID09PSBcInRydWVcIiB8fCB0eXBlb2YgTE9HR0VSX05BTUUgIT09IFwidW5kZWZpbmVkXCIgJiYgdGhpcy5uYW1lLnN0YXJ0c1dpdGgoTE9HR0VSX05BTUUpO1xuICAgIGlmIChpc0xvZ2dpbmdFbmFibGVkKSB7XG4gICAgICB0aGlzLmRlYnVnID0gaXNEZWZpbmVkQW5kTm90RXF1YWxzKExPR0dFUl9MRVZFTCwgXCJkZWJ1Z1wiKSA/IG5vb3AgOiB0aGlzLmRlYnVnO1xuICAgICAgdGhpcy5pbmZvID0gaXNEZWZpbmVkQW5kTm90RXF1YWxzKExPR0dFUl9MRVZFTCwgXCJpbmZvXCIpID8gbm9vcCA6IHRoaXMuaW5mbztcbiAgICAgIHRoaXMuc3VjY2VzcyA9IGlzRGVmaW5lZEFuZE5vdEVxdWFscyhMT0dHRVJfTEVWRUwsIFwic3VjY2Vzc1wiKSA/IG5vb3AgOiB0aGlzLnN1Y2Nlc3M7XG4gICAgICB0aGlzLndhcm5pbmcgPSBpc0RlZmluZWRBbmROb3RFcXVhbHMoTE9HR0VSX0xFVkVMLCBcIndhcm5pbmdcIikgPyBub29wIDogdGhpcy53YXJuaW5nO1xuICAgICAgdGhpcy5lcnJvciA9IGlzRGVmaW5lZEFuZE5vdEVxdWFscyhMT0dHRVJfTEVWRUwsIFwiZXJyb3JcIikgPyBub29wIDogdGhpcy5lcnJvcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pbmZvID0gbm9vcDtcbiAgICAgIHRoaXMuc3VjY2VzcyA9IG5vb3A7XG4gICAgICB0aGlzLndhcm5pbmcgPSBub29wO1xuICAgICAgdGhpcy5lcnJvciA9IG5vb3A7XG4gICAgICB0aGlzLm9ubHkgPSBub29wO1xuICAgIH1cbiAgfVxuICBwcmVmaXg7XG4gIGV4dGVuZChkb21haW4pIHtcbiAgICByZXR1cm4gbmV3IExvZ2dlcihgJHt0aGlzLm5hbWV9OiR7ZG9tYWlufWApO1xuICB9XG4gIC8qKlxuICAgKiBQcmludCBhIGRlYnVnIG1lc3NhZ2UuXG4gICAqIEBleGFtcGxlXG4gICAqIGxvZ2dlci5kZWJ1Zygnbm8gZHVwbGljYXRlcyBmb3VuZCwgY3JlYXRpbmcgYSBkb2N1bWVudC4uLicpXG4gICAqL1xuICBkZWJ1ZyhtZXNzYWdlLCAuLi5wb3NpdGlvbmFscykge1xuICAgIHRoaXMubG9nRW50cnkoe1xuICAgICAgbGV2ZWw6IFwiZGVidWdcIixcbiAgICAgIG1lc3NhZ2U6IGdyYXkobWVzc2FnZSksXG4gICAgICBwb3NpdGlvbmFscyxcbiAgICAgIHByZWZpeDogdGhpcy5wcmVmaXgsXG4gICAgICBjb2xvcnM6IHtcbiAgICAgICAgcHJlZml4OiBcImdyYXlcIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBQcmludCBhbiBpbmZvIG1lc3NhZ2UuXG4gICAqIEBleGFtcGxlXG4gICAqIGxvZ2dlci5pbmZvKCdzdGFydCBwYXJzaW5nLi4uJylcbiAgICovXG4gIGluZm8obWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgICB0aGlzLmxvZ0VudHJ5KHtcbiAgICAgIGxldmVsOiBcImluZm9cIixcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBwb3NpdGlvbmFscyxcbiAgICAgIHByZWZpeDogdGhpcy5wcmVmaXgsXG4gICAgICBjb2xvcnM6IHtcbiAgICAgICAgcHJlZml4OiBcImJsdWVcIlxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHBlcmZvcm1hbmNlMiA9IG5ldyBQZXJmb3JtYW5jZUVudHJ5KCk7XG4gICAgcmV0dXJuIChtZXNzYWdlMiwgLi4ucG9zaXRpb25hbHMyKSA9PiB7XG4gICAgICBwZXJmb3JtYW5jZTIubWVhc3VyZSgpO1xuICAgICAgdGhpcy5sb2dFbnRyeSh7XG4gICAgICAgIGxldmVsOiBcImluZm9cIixcbiAgICAgICAgbWVzc2FnZTogYCR7bWVzc2FnZTJ9ICR7Z3JheShgJHtwZXJmb3JtYW5jZTIuZGVsdGFUaW1lfW1zYCl9YCxcbiAgICAgICAgcG9zaXRpb25hbHM6IHBvc2l0aW9uYWxzMixcbiAgICAgICAgcHJlZml4OiB0aGlzLnByZWZpeCxcbiAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgcHJlZml4OiBcImJsdWVcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBQcmludCBhIHN1Y2Nlc3MgbWVzc2FnZS5cbiAgICogQGV4YW1wbGVcbiAgICogbG9nZ2VyLnN1Y2Nlc3MoJ3N1Y2Nlc3NmdWxseSBjcmVhdGVkIGRvY3VtZW50JylcbiAgICovXG4gIHN1Y2Nlc3MobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgICB0aGlzLmxvZ0VudHJ5KHtcbiAgICAgIGxldmVsOiBcImluZm9cIixcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBwb3NpdGlvbmFscyxcbiAgICAgIHByZWZpeDogYFxcdTI3MTQgJHt0aGlzLnByZWZpeH1gLFxuICAgICAgY29sb3JzOiB7XG4gICAgICAgIHRpbWVzdGFtcDogXCJncmVlblwiLFxuICAgICAgICBwcmVmaXg6IFwiZ3JlZW5cIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBQcmludCBhIHdhcm5pbmcuXG4gICAqIEBleGFtcGxlXG4gICAqIGxvZ2dlci53YXJuaW5nKCdmb3VuZCBsZWdhY3kgZG9jdW1lbnQgZm9ybWF0JylcbiAgICovXG4gIHdhcm5pbmcobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgICB0aGlzLmxvZ0VudHJ5KHtcbiAgICAgIGxldmVsOiBcIndhcm5pbmdcIixcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBwb3NpdGlvbmFscyxcbiAgICAgIHByZWZpeDogYFxcdTI2QTAgJHt0aGlzLnByZWZpeH1gLFxuICAgICAgY29sb3JzOiB7XG4gICAgICAgIHRpbWVzdGFtcDogXCJ5ZWxsb3dcIixcbiAgICAgICAgcHJlZml4OiBcInllbGxvd1wiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIFByaW50IGFuIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBleGFtcGxlXG4gICAqIGxvZ2dlci5lcnJvcignc29tZXRoaW5nIHdlbnQgd3JvbmcnKVxuICAgKi9cbiAgZXJyb3IobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgICB0aGlzLmxvZ0VudHJ5KHtcbiAgICAgIGxldmVsOiBcImVycm9yXCIsXG4gICAgICBtZXNzYWdlLFxuICAgICAgcG9zaXRpb25hbHMsXG4gICAgICBwcmVmaXg6IGBcXHUyNzE2ICR7dGhpcy5wcmVmaXh9YCxcbiAgICAgIGNvbG9yczoge1xuICAgICAgICB0aW1lc3RhbXA6IFwicmVkXCIsXG4gICAgICAgIHByZWZpeDogXCJyZWRcIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIHRoZSBnaXZlbiBjYWxsYmFjayBvbmx5IHdoZW4gdGhlIGxvZ2dpbmcgaXMgZW5hYmxlZC5cbiAgICogVGhpcyBpcyBza2lwcGVkIGluIGl0cyBlbnRpcmV0eSBhbmQgaGFzIG5vIHJ1bnRpbWUgY29zdCBvdGhlcndpc2UuXG4gICAqIFRoaXMgZXhlY3V0ZXMgcmVnYXJkbGVzcyBvZiB0aGUgbG9nIGxldmVsLlxuICAgKiBAZXhhbXBsZVxuICAgKiBsb2dnZXIub25seSgoKSA9PiB7XG4gICAqICAgbG9nZ2VyLmluZm8oJ2FkZGl0aW9uYWwgaW5mbycpXG4gICAqIH0pXG4gICAqL1xuICBvbmx5KGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuICBjcmVhdGVFbnRyeShsZXZlbCwgbWVzc2FnZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0aW1lc3RhbXA6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgbGV2ZWwsXG4gICAgICBtZXNzYWdlXG4gICAgfTtcbiAgfVxuICBsb2dFbnRyeShhcmdzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbGV2ZWwsXG4gICAgICBtZXNzYWdlLFxuICAgICAgcHJlZml4LFxuICAgICAgY29sb3JzOiBjdXN0b21Db2xvcnMsXG4gICAgICBwb3NpdGlvbmFscyA9IFtdXG4gICAgfSA9IGFyZ3M7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmNyZWF0ZUVudHJ5KGxldmVsLCBtZXNzYWdlKTtcbiAgICBjb25zdCB0aW1lc3RhbXBDb2xvciA9IGN1c3RvbUNvbG9ycz8udGltZXN0YW1wIHx8IFwiZ3JheVwiO1xuICAgIGNvbnN0IHByZWZpeENvbG9yID0gY3VzdG9tQ29sb3JzPy5wcmVmaXggfHwgXCJncmF5XCI7XG4gICAgY29uc3QgY29sb3JpemUgPSB7XG4gICAgICB0aW1lc3RhbXA6IGNvbG9yc19leHBvcnRzW3RpbWVzdGFtcENvbG9yXSxcbiAgICAgIHByZWZpeDogY29sb3JzX2V4cG9ydHNbcHJlZml4Q29sb3JdXG4gICAgfTtcbiAgICBjb25zdCB3cml0ZSA9IHRoaXMuZ2V0V3JpdGVyKGxldmVsKTtcbiAgICB3cml0ZShcbiAgICAgIFtjb2xvcml6ZS50aW1lc3RhbXAodGhpcy5mb3JtYXRUaW1lc3RhbXAoZW50cnkudGltZXN0YW1wKSldLmNvbmNhdChwcmVmaXggIT0gbnVsbCA/IGNvbG9yaXplLnByZWZpeChwcmVmaXgpIDogW10pLmNvbmNhdChzZXJpYWxpemVJbnB1dChtZXNzYWdlKSkuam9pbihcIiBcIiksXG4gICAgICAuLi5wb3NpdGlvbmFscy5tYXAoc2VyaWFsaXplSW5wdXQpXG4gICAgKTtcbiAgfVxuICBmb3JtYXRUaW1lc3RhbXAodGltZXN0YW1wKSB7XG4gICAgcmV0dXJuIGAke3RpbWVzdGFtcC50b0xvY2FsZVRpbWVTdHJpbmcoXG4gICAgICBcImVuLUdCXCJcbiAgICApfToke3RpbWVzdGFtcC5nZXRNaWxsaXNlY29uZHMoKX1gO1xuICB9XG4gIGdldFdyaXRlcihsZXZlbCkge1xuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgXCJkZWJ1Z1wiOlxuICAgICAgY2FzZSBcInN1Y2Nlc3NcIjpcbiAgICAgIGNhc2UgXCJpbmZvXCI6IHtcbiAgICAgICAgcmV0dXJuIGxvZztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ3YXJuaW5nXCI6IHtcbiAgICAgICAgcmV0dXJuIHdhcm47XG4gICAgICB9XG4gICAgICBjYXNlIFwiZXJyb3JcIjoge1xuICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xudmFyIFBlcmZvcm1hbmNlRW50cnkgPSBjbGFzcyB7XG4gIHN0YXJ0VGltZTtcbiAgZW5kVGltZTtcbiAgZGVsdGFUaW1lO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICB9XG4gIG1lYXN1cmUoKSB7XG4gICAgdGhpcy5lbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgZGVsdGFUaW1lID0gdGhpcy5lbmRUaW1lIC0gdGhpcy5zdGFydFRpbWU7XG4gICAgdGhpcy5kZWx0YVRpbWUgPSBkZWx0YVRpbWUudG9GaXhlZCgyKTtcbiAgfVxufTtcbnZhciBub29wID0gKCkgPT4gdm9pZCAwO1xuZnVuY3Rpb24gbG9nKG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSB7XG4gIGlmIChJU19OT0RFKSB7XG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoZm9ybWF0KG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSArIFwiXFxuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmxvZyhtZXNzYWdlLCAuLi5wb3NpdGlvbmFscyk7XG59XG5mdW5jdGlvbiB3YXJuKG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSB7XG4gIGlmIChJU19OT0RFKSB7XG4gICAgcHJvY2Vzcy5zdGRlcnIud3JpdGUoZm9ybWF0KG1lc3NhZ2UsIC4uLnBvc2l0aW9uYWxzKSArIFwiXFxuXCIpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLndhcm4obWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpO1xufVxuZnVuY3Rpb24gZXJyb3IobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpIHtcbiAgaWYgKElTX05PREUpIHtcbiAgICBwcm9jZXNzLnN0ZGVyci53cml0ZShmb3JtYXQobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpICsgXCJcXG5cIik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgLi4ucG9zaXRpb25hbHMpO1xufVxuZnVuY3Rpb24gZ2V0VmFyaWFibGUodmFyaWFibGVOYW1lKSB7XG4gIGlmIChJU19OT0RFKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52W3ZhcmlhYmxlTmFtZV07XG4gIH1cbiAgcmV0dXJuIGdsb2JhbFRoaXNbdmFyaWFibGVOYW1lXT8udG9TdHJpbmcoKTtcbn1cbmZ1bmN0aW9uIGlzRGVmaW5lZEFuZE5vdEVxdWFscyh2YWx1ZSwgZXhwZWN0ZWQpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2b2lkIDAgJiYgdmFsdWUgIT09IGV4cGVjdGVkO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplSW5wdXQobWVzc2FnZSkge1xuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgfVxuICBpZiAobWVzc2FnZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBcIm51bGxcIjtcbiAgfVxuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG4gIH1cbiAgcmV0dXJuIG1lc3NhZ2UudG9TdHJpbmcoKTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL3N0cmljdC1ldmVudC1lbWl0dGVyQDAuNS4xL25vZGVfbW9kdWxlcy9zdHJpY3QtZXZlbnQtZW1pdHRlci9saWIvaW5kZXgubWpzXG52YXIgTWVtb3J5TGVha0Vycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKGVtaXR0ZXIsIHR5cGUsIGNvdW50KSB7XG4gICAgc3VwZXIoXG4gICAgICBgUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAke2NvdW50fSAke3R5cGUudG9TdHJpbmcoKX0gbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdGBcbiAgICApO1xuICAgIHRoaXMuZW1pdHRlciA9IGVtaXR0ZXI7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgdGhpcy5uYW1lID0gXCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIjtcbiAgfVxufTtcbnZhciBfRW1pdHRlciA9IGNsYXNzIHtcbiAgc3RhdGljIGxpc3RlbmVyQ291bnQoZW1pdHRlciwgZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudChldmVudE5hbWUpO1xuICB9XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZXZlbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLm1heExpc3RlbmVycyA9IF9FbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gICAgdGhpcy5oYXNXYXJuZWRBYm91dFBvdGVudGlhbE1lbW9yeUxlYWsgPSBmYWxzZTtcbiAgfVxuICBfZW1pdEludGVybmFsRXZlbnQoaW50ZXJuYWxFdmVudE5hbWUsIGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLmVtaXQoXG4gICAgICBpbnRlcm5hbEV2ZW50TmFtZSxcbiAgICAgIC4uLltldmVudE5hbWUsIGxpc3RlbmVyXVxuICAgICk7XG4gIH1cbiAgX2dldExpc3RlbmVycyhldmVudE5hbWUpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgdGhpcy5ldmVudHMuZ2V0KGV2ZW50TmFtZSkpIHx8IFtdO1xuICB9XG4gIF9yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcnMsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbiAgX3dyYXBPbmNlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IG9uY2VMaXN0ZW5lciA9ICguLi5kYXRhKSA9PiB7XG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgb25jZUxpc3RlbmVyKTtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh0aGlzLCBkYXRhKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvbmNlTGlzdGVuZXIsIFwibmFtZVwiLCB7IHZhbHVlOiBsaXN0ZW5lci5uYW1lIH0pO1xuICAgIHJldHVybiBvbmNlTGlzdGVuZXI7XG4gIH1cbiAgc2V0TWF4TGlzdGVuZXJzKG1heExpc3RlbmVycykge1xuICAgIHRoaXMubWF4TGlzdGVuZXJzID0gbWF4TGlzdGVuZXJzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IG1heCBsaXN0ZW5lciB2YWx1ZSBmb3IgdGhlIGBFbWl0dGVyYCB3aGljaCBpc1xuICAgKiBlaXRoZXIgc2V0IGJ5IGBlbWl0dGVyLnNldE1heExpc3RlbmVycyhuKWAgb3IgZGVmYXVsdHMgdG9cbiAgICogYEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVyc2AuXG4gICAqL1xuICBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubWF4TGlzdGVuZXJzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICAgKiBUaGUgdmFsdWVzIGluIHRoZSBhcnJheSB3aWxsIGJlIHN0cmluZ3Mgb3IgU3ltYm9scy5cbiAgICovXG4gIGV2ZW50TmFtZXMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5ldmVudHMua2V5cygpKTtcbiAgfVxuICAvKipcbiAgICogU3luY2hyb25vdXNseSBjYWxscyBlYWNoIG9mIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgdGhlIGV2ZW50IG5hbWVkIGBldmVudE5hbWVgLFxuICAgKiBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIHJlZ2lzdGVyZWQsIHBhc3NpbmcgdGhlIHN1cHBsaWVkIGFyZ3VtZW50cyB0byBlYWNoLlxuICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZXZlbnQgaGFzIGxpc3RlbmVycywgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcjx7IGhlbGxvOiBbc3RyaW5nXSB9PigpXG4gICAqIGVtaXR0ZXIuZW1pdCgnaGVsbG8nLCAnSm9obicpXG4gICAqL1xuICBlbWl0KGV2ZW50TmFtZSwgLi4uZGF0YSkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2dldExpc3RlbmVycyhldmVudE5hbWUpO1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgZGF0YSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGggPiAwO1xuICB9XG4gIGFkZExpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLl9lbWl0SW50ZXJuYWxFdmVudChcIm5ld0xpc3RlbmVyXCIsIGV2ZW50TmFtZSwgbGlzdGVuZXIpO1xuICAgIGNvbnN0IG5leHRMaXN0ZW5lcnMgPSB0aGlzLl9nZXRMaXN0ZW5lcnMoZXZlbnROYW1lKS5jb25jYXQobGlzdGVuZXIpO1xuICAgIHRoaXMuZXZlbnRzLnNldChldmVudE5hbWUsIG5leHRMaXN0ZW5lcnMpO1xuICAgIGlmICh0aGlzLm1heExpc3RlbmVycyA+IDAgJiYgdGhpcy5saXN0ZW5lckNvdW50KGV2ZW50TmFtZSkgPiB0aGlzLm1heExpc3RlbmVycyAmJiAhdGhpcy5oYXNXYXJuZWRBYm91dFBvdGVudGlhbE1lbW9yeUxlYWspIHtcbiAgICAgIHRoaXMuaGFzV2FybmVkQWJvdXRQb3RlbnRpYWxNZW1vcnlMZWFrID0gdHJ1ZTtcbiAgICAgIGNvbnN0IG1lbW9yeUxlYWtXYXJuaW5nID0gbmV3IE1lbW9yeUxlYWtFcnJvcihcbiAgICAgICAgdGhpcyxcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICB0aGlzLmxpc3RlbmVyQ291bnQoZXZlbnROYW1lKVxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUud2FybihtZW1vcnlMZWFrV2FybmluZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9uKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgfVxuICBvbmNlKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcihcbiAgICAgIGV2ZW50TmFtZSxcbiAgICAgIHRoaXMuX3dyYXBPbmNlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcilcbiAgICApO1xuICB9XG4gIHByZXBlbmRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fZ2V0TGlzdGVuZXJzKGV2ZW50TmFtZSk7XG4gICAgaWYgKGxpc3RlbmVycy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBuZXh0TGlzdGVuZXJzID0gW2xpc3RlbmVyXS5jb25jYXQobGlzdGVuZXJzKTtcbiAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudE5hbWUsIG5leHRMaXN0ZW5lcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmV2ZW50cy5zZXQoZXZlbnROYW1lLCBsaXN0ZW5lcnMuY29uY2F0KGxpc3RlbmVyKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHByZXBlbmRPbmNlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIHJldHVybiB0aGlzLnByZXBlbmRMaXN0ZW5lcihcbiAgICAgIGV2ZW50TmFtZSxcbiAgICAgIHRoaXMuX3dyYXBPbmNlTGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5lcilcbiAgICApO1xuICB9XG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9nZXRMaXN0ZW5lcnMoZXZlbnROYW1lKTtcbiAgICBpZiAobGlzdGVuZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVyKGxpc3RlbmVycywgbGlzdGVuZXIpO1xuICAgICAgdGhpcy5ldmVudHMuc2V0KGV2ZW50TmFtZSwgbGlzdGVuZXJzKTtcbiAgICAgIHRoaXMuX2VtaXRJbnRlcm5hbEV2ZW50KFwicmVtb3ZlTGlzdGVuZXJcIiwgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgYGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoKWAuXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGVtaXR0ZXIub2ZmKCdoZWxsbycsIGxpc3RlbmVyKVxuICAgKi9cbiAgb2ZmKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgfVxuICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnROYW1lKSB7XG4gICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgdGhpcy5ldmVudHMuZGVsZXRlKGV2ZW50TmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXZlbnRzLmNsZWFyKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGUgYXJyYXkgb2YgbGlzdGVuZXJzIGZvciB0aGUgZXZlbnQgbmFtZWQgYGV2ZW50TmFtZWAuXG4gICAqL1xuICBsaXN0ZW5lcnMoZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fZ2V0TGlzdGVuZXJzKGV2ZW50TmFtZSkpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzIGxpc3RlbmluZyB0byB0aGUgZXZlbnQgbmFtZWQgYGV2ZW50TmFtZWAuXG4gICAqL1xuICBsaXN0ZW5lckNvdW50KGV2ZW50TmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9nZXRMaXN0ZW5lcnMoZXZlbnROYW1lKS5sZW5ndGg7XG4gIH1cbiAgcmF3TGlzdGVuZXJzKGV2ZW50TmFtZSkge1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVycyhldmVudE5hbWUpO1xuICB9XG59O1xudmFyIEVtaXR0ZXIgPSBfRW1pdHRlcjtcbkVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBub2RlX21vZHVsZXMvLnBucG0vQG1zd2pzK2ludGVyY2VwdG9yc0AwLjM3LjEvbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL2Jyb3dzZXIvY2h1bmstUUVEM1E2WjIubWpzXG52YXIgSU5URVJOQUxfUkVRVUVTVF9JRF9IRUFERVJfTkFNRSA9IFwieC1pbnRlcmNlcHRvcnMtaW50ZXJuYWwtcmVxdWVzdC1pZFwiO1xuZnVuY3Rpb24gZ2V0R2xvYmFsU3ltYm9sKHN5bWJvbCkge1xuICByZXR1cm4gKFxuICAgIC8vIEB0cy1pZ25vcmUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNDU4N1xuICAgIGdsb2JhbFRoaXNbc3ltYm9sXSB8fCB2b2lkIDBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNldEdsb2JhbFN5bWJvbChzeW1ib2wsIHZhbHVlKSB7XG4gIGdsb2JhbFRoaXNbc3ltYm9sXSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gZGVsZXRlR2xvYmFsU3ltYm9sKHN5bWJvbCkge1xuICBkZWxldGUgZ2xvYmFsVGhpc1tzeW1ib2xdO1xufVxudmFyIEludGVyY2VwdG9yID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihzeW1ib2wpIHtcbiAgICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIklOQUNUSVZFXCI7XG4gICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBMb2dnZXIoc3ltYm9sLmRlc2NyaXB0aW9uKTtcbiAgICB0aGlzLmVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKDApO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJjb25zdHJ1Y3RpbmcgdGhlIGludGVyY2VwdG9yLi4uXCIpO1xuICB9XG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgaWYgdGhpcyBpbnRlcmNlcHRvciBjYW4gYmUgYXBwbGllZFxuICAgKiBpbiB0aGUgY3VycmVudCBlbnZpcm9ubWVudC5cbiAgICovXG4gIGNoZWNrRW52aXJvbm1lbnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGx5IHRoaXMgaW50ZXJjZXB0b3IgdG8gdGhlIGN1cnJlbnQgcHJvY2Vzcy5cbiAgICogUmV0dXJucyBhbiBhbHJlYWR5IHJ1bm5pbmcgaW50ZXJjZXB0b3IgaW5zdGFuY2UgaWYgaXQncyBwcmVzZW50LlxuICAgKi9cbiAgYXBwbHkoKSB7XG4gICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuZXh0ZW5kKFwiYXBwbHlcIik7XG4gICAgbG9nZ2VyLmluZm8oXCJhcHBseWluZyB0aGUgaW50ZXJjZXB0b3IuLi5cIik7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJBUFBMSUVEXCIpIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiaW50ZXJjZXB0ZWQgYWxyZWFkeSBhcHBsaWVkIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2hvdWxkQXBwbHkgPSB0aGlzLmNoZWNrRW52aXJvbm1lbnQoKTtcbiAgICBpZiAoIXNob3VsZEFwcGx5KSB7XG4gICAgICBsb2dnZXIuaW5mbyhcInRoZSBpbnRlcmNlcHRvciBjYW5ub3QgYmUgYXBwbGllZCBpbiB0aGlzIGVudmlyb25tZW50IVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gXCJBUFBMWUlOR1wiO1xuICAgIGNvbnN0IHJ1bm5pbmdJbnN0YW5jZSA9IHRoaXMuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAocnVubmluZ0luc3RhbmNlKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImZvdW5kIGEgcnVubmluZyBpbnN0YW5jZSwgcmV1c2luZy4uLlwiKTtcbiAgICAgIHRoaXMub24gPSAoZXZlbnQsIGxpc3RlbmVyKSA9PiB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdwcm94eWluZyB0aGUgXCIlc1wiIGxpc3RlbmVyJywgZXZlbnQpO1xuICAgICAgICBydW5uaW5nSW5zdGFuY2UuZW1pdHRlci5hZGRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgcnVubmluZ0luc3RhbmNlLmVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgICBsb2dnZXIuaW5mbygncmVtb3ZlZCBwcm94aWVkIFwiJXNcIiBsaXN0ZW5lciEnLCBldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIkFQUExJRURcIjtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmluZm8oXCJubyBydW5uaW5nIGluc3RhbmNlIGZvdW5kLCBzZXR0aW5nIHVwIGEgbmV3IGluc3RhbmNlLi4uXCIpO1xuICAgIHRoaXMuc2V0dXAoKTtcbiAgICB0aGlzLnNldEluc3RhbmNlKCk7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gXCJBUFBMSUVEXCI7XG4gIH1cbiAgLyoqXG4gICAqIFNldHVwIHRoZSBtb2R1bGUgYXVnbWVudHMgYW5kIHN0dWJzIG5lY2Vzc2FyeSBmb3IgdGhpcyBpbnRlcmNlcHRvci5cbiAgICogVGhpcyBtZXRob2QgaXMgbm90IHJ1biBpZiB0aGVyZSdzIGEgcnVubmluZyBpbnRlcmNlcHRvciBpbnN0YW5jZVxuICAgKiB0byBwcmV2ZW50IGluc3RhbnRpYXRpbmcgYW4gaW50ZXJjZXB0b3IgbXVsdGlwbGUgdGltZXMuXG4gICAqL1xuICBzZXR1cCgpIHtcbiAgfVxuICAvKipcbiAgICogTGlzdGVuIHRvIHRoZSBpbnRlcmNlcHRvcidzIHB1YmxpYyBldmVudHMuXG4gICAqL1xuICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5leHRlbmQoXCJvblwiKTtcbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIkRJU1BPU0lOR1wiIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJESVNQT1NFRFwiKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImNhbm5vdCBsaXN0ZW4gdG8gZXZlbnRzLCBhbHJlYWR5IGRpc3Bvc2VkIVwiKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBsb2dnZXIuaW5mbygnYWRkaW5nIFwiJXNcIiBldmVudCBsaXN0ZW5lcjonLCBldmVudCwgbGlzdGVuZXIpO1xuICAgIHRoaXMuZW1pdHRlci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG9uY2UoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgdGhpcy5lbWl0dGVyLm9uY2UoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgdGhpcy5lbWl0dGVyLm9mZihldmVudCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICAgIHRoaXMuZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBEaXNwb3NlcyBvZiBhbnkgc2lkZS1lZmZlY3RzIHRoaXMgaW50ZXJjZXB0b3IgaGFzIGludHJvZHVjZWQuXG4gICAqL1xuICBkaXNwb3NlKCkge1xuICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMubG9nZ2VyLmV4dGVuZChcImRpc3Bvc2VcIik7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gXCJESVNQT1NFRFwiKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcImNhbm5vdCBkaXNwb3NlLCBhbHJlYWR5IGRpc3Bvc2VkIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbG9nZ2VyLmluZm8oXCJkaXNwb3NpbmcgdGhlIGludGVyY2VwdG9yLi4uXCIpO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiRElTUE9TSU5HXCI7XG4gICAgaWYgKCF0aGlzLmdldEluc3RhbmNlKCkpIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwibm8gaW50ZXJjZXB0b3JzIHJ1bm5pbmcsIHNraXBwaW5nIGRpc3Bvc2UuLi5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY2xlYXJJbnN0YW5jZSgpO1xuICAgIGxvZ2dlci5pbmZvKFwiZ2xvYmFsIHN5bWJvbCBkZWxldGVkOlwiLCBnZXRHbG9iYWxTeW1ib2wodGhpcy5zeW1ib2wpKTtcbiAgICBpZiAodGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiZGlzcG9zaW5nIG9mICVkIHN1YnNjcmlwdGlvbnMuLi5cIiwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCk7XG4gICAgICBmb3IgKGNvbnN0IGRpc3Bvc2Ugb2YgdGhpcy5zdWJzY3JpcHRpb25zKSB7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgICAgbG9nZ2VyLmluZm8oXCJkaXNwb3NlZCBvZiBhbGwgc3Vic2NyaXB0aW9ucyFcIiwgdGhpcy5zdWJzY3JpcHRpb25zLmxlbmd0aCk7XG4gICAgfVxuICAgIHRoaXMuZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBsb2dnZXIuaW5mbyhcImRlc3Ryb3llZCB0aGUgbGlzdGVuZXIhXCIpO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiRElTUE9TRURcIjtcbiAgfVxuICBnZXRJbnN0YW5jZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRHbG9iYWxTeW1ib2wodGhpcy5zeW1ib2wpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXRyaWV2ZWQgZ2xvYmFsIGluc3RhbmNlOlwiLCAoX2EgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UuY29uc3RydWN0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbiAgc2V0SW5zdGFuY2UoKSB7XG4gICAgc2V0R2xvYmFsU3ltYm9sKHRoaXMuc3ltYm9sLCB0aGlzKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwic2V0IGdsb2JhbCBpbnN0YW5jZSFcIiwgdGhpcy5zeW1ib2wuZGVzY3JpcHRpb24pO1xuICB9XG4gIGNsZWFySW5zdGFuY2UoKSB7XG4gICAgZGVsZXRlR2xvYmFsU3ltYm9sKHRoaXMuc3ltYm9sKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwiY2xlYXJlZCBnbG9iYWwgaW5zdGFuY2UhXCIsIHRoaXMuc3ltYm9sLmRlc2NyaXB0aW9uKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3RJZCgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDIpO1xufVxuXG4vLyBub2RlX21vZHVsZXMvLnBucG0vQG1zd2pzK2ludGVyY2VwdG9yc0AwLjM3LjEvbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL2Jyb3dzZXIvaW5kZXgubWpzXG52YXIgQmF0Y2hJbnRlcmNlcHRvciA9IGNsYXNzIGV4dGVuZHMgSW50ZXJjZXB0b3Ige1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgQmF0Y2hJbnRlcmNlcHRvci5zeW1ib2wgPSBTeW1ib2wob3B0aW9ucy5uYW1lKTtcbiAgICBzdXBlcihCYXRjaEludGVyY2VwdG9yLnN5bWJvbCk7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMgPSBvcHRpb25zLmludGVyY2VwdG9ycztcbiAgfVxuICBzZXR1cCgpIHtcbiAgICBjb25zdCBsb2dnZXIgPSB0aGlzLmxvZ2dlci5leHRlbmQoXCJzZXR1cFwiKTtcbiAgICBsb2dnZXIuaW5mbyhcImFwcGx5aW5nIGFsbCAlZCBpbnRlcmNlcHRvcnMuLi5cIiwgdGhpcy5pbnRlcmNlcHRvcnMubGVuZ3RoKTtcbiAgICBmb3IgKGNvbnN0IGludGVyY2VwdG9yIG9mIHRoaXMuaW50ZXJjZXB0b3JzKSB7XG4gICAgICBsb2dnZXIuaW5mbygnYXBwbHlpbmcgXCIlc1wiIGludGVyY2VwdG9yLi4uJywgaW50ZXJjZXB0b3IuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICBpbnRlcmNlcHRvci5hcHBseSgpO1xuICAgICAgbG9nZ2VyLmluZm8oXCJhZGRpbmcgaW50ZXJjZXB0b3IgZGlzcG9zZSBzdWJzY3JpcHRpb25cIik7XG4gICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiBpbnRlcmNlcHRvci5kaXNwb3NlKCkpO1xuICAgIH1cbiAgfVxuICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBmb3IgKGNvbnN0IGludGVyY2VwdG9yIG9mIHRoaXMuaW50ZXJjZXB0b3JzKSB7XG4gICAgICBpbnRlcmNlcHRvci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvbmNlKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGZvciAoY29uc3QgaW50ZXJjZXB0b3Igb2YgdGhpcy5pbnRlcmNlcHRvcnMpIHtcbiAgICAgIGludGVyY2VwdG9yLm9uY2UoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGZvciAoY29uc3QgaW50ZXJjZXB0b3Igb2YgdGhpcy5pbnRlcmNlcHRvcnMpIHtcbiAgICAgIGludGVyY2VwdG9yLm9mZihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgICBmb3IgKGNvbnN0IGludGVyY2VwdG9ycyBvZiB0aGlzLmludGVyY2VwdG9ycykge1xuICAgICAgaW50ZXJjZXB0b3JzLnJlbW92ZUFsbExpc3RlbmVycyhldmVudCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC9jcmVhdGVSZXNwb25zZUxpc3RlbmVyLnRzXG5mdW5jdGlvbiBjcmVhdGVSZXNwb25zZUxpc3RlbmVyKGNvbnRleHQpIHtcbiAgcmV0dXJuIChfLCBtZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgeyBwYXlsb2FkOiByZXNwb25zZUpzb24gfSA9IG1lc3NhZ2U7XG4gICAgY29uc3QgeyByZXF1ZXN0SWQgfSA9IHJlc3BvbnNlSnNvbjtcbiAgICBjb25zdCByZXF1ZXN0ID0gY29udGV4dC5yZXF1ZXN0cy5nZXQocmVxdWVzdElkKTtcbiAgICBjb250ZXh0LnJlcXVlc3RzLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgIGlmIChyZXNwb25zZUpzb24udHlwZT8uaW5jbHVkZXMoXCJvcGFxdWVcIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSByZXNwb25zZUpzb24uc3RhdHVzID09PSAwID8gUmVzcG9uc2UuZXJyb3IoKSA6IG5ldyBGZXRjaFJlc3BvbnNlKFxuICAgICAgLyoqXG4gICAgICAgKiBSZXNwb25zZXMgbWF5IGJlIHN0cmVhbXMgaGVyZSwgYnV0IHdoZW4gd2UgY3JlYXRlIGEgcmVzcG9uc2Ugb2JqZWN0XG4gICAgICAgKiB3aXRoIG51bGwtYm9keSBzdGF0dXMgY29kZXMsIGxpa2UgMjA0LCAyMDUsIDMwNCBSZXNwb25zZSB3aWxsXG4gICAgICAgKiB0aHJvdyB3aGVuIHBhc3NlZCBhIG5vbi1udWxsIGJvZHksIHNvIGVuc3VyZSBpdCdzIG51bGwgaGVyZVxuICAgICAgICogZm9yIHRob3NlIGNvZGVzXG4gICAgICAgKi9cbiAgICAgIEZldGNoUmVzcG9uc2UuaXNSZXNwb25zZVdpdGhCb2R5KHJlc3BvbnNlSnNvbi5zdGF0dXMpID8gcmVzcG9uc2VKc29uLmJvZHkgOiBudWxsLFxuICAgICAge1xuICAgICAgICAuLi5yZXNwb25zZUpzb24sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcmVzcG9uc2UgVVJMIGlmIGl0J3Mgbm90IHNldCBhbHJlYWR5LlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tc3dqcy9tc3cvaXNzdWVzLzIwMzBcbiAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVzcG9uc2UvdXJsXG4gICAgICAgICAqL1xuICAgICAgICB1cmw6IHJlcXVlc3QudXJsXG4gICAgICB9XG4gICAgKTtcbiAgICBjb250ZXh0LmVtaXR0ZXIuZW1pdChcbiAgICAgIHJlc3BvbnNlSnNvbi5pc01vY2tlZFJlc3BvbnNlID8gXCJyZXNwb25zZTptb2NrZWRcIiA6IFwicmVzcG9uc2U6YnlwYXNzXCIsXG4gICAgICB7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICByZXF1ZXN0SWQ6IHJlc3BvbnNlSnNvbi5yZXF1ZXN0SWRcbiAgICAgIH1cbiAgICApO1xuICB9O1xufVxuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdGFydC91dGlscy92YWxpZGF0ZVdvcmtlclNjb3BlLnRzXG5pbXBvcnQgeyBkZXZVdGlscyBhcyBkZXZVdGlsczYgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5mdW5jdGlvbiB2YWxpZGF0ZVdvcmtlclNjb3BlKHJlZ2lzdHJhdGlvbiwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnM/LnF1aWV0ICYmICFsb2NhdGlvbi5ocmVmLnN0YXJ0c1dpdGgocmVnaXN0cmF0aW9uLnNjb3BlKSkge1xuICAgIGRldlV0aWxzNi53YXJuKFxuICAgICAgYENhbm5vdCBpbnRlcmNlcHQgcmVxdWVzdHMgb24gdGhpcyBwYWdlIGJlY2F1c2UgaXQncyBvdXRzaWRlIG9mIHRoZSB3b3JrZXIncyBzY29wZSAoXCIke3JlZ2lzdHJhdGlvbi5zY29wZX1cIikuIElmIHlvdSB3aXNoIHRvIG1vY2sgQVBJIHJlcXVlc3RzIG9uIHRoaXMgcGFnZSwgeW91IG11c3QgcmVzb2x2ZSB0aGlzIHNjb3BlIGlzc3VlLlxuXG4tIChSZWNvbW1lbmRlZCkgUmVnaXN0ZXIgdGhlIHdvcmtlciBhdCB0aGUgcm9vdCBsZXZlbCAoXCIvXCIpIG9mIHlvdXIgYXBwbGljYXRpb24uXG4tIFNldCB0aGUgXCJTZXJ2aWNlLVdvcmtlci1BbGxvd2VkXCIgcmVzcG9uc2UgaGVhZGVyIHRvIGFsbG93IG91dC1vZi1zY29wZSB3b3JrZXJzLmBcbiAgICApO1xuICB9XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L2NyZWF0ZVN0YXJ0SGFuZGxlci50c1xudmFyIGNyZWF0ZVN0YXJ0SGFuZGxlciA9IChjb250ZXh0KSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBzdGFydChvcHRpb25zLCBjdXN0b21PcHRpb25zKSB7XG4gICAgY29uc3Qgc3RhcnRXb3JrZXJJbnN0YW5jZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnRleHQuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgY29udGV4dC53b3JrZXJDaGFubmVsLm9uKFxuICAgICAgICBcIlJFUVVFU1RcIixcbiAgICAgICAgY3JlYXRlUmVxdWVzdExpc3RlbmVyKGNvbnRleHQsIG9wdGlvbnMpXG4gICAgICApO1xuICAgICAgY29udGV4dC53b3JrZXJDaGFubmVsLm9uKFwiUkVTUE9OU0VcIiwgY3JlYXRlUmVzcG9uc2VMaXN0ZW5lcihjb250ZXh0KSk7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGF3YWl0IGdldFdvcmtlckluc3RhbmNlKFxuICAgICAgICBvcHRpb25zLnNlcnZpY2VXb3JrZXIudXJsLFxuICAgICAgICBvcHRpb25zLnNlcnZpY2VXb3JrZXIub3B0aW9ucyxcbiAgICAgICAgb3B0aW9ucy5maW5kV29ya2VyXG4gICAgICApO1xuICAgICAgY29uc3QgW3dvcmtlciwgcmVnaXN0cmF0aW9uXSA9IGluc3RhbmNlO1xuICAgICAgaWYgKCF3b3JrZXIpIHtcbiAgICAgICAgY29uc3QgbWlzc2luZ1dvcmtlck1lc3NhZ2UgPSBjdXN0b21PcHRpb25zPy5maW5kV29ya2VyID8gZGV2VXRpbHM3LmZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgYEZhaWxlZCB0byBsb2NhdGUgdGhlIFNlcnZpY2UgV29ya2VyIHJlZ2lzdHJhdGlvbiB1c2luZyBhIGN1c3RvbSBcImZpbmRXb3JrZXJcIiBwcmVkaWNhdGUuXG5cblBsZWFzZSBlbnN1cmUgdGhhdCB0aGUgY3VzdG9tIHByZWRpY2F0ZSBwcm9wZXJseSBsb2NhdGVzIHRoZSBTZXJ2aWNlIFdvcmtlciByZWdpc3RyYXRpb24gYXQgXCIlc1wiLlxuTW9yZSBkZXRhaWxzOiBodHRwczovL21zd2pzLmlvL2RvY3MvYXBpL3NldHVwLXdvcmtlci9zdGFydCNmaW5kd29ya2VyXG5gLFxuICAgICAgICAgIG9wdGlvbnMuc2VydmljZVdvcmtlci51cmxcbiAgICAgICAgKSA6IGRldlV0aWxzNy5mb3JtYXRNZXNzYWdlKFxuICAgICAgICAgIGBGYWlsZWQgdG8gbG9jYXRlIHRoZSBTZXJ2aWNlIFdvcmtlciByZWdpc3RyYXRpb24uXG5cblRoaXMgbW9zdCBsaWtlbHkgbWVhbnMgdGhhdCB0aGUgd29ya2VyIHNjcmlwdCBVUkwgXCIlc1wiIGNhbm5vdCByZXNvbHZlIGFnYWluc3QgdGhlIGFjdHVhbCBwdWJsaWMgaG9zdG5hbWUgKCVzKS4gVGhpcyBtYXkgaGFwcGVuIGlmIHlvdXIgYXBwbGljYXRpb24gcnVucyBiZWhpbmQgYSBwcm94eSwgb3IgaGFzIGEgZHluYW1pYyBob3N0bmFtZS5cblxuUGxlYXNlIGNvbnNpZGVyIHVzaW5nIGEgY3VzdG9tIFwic2VydmljZVdvcmtlci51cmxcIiBvcHRpb24gdG8gcG9pbnQgdG8gdGhlIGFjdHVhbCB3b3JrZXIgc2NyaXB0IGxvY2F0aW9uLCBvciBhIGN1c3RvbSBcImZpbmRXb3JrZXJcIiBvcHRpb24gdG8gcmVzb2x2ZSB0aGUgU2VydmljZSBXb3JrZXIgcmVnaXN0cmF0aW9uIG1hbnVhbGx5LiBNb3JlIGRldGFpbHM6IGh0dHBzOi8vbXN3anMuaW8vZG9jcy9hcGkvc2V0dXAtd29ya2VyL3N0YXJ0YCxcbiAgICAgICAgICBvcHRpb25zLnNlcnZpY2VXb3JrZXIudXJsLFxuICAgICAgICAgIGxvY2F0aW9uLmhvc3RcbiAgICAgICAgKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1pc3NpbmdXb3JrZXJNZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQud29ya2VyID0gd29ya2VyO1xuICAgICAgY29udGV4dC5yZWdpc3RyYXRpb24gPSByZWdpc3RyYXRpb247XG4gICAgICBjb250ZXh0LmV2ZW50cy5hZGRMaXN0ZW5lcih3aW5kb3csIFwiYmVmb3JldW5sb2FkXCIsICgpID0+IHtcbiAgICAgICAgaWYgKHdvcmtlci5zdGF0ZSAhPT0gXCJyZWR1bmRhbnRcIikge1xuICAgICAgICAgIGNvbnRleHQud29ya2VyQ2hhbm5lbC5zZW5kKFwiQ0xJRU5UX0NMT1NFRFwiKTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChjb250ZXh0LmtlZXBBbGl2ZUludGVydmFsKTtcbiAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKHsgdHlwZTogXCJtc3cvd29ya2VyOnN0b3BcIiB9KTtcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgY2hlY2tXb3JrZXJJbnRlZ3JpdHkoY29udGV4dCkuY2F0Y2goKGVycm9yMikgPT4ge1xuICAgICAgICBkZXZVdGlsczcuZXJyb3IoXG4gICAgICAgICAgXCJFcnJvciB3aGlsZSBjaGVja2luZyB0aGUgd29ya2VyIHNjcmlwdCBpbnRlZ3JpdHkuIFBsZWFzZSByZXBvcnQgdGhpcyBvbiBHaXRIdWIgKGh0dHBzOi8vZ2l0aHViLmNvbS9tc3dqcy9tc3cvaXNzdWVzKSwgaW5jbHVkaW5nIHRoZSBvcmlnaW5hbCBlcnJvciBiZWxvdy5cIlxuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yMik7XG4gICAgICB9KTtcbiAgICAgIGNvbnRleHQua2VlcEFsaXZlSW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoXG4gICAgICAgICgpID0+IGNvbnRleHQud29ya2VyQ2hhbm5lbC5zZW5kKFwiS0VFUEFMSVZFX1JFUVVFU1RcIiksXG4gICAgICAgIDVlM1xuICAgICAgKTtcbiAgICAgIHZhbGlkYXRlV29ya2VyU2NvcGUocmVnaXN0cmF0aW9uLCBjb250ZXh0LnN0YXJ0T3B0aW9ucyk7XG4gICAgICByZXR1cm4gcmVnaXN0cmF0aW9uO1xuICAgIH07XG4gICAgY29uc3Qgd29ya2VyUmVnaXN0cmF0aW9uID0gc3RhcnRXb3JrZXJJbnN0YW5jZSgpLnRoZW4oXG4gICAgICBhc3luYyAocmVnaXN0cmF0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHBlbmRpbmdJbnN0YW5jZSA9IHJlZ2lzdHJhdGlvbi5pbnN0YWxsaW5nIHx8IHJlZ2lzdHJhdGlvbi53YWl0aW5nO1xuICAgICAgICBpZiAocGVuZGluZ0luc3RhbmNlKSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHBlbmRpbmdJbnN0YW5jZS5hZGRFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAocGVuZGluZ0luc3RhbmNlLnN0YXRlID09PSBcImFjdGl2YXRlZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgZW5hYmxlTW9ja2luZyhjb250ZXh0LCBvcHRpb25zKS5jYXRjaCgoZXJyb3IyKSA9PiB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZW5hYmxlIG1vY2tpbmc6ICR7ZXJyb3IyPy5tZXNzYWdlfWApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbjtcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB3b3JrZXJSZWdpc3RyYXRpb247XG4gIH07XG59O1xuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zdG9wL2NyZWF0ZVN0b3AudHNcbmltcG9ydCB7IGRldlV0aWxzIGFzIGRldlV0aWxzOSB9IGZyb20gJy4uL2NvcmUvdXRpbHMvaW50ZXJuYWwvZGV2VXRpbHMubWpzJztcblxuLy8gc3JjL2Jyb3dzZXIvc2V0dXBXb3JrZXIvc3RvcC91dGlscy9wcmludFN0b3BNZXNzYWdlLnRzXG5pbXBvcnQgeyBkZXZVdGlscyBhcyBkZXZVdGlsczggfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL2RldlV0aWxzLm1qcyc7XG5mdW5jdGlvbiBwcmludFN0b3BNZXNzYWdlKGFyZ3MgPSB7fSkge1xuICBpZiAoYXJncy5xdWlldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmxvZyhcbiAgICBgJWMke2RldlV0aWxzOC5mb3JtYXRNZXNzYWdlKFwiTW9ja2luZyBkaXNhYmxlZC5cIil9YCxcbiAgICBcImNvbG9yOm9yYW5nZXJlZDtmb250LXdlaWdodDpib2xkO1wiXG4gICk7XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0b3AvY3JlYXRlU3RvcC50c1xudmFyIGNyZWF0ZVN0b3AgPSAoY29udGV4dCkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBpZiAoIWNvbnRleHQuaXNNb2NraW5nRW5hYmxlZCkge1xuICAgICAgZGV2VXRpbHM5Lndhcm4oXG4gICAgICAgICdGb3VuZCBhIHJlZHVuZGFudCBcIndvcmtlci5zdG9wKClcIiBjYWxsLiBOb3RlIHRoYXQgc3RvcHBpbmcgdGhlIHdvcmtlciB3aGlsZSBtb2NraW5nIGFscmVhZHkgc3RvcHBlZCBoYXMgbm8gZWZmZWN0LiBDb25zaWRlciByZW1vdmluZyB0aGlzIFwid29ya2VyLnN0b3AoKVwiIGNhbGwuJ1xuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29udGV4dC53b3JrZXJDaGFubmVsLnNlbmQoXCJNT0NLX0RFQUNUSVZBVEVcIik7XG4gICAgY29udGV4dC5pc01vY2tpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgd2luZG93LmNsZWFySW50ZXJ2YWwoY29udGV4dC5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgd2luZG93LnBvc3RNZXNzYWdlKHsgdHlwZTogXCJtc3cvd29ya2VyOnN0b3BcIiB9KTtcbiAgICBwcmludFN0b3BNZXNzYWdlKHsgcXVpZXQ6IGNvbnRleHQuc3RhcnRPcHRpb25zPy5xdWlldCB9KTtcbiAgfTtcbn07XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L3V0aWxzL3ByZXBhcmVTdGFydEhhbmRsZXIudHNcbmltcG9ydCB7IG1lcmdlUmlnaHQgfSBmcm9tICcuLi9jb3JlL3V0aWxzL2ludGVybmFsL21lcmdlUmlnaHQubWpzJztcbnZhciBERUZBVUxUX1NUQVJUX09QVElPTlMgPSB7XG4gIHNlcnZpY2VXb3JrZXI6IHtcbiAgICB1cmw6IFwiL21vY2tTZXJ2aWNlV29ya2VyLmpzXCIsXG4gICAgb3B0aW9uczogbnVsbFxuICB9LFxuICBxdWlldDogZmFsc2UsXG4gIHdhaXRVbnRpbFJlYWR5OiB0cnVlLFxuICBvblVuaGFuZGxlZFJlcXVlc3Q6IFwid2FyblwiLFxuICBmaW5kV29ya2VyKHNjcmlwdFVSTCwgbW9ja1NlcnZpY2VXb3JrZXJVcmwpIHtcbiAgICByZXR1cm4gc2NyaXB0VVJMID09PSBtb2NrU2VydmljZVdvcmtlclVybDtcbiAgfVxufTtcblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0BvcGVuLWRyYWZ0K2RlZmVycmVkLXByb21pc2VAMi4yLjAvbm9kZV9tb2R1bGVzL0BvcGVuLWRyYWZ0L2RlZmVycmVkLXByb21pc2UvYnVpbGQvaW5kZXgubWpzXG5mdW5jdGlvbiBjcmVhdGVEZWZlcnJlZEV4ZWN1dG9yKCkge1xuICBjb25zdCBleGVjdXRvciA9IChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBleGVjdXRvci5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgIGV4ZWN1dG9yLnJlc29sdmUgPSAoZGF0YSkgPT4ge1xuICAgICAgaWYgKGV4ZWN1dG9yLnN0YXRlICE9PSBcInBlbmRpbmdcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBleGVjdXRvci5yZXN1bHQgPSBkYXRhO1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSAodmFsdWUpID0+IHtcbiAgICAgICAgZXhlY3V0b3Iuc3RhdGUgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc29sdmUoXG4gICAgICAgIGRhdGEgaW5zdGFuY2VvZiBQcm9taXNlID8gZGF0YSA6IFByb21pc2UucmVzb2x2ZShkYXRhKS50aGVuKG9uRnVsZmlsbGVkKVxuICAgICAgKTtcbiAgICB9O1xuICAgIGV4ZWN1dG9yLnJlamVjdCA9IChyZWFzb24pID0+IHtcbiAgICAgIGlmIChleGVjdXRvci5zdGF0ZSAhPT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICBleGVjdXRvci5zdGF0ZSA9IFwicmVqZWN0ZWRcIjtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlamVjdChleGVjdXRvci5yZWplY3Rpb25SZWFzb24gPSByZWFzb24pO1xuICAgIH07XG4gIH07XG4gIHJldHVybiBleGVjdXRvcjtcbn1cbnZhciBEZWZlcnJlZFByb21pc2UgPSBjbGFzcyBleHRlbmRzIFByb21pc2Uge1xuICAjZXhlY3V0b3I7XG4gIHJlc29sdmU7XG4gIHJlamVjdDtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IgPSBudWxsKSB7XG4gICAgY29uc3QgZGVmZXJyZWRFeGVjdXRvciA9IGNyZWF0ZURlZmVycmVkRXhlY3V0b3IoKTtcbiAgICBzdXBlcigob3JpZ2luYWxSZXNvbHZlLCBvcmlnaW5hbFJlamVjdCkgPT4ge1xuICAgICAgZGVmZXJyZWRFeGVjdXRvcihvcmlnaW5hbFJlc29sdmUsIG9yaWdpbmFsUmVqZWN0KTtcbiAgICAgIGV4ZWN1dG9yPy4oZGVmZXJyZWRFeGVjdXRvci5yZXNvbHZlLCBkZWZlcnJlZEV4ZWN1dG9yLnJlamVjdCk7XG4gICAgfSk7XG4gICAgdGhpcy4jZXhlY3V0b3IgPSBkZWZlcnJlZEV4ZWN1dG9yO1xuICAgIHRoaXMucmVzb2x2ZSA9IHRoaXMuI2V4ZWN1dG9yLnJlc29sdmU7XG4gICAgdGhpcy5yZWplY3QgPSB0aGlzLiNleGVjdXRvci5yZWplY3Q7XG4gIH1cbiAgZ2V0IHN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLiNleGVjdXRvci5zdGF0ZTtcbiAgfVxuICBnZXQgcmVqZWN0aW9uUmVhc29uKCkge1xuICAgIHJldHVybiB0aGlzLiNleGVjdXRvci5yZWplY3Rpb25SZWFzb247XG4gIH1cbiAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgIHJldHVybiB0aGlzLiNkZWNvcmF0ZShzdXBlci50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSk7XG4gIH1cbiAgY2F0Y2gob25SZWplY3RlZCkge1xuICAgIHJldHVybiB0aGlzLiNkZWNvcmF0ZShzdXBlci5jYXRjaChvblJlamVjdGVkKSk7XG4gIH1cbiAgZmluYWxseShvbmZpbmFsbHkpIHtcbiAgICByZXR1cm4gdGhpcy4jZGVjb3JhdGUoc3VwZXIuZmluYWxseShvbmZpbmFsbHkpKTtcbiAgfVxuICAjZGVjb3JhdGUocHJvbWlzZSkge1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhwcm9taXNlLCB7XG4gICAgICByZXNvbHZlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRoaXMucmVzb2x2ZSB9LFxuICAgICAgcmVqZWN0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRoaXMucmVqZWN0IH1cbiAgICB9KTtcbiAgfVxufTtcblxuLy8gbm9kZV9tb2R1bGVzLy5wbnBtL0Btc3dqcytpbnRlcmNlcHRvcnNAMC4zNy4xL25vZGVfbW9kdWxlcy9AbXN3anMvaW50ZXJjZXB0b3JzL2xpYi9icm93c2VyL2NodW5rLUg1TzczV0QyLm1qc1xudmFyIEludGVyY2VwdG9yRXJyb3IgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiSW50ZXJjZXB0b3JFcnJvclwiO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBJbnRlcmNlcHRvckVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn07XG52YXIga1JlcXVlc3RIYW5kbGVkID0gU3ltYm9sKFwia1JlcXVlc3RIYW5kbGVkXCIpO1xudmFyIGtSZXNwb25zZVByb21pc2UgPSBTeW1ib2woXCJrUmVzcG9uc2VQcm9taXNlXCIpO1xudmFyIFJlcXVlc3RDb250cm9sbGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihyZXF1ZXN0KSB7XG4gICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICB0aGlzW2tSZXF1ZXN0SGFuZGxlZF0gPSBmYWxzZTtcbiAgICB0aGlzW2tSZXNwb25zZVByb21pc2VdID0gbmV3IERlZmVycmVkUHJvbWlzZSgpO1xuICB9XG4gIC8qKlxuICAgKiBSZXNwb25kIHRvIHRoaXMgcmVxdWVzdCB3aXRoIHRoZSBnaXZlbiBgUmVzcG9uc2VgIGluc3RhbmNlLlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb250cm9sbGVyLnJlc3BvbmRXaXRoKG5ldyBSZXNwb25zZSgpKVxuICAgKiBjb250cm9sbGVyLnJlc3BvbmRXaXRoKFJlc3BvbnNlLmpzb24oeyBpZCB9KSlcbiAgICogY29udHJvbGxlci5yZXNwb25kV2l0aChSZXNwb25zZS5lcnJvcigpKVxuICAgKi9cbiAgcmVzcG9uZFdpdGgocmVzcG9uc2UpIHtcbiAgICBpbnZhcmlhbnQuYXMoXG4gICAgICBJbnRlcmNlcHRvckVycm9yLFxuICAgICAgIXRoaXNba1JlcXVlc3RIYW5kbGVkXSxcbiAgICAgICdGYWlsZWQgdG8gcmVzcG9uZCB0byB0aGUgXCIlcyAlc1wiIHJlcXVlc3Q6IHRoZSBcInJlcXVlc3RcIiBldmVudCBoYXMgYWxyZWFkeSBiZWVuIGhhbmRsZWQuJyxcbiAgICAgIHRoaXMucmVxdWVzdC5tZXRob2QsXG4gICAgICB0aGlzLnJlcXVlc3QudXJsXG4gICAgKTtcbiAgICB0aGlzW2tSZXF1ZXN0SGFuZGxlZF0gPSB0cnVlO1xuICAgIHRoaXNba1Jlc3BvbnNlUHJvbWlzZV0ucmVzb2x2ZShyZXNwb25zZSk7XG4gIH1cbiAgLyoqXG4gICAqIEVycm9yIHRoaXMgcmVxdWVzdCB3aXRoIHRoZSBnaXZlbiBlcnJvci5cbiAgICogQGV4YW1wbGVcbiAgICogY29udHJvbGxlci5lcnJvcldpdGgoKVxuICAgKiBjb250cm9sbGVyLmVycm9yV2l0aChuZXcgRXJyb3IoJ09vcHMhJykpXG4gICAqL1xuICBlcnJvcldpdGgoZXJyb3IyKSB7XG4gICAgaW52YXJpYW50LmFzKFxuICAgICAgSW50ZXJjZXB0b3JFcnJvcixcbiAgICAgICF0aGlzW2tSZXF1ZXN0SGFuZGxlZF0sXG4gICAgICAnRmFpbGVkIHRvIGVycm9yIHRoZSBcIiVzICVzXCIgcmVxdWVzdDogdGhlIFwicmVxdWVzdFwiIGV2ZW50IGhhcyBhbHJlYWR5IGJlZW4gaGFuZGxlZC4nLFxuICAgICAgdGhpcy5yZXF1ZXN0Lm1ldGhvZCxcbiAgICAgIHRoaXMucmVxdWVzdC51cmxcbiAgICApO1xuICAgIHRoaXNba1JlcXVlc3RIYW5kbGVkXSA9IHRydWU7XG4gICAgdGhpc1trUmVzcG9uc2VQcm9taXNlXS5yZXNvbHZlKGVycm9yMik7XG4gIH1cbn07XG5hc3luYyBmdW5jdGlvbiBlbWl0QXN5bmMoZW1pdHRlciwgZXZlbnROYW1lLCAuLi5kYXRhKSB7XG4gIGNvbnN0IGxpc3RuZXJzID0gZW1pdHRlci5saXN0ZW5lcnMoZXZlbnROYW1lKTtcbiAgaWYgKGxpc3RuZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RuZXJzKSB7XG4gICAgYXdhaXQgbGlzdGVuZXIuYXBwbHkoZW1pdHRlciwgZGF0YSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzUHJvcGVydHlBY2Nlc3NpYmxlKG9iaiwga2V5KSB7XG4gIHRyeSB7XG4gICAgb2JqW2tleV07XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVNlcnZlckVycm9yUmVzcG9uc2UoYm9keSkge1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgIEpTT04uc3RyaW5naWZ5KFxuICAgICAgYm9keSBpbnN0YW5jZW9mIEVycm9yID8ge1xuICAgICAgICBuYW1lOiBib2R5Lm5hbWUsXG4gICAgICAgIG1lc3NhZ2U6IGJvZHkubWVzc2FnZSxcbiAgICAgICAgc3RhY2s6IGJvZHkuc3RhY2tcbiAgICAgIH0gOiBib2R5XG4gICAgKSxcbiAgICB7XG4gICAgICBzdGF0dXM6IDUwMCxcbiAgICAgIHN0YXR1c1RleHQ6IFwiVW5oYW5kbGVkIEV4Y2VwdGlvblwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2VFcnJvcihyZXNwb25zZSkge1xuICByZXR1cm4gaXNQcm9wZXJ0eUFjY2Vzc2libGUocmVzcG9uc2UsIFwidHlwZVwiKSAmJiByZXNwb25zZS50eXBlID09PSBcImVycm9yXCI7XG59XG5mdW5jdGlvbiBpc05vZGVMaWtlRXJyb3IoZXJyb3IyKSB7XG4gIGlmIChlcnJvcjIgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoIShlcnJvcjIgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIFwiY29kZVwiIGluIGVycm9yMiAmJiBcImVycm5vXCIgaW4gZXJyb3IyO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdDIob3B0aW9ucykge1xuICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBvcHRpb25zLm9uRXJyb3IocmVzcG9uc2UpO1xuICAgIH0gZWxzZSBpZiAoaXNSZXNwb25zZUVycm9yKHJlc3BvbnNlKSkge1xuICAgICAgb3B0aW9ucy5vblJlcXVlc3RFcnJvcihyZXNwb25zZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IG9wdGlvbnMub25SZXNwb25zZShyZXNwb25zZSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBjb25zdCBoYW5kbGVSZXNwb25zZUVycm9yID0gYXN5bmMgKGVycm9yMikgPT4ge1xuICAgIGlmIChlcnJvcjIgaW5zdGFuY2VvZiBJbnRlcmNlcHRvckVycm9yKSB7XG4gICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIGlmIChpc05vZGVMaWtlRXJyb3IoZXJyb3IyKSkge1xuICAgICAgb3B0aW9ucy5vbkVycm9yKGVycm9yMik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGVycm9yMiBpbnN0YW5jZW9mIFJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gYXdhaXQgaGFuZGxlUmVzcG9uc2UoZXJyb3IyKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBvcHRpb25zLmVtaXR0ZXIub25jZShcInJlcXVlc3RcIiwgKHsgcmVxdWVzdElkOiBwZW5kaW5nUmVxdWVzdElkIH0pID0+IHtcbiAgICBpZiAocGVuZGluZ1JlcXVlc3RJZCAhPT0gb3B0aW9ucy5yZXF1ZXN0SWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY29udHJvbGxlcltrUmVzcG9uc2VQcm9taXNlXS5zdGF0ZSA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgIG9wdGlvbnMuY29udHJvbGxlcltrUmVzcG9uc2VQcm9taXNlXS5yZXNvbHZlKHZvaWQgMCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgcmVxdWVzdEFib3J0UHJvbWlzZSA9IG5ldyBEZWZlcnJlZFByb21pc2UoKTtcbiAgaWYgKG9wdGlvbnMucmVxdWVzdC5zaWduYWwpIHtcbiAgICBpZiAob3B0aW9ucy5yZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXF1ZXN0QWJvcnRQcm9taXNlLnJlamVjdChvcHRpb25zLnJlcXVlc3Quc2lnbmFsLnJlYXNvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMucmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgcmVxdWVzdEFib3J0UHJvbWlzZS5yZWplY3Qob3B0aW9ucy5yZXF1ZXN0LnNpZ25hbC5yZWFzb24pO1xuICAgICAgICB9LFxuICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdW50aWwoYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3RMaXN0dGVuZXJzUHJvbWlzZSA9IGVtaXRBc3luYyhvcHRpb25zLmVtaXR0ZXIsIFwicmVxdWVzdFwiLCB7XG4gICAgICByZXF1ZXN0SWQ6IG9wdGlvbnMucmVxdWVzdElkLFxuICAgICAgcmVxdWVzdDogb3B0aW9ucy5yZXF1ZXN0LFxuICAgICAgY29udHJvbGxlcjogb3B0aW9ucy5jb250cm9sbGVyXG4gICAgfSk7XG4gICAgYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgIC8vIFNob3J0LWNpcmN1aXQgdGhlIHJlcXVlc3QgaGFuZGxpbmcgcHJvbWlzZSBpZiB0aGUgcmVxdWVzdCBnZXRzIGFib3J0ZWQuXG4gICAgICByZXF1ZXN0QWJvcnRQcm9taXNlLFxuICAgICAgcmVxdWVzdExpc3R0ZW5lcnNQcm9taXNlLFxuICAgICAgb3B0aW9ucy5jb250cm9sbGVyW2tSZXNwb25zZVByb21pc2VdXG4gICAgXSk7XG4gICAgY29uc3QgbW9ja2VkUmVzcG9uc2UgPSBhd2FpdCBvcHRpb25zLmNvbnRyb2xsZXJba1Jlc3BvbnNlUHJvbWlzZV07XG4gICAgcmV0dXJuIG1vY2tlZFJlc3BvbnNlO1xuICB9KTtcbiAgaWYgKHJlcXVlc3RBYm9ydFByb21pc2Uuc3RhdGUgPT09IFwicmVqZWN0ZWRcIikge1xuICAgIG9wdGlvbnMub25FcnJvcihyZXF1ZXN0QWJvcnRQcm9taXNlLnJlamVjdGlvblJlYXNvbik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHJlc3VsdC5lcnJvcikge1xuICAgIGlmIChhd2FpdCBoYW5kbGVSZXNwb25zZUVycm9yKHJlc3VsdC5lcnJvcikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5lbWl0dGVyLmxpc3RlbmVyQ291bnQoXCJ1bmhhbmRsZWRFeGNlcHRpb25cIikgPiAwKSB7XG4gICAgICBjb25zdCB1bmhhbmRsZWRFeGNlcHRpb25Db250cm9sbGVyID0gbmV3IFJlcXVlc3RDb250cm9sbGVyKFxuICAgICAgICBvcHRpb25zLnJlcXVlc3RcbiAgICAgICk7XG4gICAgICBhd2FpdCBlbWl0QXN5bmMob3B0aW9ucy5lbWl0dGVyLCBcInVuaGFuZGxlZEV4Y2VwdGlvblwiLCB7XG4gICAgICAgIGVycm9yOiByZXN1bHQuZXJyb3IsXG4gICAgICAgIHJlcXVlc3Q6IG9wdGlvbnMucmVxdWVzdCxcbiAgICAgICAgcmVxdWVzdElkOiBvcHRpb25zLnJlcXVlc3RJZCxcbiAgICAgICAgY29udHJvbGxlcjogdW5oYW5kbGVkRXhjZXB0aW9uQ29udHJvbGxlclxuICAgICAgfSkudGhlbigoKSA9PiB7XG4gICAgICAgIGlmICh1bmhhbmRsZWRFeGNlcHRpb25Db250cm9sbGVyW2tSZXNwb25zZVByb21pc2VdLnN0YXRlID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICAgIHVuaGFuZGxlZEV4Y2VwdGlvbkNvbnRyb2xsZXJba1Jlc3BvbnNlUHJvbWlzZV0ucmVzb2x2ZSh2b2lkIDApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG5leHRSZXN1bHQgPSBhd2FpdCB1bnRpbChcbiAgICAgICAgKCkgPT4gdW5oYW5kbGVkRXhjZXB0aW9uQ29udHJvbGxlcltrUmVzcG9uc2VQcm9taXNlXVxuICAgICAgKTtcbiAgICAgIGlmIChuZXh0UmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXNwb25zZUVycm9yKG5leHRSZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRSZXN1bHQuZGF0YSkge1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVzcG9uc2UobmV4dFJlc3VsdC5kYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gICAgb3B0aW9ucy5vblJlc3BvbnNlKGNyZWF0ZVNlcnZlckVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHJlc3VsdC5kYXRhKSB7XG4gICAgcmV0dXJuIGhhbmRsZVJlc3BvbnNlKHJlc3VsdC5kYXRhKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbXN3anMraW50ZXJjZXB0b3JzQDAuMzcuMS9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9jaHVuay1UWDVHQlRGWS5tanNcbmZ1bmN0aW9uIGhhc0NvbmZpZ3VyYWJsZUdsb2JhbChwcm9wZXJ0eU5hbWUpIHtcbiAgY29uc3QgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZ2xvYmFsVGhpcywgcHJvcGVydHlOYW1lKTtcbiAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZGVzY3JpcHRvci5nZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgZGVzY3JpcHRvci5nZXQoKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGRlc2NyaXB0b3IuZ2V0ID09PSBcInVuZGVmaW5lZFwiICYmIGRlc2NyaXB0b3IudmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIGRlc2NyaXB0b3Iuc2V0ID09PSBcInVuZGVmaW5lZFwiICYmICFkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBgW01TV10gRmFpbGVkIHRvIGFwcGx5IGludGVyY2VwdG9yOiB0aGUgZ2xvYmFsIFxcYCR7cHJvcGVydHlOYW1lfVxcYCBwcm9wZXJ0eSBpcyBub24tY29uZmlndXJhYmxlLiBUaGlzIGlzIGxpa2VseSBhbiBpc3N1ZSB3aXRoIHlvdXIgZW52aXJvbm1lbnQuIElmIHlvdSBhcmUgdXNpbmcgYSBmcmFtZXdvcmssIHBsZWFzZSBvcGVuIGFuIGlzc3VlIGFib3V0IHRoaXMgaW4gdGhlaXIgcmVwb3NpdG9yeS5gXG4gICAgKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIG5vZGVfbW9kdWxlcy8ucG5wbS9AbXN3anMraW50ZXJjZXB0b3JzQDAuMzcuMS9ub2RlX21vZHVsZXMvQG1zd2pzL2ludGVyY2VwdG9ycy9saWIvYnJvd3Nlci9jaHVuay1IRVIzTkhCRy5tanNcbmZ1bmN0aW9uIGNhblBhcnNlVXJsKHVybCkge1xuICB0cnkge1xuICAgIG5ldyBVUkwodXJsKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVOZXR3b3JrRXJyb3IoY2F1c2UpIHtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBmZXRjaFwiKSwge1xuICAgIGNhdXNlXG4gIH0pO1xufVxudmFyIFJFUVVFU1RfQk9EWV9IRUFERVJTID0gW1xuICBcImNvbnRlbnQtZW5jb2RpbmdcIixcbiAgXCJjb250ZW50LWxhbmd1YWdlXCIsXG4gIFwiY29udGVudC1sb2NhdGlvblwiLFxuICBcImNvbnRlbnQtdHlwZVwiLFxuICBcImNvbnRlbnQtbGVuZ3RoXCJcbl07XG52YXIga1JlZGlyZWN0Q291bnQgPSBTeW1ib2woXCJrUmVkaXJlY3RDb3VudFwiKTtcbmFzeW5jIGZ1bmN0aW9uIGZvbGxvd0ZldGNoUmVkaXJlY3QocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gMzAzICYmIHJlcXVlc3QuYm9keSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNyZWF0ZU5ldHdvcmtFcnJvcigpKTtcbiAgfVxuICBjb25zdCByZXF1ZXN0VXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIGxldCBsb2NhdGlvblVybDtcbiAgdHJ5IHtcbiAgICBsb2NhdGlvblVybCA9IG5ldyBVUkwocmVzcG9uc2UuaGVhZGVycy5nZXQoXCJsb2NhdGlvblwiKSwgcmVxdWVzdC51cmwpO1xuICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoY3JlYXRlTmV0d29ya0Vycm9yKGVycm9yMikpO1xuICB9XG4gIGlmICghKGxvY2F0aW9uVXJsLnByb3RvY29sID09PSBcImh0dHA6XCIgfHwgbG9jYXRpb25VcmwucHJvdG9jb2wgPT09IFwiaHR0cHM6XCIpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgY3JlYXRlTmV0d29ya0Vycm9yKFwiVVJMIHNjaGVtZSBtdXN0IGJlIGEgSFRUUChTKSBzY2hlbWVcIilcbiAgICApO1xuICB9XG4gIGlmIChSZWZsZWN0LmdldChyZXF1ZXN0LCBrUmVkaXJlY3RDb3VudCkgPiAyMCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChjcmVhdGVOZXR3b3JrRXJyb3IoXCJyZWRpcmVjdCBjb3VudCBleGNlZWRlZFwiKSk7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVlc3QsIGtSZWRpcmVjdENvdW50LCB7XG4gICAgdmFsdWU6IChSZWZsZWN0LmdldChyZXF1ZXN0LCBrUmVkaXJlY3RDb3VudCkgfHwgMCkgKyAxXG4gIH0pO1xuICBpZiAocmVxdWVzdC5tb2RlID09PSBcImNvcnNcIiAmJiAobG9jYXRpb25VcmwudXNlcm5hbWUgfHwgbG9jYXRpb25VcmwucGFzc3dvcmQpICYmICFzYW1lT3JpZ2luKHJlcXVlc3RVcmwsIGxvY2F0aW9uVXJsKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIGNyZWF0ZU5ldHdvcmtFcnJvcignY3Jvc3Mgb3JpZ2luIG5vdCBhbGxvd2VkIGZvciByZXF1ZXN0IG1vZGUgXCJjb3JzXCInKVxuICAgICk7XG4gIH1cbiAgY29uc3QgcmVxdWVzdEluaXQgPSB7fTtcbiAgaWYgKFszMDEsIDMwMl0uaW5jbHVkZXMocmVzcG9uc2Uuc3RhdHVzKSAmJiByZXF1ZXN0Lm1ldGhvZCA9PT0gXCJQT1NUXCIgfHwgcmVzcG9uc2Uuc3RhdHVzID09PSAzMDMgJiYgIVtcIkhFQURcIiwgXCJHRVRcIl0uaW5jbHVkZXMocmVxdWVzdC5tZXRob2QpKSB7XG4gICAgcmVxdWVzdEluaXQubWV0aG9kID0gXCJHRVRcIjtcbiAgICByZXF1ZXN0SW5pdC5ib2R5ID0gbnVsbDtcbiAgICBSRVFVRVNUX0JPRFlfSEVBREVSUy5mb3JFYWNoKChoZWFkZXJOYW1lKSA9PiB7XG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZGVsZXRlKGhlYWRlck5hbWUpO1xuICAgIH0pO1xuICB9XG4gIGlmICghc2FtZU9yaWdpbihyZXF1ZXN0VXJsLCBsb2NhdGlvblVybCkpIHtcbiAgICByZXF1ZXN0LmhlYWRlcnMuZGVsZXRlKFwiYXV0aG9yaXphdGlvblwiKTtcbiAgICByZXF1ZXN0LmhlYWRlcnMuZGVsZXRlKFwicHJveHktYXV0aG9yaXphdGlvblwiKTtcbiAgICByZXF1ZXN0LmhlYWRlcnMuZGVsZXRlKFwiY29va2llXCIpO1xuICAgIHJlcXVlc3QuaGVhZGVycy5kZWxldGUoXCJob3N0XCIpO1xuICB9XG4gIHJlcXVlc3RJbml0LmhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnM7XG4gIHJldHVybiBmZXRjaChuZXcgUmVxdWVzdChsb2NhdGlvblVybCwgcmVxdWVzdEluaXQpKTtcbn1cbmZ1bmN0aW9uIHNhbWVPcmlnaW4obGVmdCwgcmlnaHQpIHtcbiAgaWYgKGxlZnQub3JpZ2luID09PSByaWdodC5vcmlnaW4gJiYgbGVmdC5vcmlnaW4gPT09IFwibnVsbFwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGxlZnQucHJvdG9jb2wgPT09IHJpZ2h0LnByb3RvY29sICYmIGxlZnQuaG9zdG5hbWUgPT09IHJpZ2h0Lmhvc3RuYW1lICYmIGxlZnQucG9ydCA9PT0gcmlnaHQucG9ydCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbnZhciBCcm90bGlEZWNvbXByZXNzaW9uU3RyZWFtID0gY2xhc3MgZXh0ZW5kcyBUcmFuc2Zvcm1TdHJlYW0ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIltJbnRlcmNlcHRvcnNdOiBCcm90bGkgZGVjb21wcmVzc2lvbiBvZiByZXNwb25zZSBzdHJlYW1zIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhlIGJyb3dzZXJcIlxuICAgICk7XG4gICAgc3VwZXIoe1xuICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG52YXIgUGlwZWxpbmVTdHJlYW0gPSBjbGFzcyBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbSB7XG4gIGNvbnN0cnVjdG9yKHRyYW5zZm9ybVN0cmVhbXMsIC4uLnN0cmF0ZWdpZXMpIHtcbiAgICBzdXBlcih7fSwgLi4uc3RyYXRlZ2llcyk7XG4gICAgY29uc3QgcmVhZGFibGUgPSBbc3VwZXIucmVhZGFibGUsIC4uLnRyYW5zZm9ybVN0cmVhbXNdLnJlZHVjZShcbiAgICAgIChyZWFkYWJsZTIsIHRyYW5zZm9ybSkgPT4gcmVhZGFibGUyLnBpcGVUaHJvdWdoKHRyYW5zZm9ybSlcbiAgICApO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInJlYWRhYmxlXCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRhYmxlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuZnVuY3Rpb24gcGFyc2VDb250ZW50RW5jb2RpbmcoY29udGVudEVuY29kaW5nKSB7XG4gIHJldHVybiBjb250ZW50RW5jb2RpbmcudG9Mb3dlckNhc2UoKS5zcGxpdChcIixcIikubWFwKChjb2RpbmcpID0+IGNvZGluZy50cmltKCkpO1xufVxuZnVuY3Rpb24gY3JlYXRlRGVjb21wcmVzc2lvblN0cmVhbShjb250ZW50RW5jb2RpbmcpIHtcbiAgaWYgKGNvbnRlbnRFbmNvZGluZyA9PT0gXCJcIikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGNvZGluZ3MgPSBwYXJzZUNvbnRlbnRFbmNvZGluZyhjb250ZW50RW5jb2RpbmcpO1xuICBpZiAoY29kaW5ncy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCB0cmFuc2Zvcm1lcnMgPSBjb2RpbmdzLnJlZHVjZVJpZ2h0KFxuICAgICh0cmFuc2Zvcm1lcnMyLCBjb2RpbmcpID0+IHtcbiAgICAgIGlmIChjb2RpbmcgPT09IFwiZ3ppcFwiIHx8IGNvZGluZyA9PT0gXCJ4LWd6aXBcIikge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZXJzMi5jb25jYXQobmV3IERlY29tcHJlc3Npb25TdHJlYW0oXCJnemlwXCIpKTtcbiAgICAgIH0gZWxzZSBpZiAoY29kaW5nID09PSBcImRlZmxhdGVcIikge1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZXJzMi5jb25jYXQobmV3IERlY29tcHJlc3Npb25TdHJlYW0oXCJkZWZsYXRlXCIpKTtcbiAgICAgIH0gZWxzZSBpZiAoY29kaW5nID09PSBcImJyXCIpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyczIuY29uY2F0KG5ldyBCcm90bGlEZWNvbXByZXNzaW9uU3RyZWFtKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNmb3JtZXJzMi5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyczI7XG4gICAgfSxcbiAgICBbXVxuICApO1xuICByZXR1cm4gbmV3IFBpcGVsaW5lU3RyZWFtKHRyYW5zZm9ybWVycyk7XG59XG5mdW5jdGlvbiBkZWNvbXByZXNzUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgaWYgKHJlc3BvbnNlLmJvZHkgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBkZWNvbXByZXNzaW9uU3RyZWFtID0gY3JlYXRlRGVjb21wcmVzc2lvblN0cmVhbShcbiAgICByZXNwb25zZS5oZWFkZXJzLmdldChcImNvbnRlbnQtZW5jb2RpbmdcIikgfHwgXCJcIlxuICApO1xuICBpZiAoIWRlY29tcHJlc3Npb25TdHJlYW0pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXNwb25zZS5ib2R5LnBpcGVUbyhkZWNvbXByZXNzaW9uU3RyZWFtLndyaXRhYmxlKTtcbiAgcmV0dXJuIGRlY29tcHJlc3Npb25TdHJlYW0ucmVhZGFibGU7XG59XG52YXIgX0ZldGNoSW50ZXJjZXB0b3IgPSBjbGFzcyBleHRlbmRzIEludGVyY2VwdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoX0ZldGNoSW50ZXJjZXB0b3Iuc3ltYm9sKTtcbiAgfVxuICBjaGVja0Vudmlyb25tZW50KCkge1xuICAgIHJldHVybiBoYXNDb25maWd1cmFibGVHbG9iYWwoXCJmZXRjaFwiKTtcbiAgfVxuICBhc3luYyBzZXR1cCgpIHtcbiAgICBjb25zdCBwdXJlRmV0Y2ggPSBnbG9iYWxUaGlzLmZldGNoO1xuICAgIGludmFyaWFudChcbiAgICAgICFwdXJlRmV0Y2hbSVNfUEFUQ0hFRF9NT0RVTEVdLFxuICAgICAgJ0ZhaWxlZCB0byBwYXRjaCB0aGUgXCJmZXRjaFwiIG1vZHVsZTogYWxyZWFkeSBwYXRjaGVkLidcbiAgICApO1xuICAgIGdsb2JhbFRoaXMuZmV0Y2ggPSBhc3luYyAoaW5wdXQsIGluaXQpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IGNyZWF0ZVJlcXVlc3RJZCgpO1xuICAgICAgY29uc3QgcmVzb2x2ZWRJbnB1dCA9IHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgIWNhblBhcnNlVXJsKGlucHV0KSA/IG5ldyBVUkwoaW5wdXQsIGxvY2F0aW9uLm9yaWdpbikgOiBpbnB1dDtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChyZXNvbHZlZElucHV0LCBpbml0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlUHJvbWlzZSA9IG5ldyBEZWZlcnJlZFByb21pc2UoKTtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgUmVxdWVzdENvbnRyb2xsZXIocmVxdWVzdCk7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiWyVzXSAlc1wiLCByZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwpO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImF3YWl0aW5nIGZvciB0aGUgbW9ja2VkIHJlc3BvbnNlLi4uXCIpO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgJ2VtaXR0aW5nIHRoZSBcInJlcXVlc3RcIiBldmVudCBmb3IgJXMgbGlzdGVuZXIocykuLi4nLFxuICAgICAgICB0aGlzLmVtaXR0ZXIubGlzdGVuZXJDb3VudChcInJlcXVlc3RcIilcbiAgICAgICk7XG4gICAgICBjb25zdCBpc1JlcXVlc3RIYW5kbGVkID0gYXdhaXQgaGFuZGxlUmVxdWVzdDIoe1xuICAgICAgICByZXF1ZXN0LFxuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIGVtaXR0ZXI6IHRoaXMuZW1pdHRlcixcbiAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgb25SZXNwb25zZTogYXN5bmMgKHJhd1Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlY2VpdmVkIG1vY2tlZCByZXNwb25zZSFcIiwge1xuICAgICAgICAgICAgcmF3UmVzcG9uc2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBkZWNvbXByZXNzZWRTdHJlYW0gPSBkZWNvbXByZXNzUmVzcG9uc2UocmF3UmVzcG9uc2UpO1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZGVjb21wcmVzc2VkU3RyZWFtID09PSBudWxsID8gcmF3UmVzcG9uc2UgOiBuZXcgRmV0Y2hSZXNwb25zZShkZWNvbXByZXNzZWRTdHJlYW0sIHJhd1Jlc3BvbnNlKTtcbiAgICAgICAgICBGZXRjaFJlc3BvbnNlLnNldFVybChyZXF1ZXN0LnVybCwgcmVzcG9uc2UpO1xuICAgICAgICAgIGlmIChGZXRjaFJlc3BvbnNlLmlzUmVkaXJlY3RSZXNwb25zZShyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdC5yZWRpcmVjdCA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZS5yZWplY3QoY3JlYXRlTmV0d29ya0Vycm9yKFwidW5leHBlY3RlZCByZWRpcmVjdFwiKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlZGlyZWN0ID09PSBcImZvbGxvd1wiKSB7XG4gICAgICAgICAgICAgIGZvbGxvd0ZldGNoUmVkaXJlY3QocmVxdWVzdCwgcmVzcG9uc2UpLnRoZW4oXG4gICAgICAgICAgICAgICAgKHJlc3BvbnNlMikgPT4ge1xuICAgICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlc29sdmUocmVzcG9uc2UyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuZW1pdHRlci5saXN0ZW5lckNvdW50KFwicmVzcG9uc2VcIikgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKCdlbWl0dGluZyB0aGUgXCJyZXNwb25zZVwiIGV2ZW50Li4uJyk7XG4gICAgICAgICAgICBhd2FpdCBlbWl0QXN5bmModGhpcy5lbWl0dGVyLCBcInJlc3BvbnNlXCIsIHtcbiAgICAgICAgICAgICAgLy8gQ2xvbmUgdGhlIG1vY2tlZCByZXNwb25zZSBmb3IgdGhlIFwicmVzcG9uc2VcIiBldmVudCBsaXN0ZW5lci5cbiAgICAgICAgICAgICAgLy8gVGhpcyB3YXksIHRoZSBsaXN0ZW5lciBjYW4gcmVhZCB0aGUgcmVzcG9uc2UgYW5kIG5vdCBsb2NrIGl0cyBib2R5XG4gICAgICAgICAgICAgIC8vIGZvciB0aGUgYWN0dWFsIGZldGNoIGNvbnN1bWVyLlxuICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UuY2xvbmUoKSxcbiAgICAgICAgICAgICAgaXNNb2NrZWRSZXNwb25zZTogdHJ1ZSxcbiAgICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgICAgcmVxdWVzdElkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlcXVlc3RFcnJvcjogKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlcXVlc3QgaGFzIGVycm9yZWQhXCIsIHsgcmVzcG9uc2UgfSk7XG4gICAgICAgICAgcmVzcG9uc2VQcm9taXNlLnJlamVjdChjcmVhdGVOZXR3b3JrRXJyb3IocmVzcG9uc2UpKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FcnJvcjogKGVycm9yMikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXF1ZXN0IGhhcyBiZWVuIGFib3J0ZWQhXCIsIHsgZXJyb3I6IGVycm9yMiB9KTtcbiAgICAgICAgICByZXNwb25zZVByb21pc2UucmVqZWN0KGVycm9yMik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGlzUmVxdWVzdEhhbmRsZWQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlcXVlc3QgaGFzIGJlZW4gaGFuZGxlZCwgcmV0dXJuaW5nIG1vY2sgcHJvbWlzZS4uLlwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlUHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgIFwibm8gbW9ja2VkIHJlc3BvbnNlIHJlY2VpdmVkLCBwZXJmb3JtaW5nIHJlcXVlc3QgYXMtaXMuLi5cIlxuICAgICAgKTtcbiAgICAgIHJldHVybiBwdXJlRmV0Y2gocmVxdWVzdCkudGhlbihhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcIm9yaWdpbmFsIGZldGNoIHBlcmZvcm1lZFwiLCByZXNwb25zZSk7XG4gICAgICAgIGlmICh0aGlzLmVtaXR0ZXIubGlzdGVuZXJDb3VudChcInJlc3BvbnNlXCIpID4gMCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oJ2VtaXR0aW5nIHRoZSBcInJlc3BvbnNlXCIgZXZlbnQuLi4nKTtcbiAgICAgICAgICBjb25zdCByZXNwb25zZUNsb25lID0gcmVzcG9uc2UuY2xvbmUoKTtcbiAgICAgICAgICBhd2FpdCBlbWl0QXN5bmModGhpcy5lbWl0dGVyLCBcInJlc3BvbnNlXCIsIHtcbiAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZUNsb25lLFxuICAgICAgICAgICAgaXNNb2NrZWRSZXNwb25zZTogZmFsc2UsXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgcmVxdWVzdElkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsVGhpcy5mZXRjaCwgSVNfUEFUQ0hFRF9NT0RVTEUsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWxUaGlzLmZldGNoLCBJU19QQVRDSEVEX01PRFVMRSwge1xuICAgICAgICB2YWx1ZTogdm9pZCAwXG4gICAgICB9KTtcbiAgICAgIGdsb2JhbFRoaXMuZmV0Y2ggPSBwdXJlRmV0Y2g7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgICAncmVzdG9yZWQgbmF0aXZlIFwiZ2xvYmFsVGhpcy5mZXRjaFwiIScsXG4gICAgICAgIGdsb2JhbFRoaXMuZmV0Y2gubmFtZVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxufTtcbnZhciBGZXRjaEludGVyY2VwdG9yID0gX0ZldGNoSW50ZXJjZXB0b3I7XG5GZXRjaEludGVyY2VwdG9yLnN5bWJvbCA9IFN5bWJvbChcImZldGNoXCIpO1xuXG4vLyBub2RlX21vZHVsZXMvLnBucG0vQG1zd2pzK2ludGVyY2VwdG9yc0AwLjM3LjEvbm9kZV9tb2R1bGVzL0Btc3dqcy9pbnRlcmNlcHRvcnMvbGliL2Jyb3dzZXIvY2h1bmstNFNSUUZLNzYubWpzXG5mdW5jdGlvbiBjb25jYXRBcnJheUJ1ZmZlcihsZWZ0LCByaWdodCkge1xuICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShsZWZ0LmJ5dGVMZW5ndGggKyByaWdodC5ieXRlTGVuZ3RoKTtcbiAgcmVzdWx0LnNldChsZWZ0LCAwKTtcbiAgcmVzdWx0LnNldChyaWdodCwgbGVmdC5ieXRlTGVuZ3RoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbnZhciBFdmVudFBvbHlmaWxsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih0eXBlLCBvcHRpb25zKSB7XG4gICAgdGhpcy5OT05FID0gMDtcbiAgICB0aGlzLkNBUFRVUklOR19QSEFTRSA9IDE7XG4gICAgdGhpcy5BVF9UQVJHRVQgPSAyO1xuICAgIHRoaXMuQlVCQkxJTkdfUEhBU0UgPSAzO1xuICAgIHRoaXMudHlwZSA9IFwiXCI7XG4gICAgdGhpcy5zcmNFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMuZXZlbnRQaGFzZSA9IDA7XG4gICAgdGhpcy5pc1RydXN0ZWQgPSB0cnVlO1xuICAgIHRoaXMuY29tcG9zZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNhbmNlbGFibGUgPSB0cnVlO1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuYnViYmxlcyA9IHRydWU7XG4gICAgdGhpcy5sZW5ndGhDb21wdXRhYmxlID0gdHJ1ZTtcbiAgICB0aGlzLmxvYWRlZCA9IDA7XG4gICAgdGhpcy50b3RhbCA9IDA7XG4gICAgdGhpcy5jYW5jZWxCdWJibGUgPSBmYWxzZTtcbiAgICB0aGlzLnJldHVyblZhbHVlID0gdHJ1ZTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMudGFyZ2V0ID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudGFyZ2V0KSB8fCBudWxsO1xuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmN1cnJlbnRUYXJnZXQpIHx8IG51bGw7XG4gICAgdGhpcy50aW1lU3RhbXAgPSBEYXRlLm5vdygpO1xuICB9XG4gIGNvbXBvc2VkUGF0aCgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaW5pdEV2ZW50KHR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUpIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuYnViYmxlcyA9ICEhYnViYmxlcztcbiAgICB0aGlzLmNhbmNlbGFibGUgPSAhIWNhbmNlbGFibGU7XG4gIH1cbiAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgfVxuICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gIH1cbiAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xuICB9XG59O1xudmFyIFByb2dyZXNzRXZlbnRQb2x5ZmlsbCA9IGNsYXNzIGV4dGVuZHMgRXZlbnRQb2x5ZmlsbCB7XG4gIGNvbnN0cnVjdG9yKHR5cGUsIGluaXQpIHtcbiAgICBzdXBlcih0eXBlKTtcbiAgICB0aGlzLmxlbmd0aENvbXB1dGFibGUgPSAoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5sZW5ndGhDb21wdXRhYmxlKSB8fCBmYWxzZTtcbiAgICB0aGlzLmNvbXBvc2VkID0gKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuY29tcG9zZWQpIHx8IGZhbHNlO1xuICAgIHRoaXMubG9hZGVkID0gKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQubG9hZGVkKSB8fCAwO1xuICAgIHRoaXMudG90YWwgPSAoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC50b3RhbCkgfHwgMDtcbiAgfVxufTtcbnZhciBTVVBQT1JUU19QUk9HUkVTU19FVkVOVCA9IHR5cGVvZiBQcm9ncmVzc0V2ZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuZnVuY3Rpb24gY3JlYXRlRXZlbnQodGFyZ2V0LCB0eXBlLCBpbml0KSB7XG4gIGNvbnN0IHByb2dyZXNzRXZlbnRzID0gW1xuICAgIFwiZXJyb3JcIixcbiAgICBcInByb2dyZXNzXCIsXG4gICAgXCJsb2Fkc3RhcnRcIixcbiAgICBcImxvYWRlbmRcIixcbiAgICBcImxvYWRcIixcbiAgICBcInRpbWVvdXRcIixcbiAgICBcImFib3J0XCJcbiAgXTtcbiAgY29uc3QgUHJvZ3Jlc3NFdmVudENsYXNzID0gU1VQUE9SVFNfUFJPR1JFU1NfRVZFTlQgPyBQcm9ncmVzc0V2ZW50IDogUHJvZ3Jlc3NFdmVudFBvbHlmaWxsO1xuICBjb25zdCBldmVudCA9IHByb2dyZXNzRXZlbnRzLmluY2x1ZGVzKHR5cGUpID8gbmV3IFByb2dyZXNzRXZlbnRDbGFzcyh0eXBlLCB7XG4gICAgbGVuZ3RoQ29tcHV0YWJsZTogdHJ1ZSxcbiAgICBsb2FkZWQ6IChpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LmxvYWRlZCkgfHwgMCxcbiAgICB0b3RhbDogKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQudG90YWwpIHx8IDBcbiAgfSkgOiBuZXcgRXZlbnRQb2x5ZmlsbCh0eXBlLCB7XG4gICAgdGFyZ2V0LFxuICAgIGN1cnJlbnRUYXJnZXQ6IHRhcmdldFxuICB9KTtcbiAgcmV0dXJuIGV2ZW50O1xufVxuZnVuY3Rpb24gZmluZFByb3BlcnR5U291cmNlKHRhcmdldCwgcHJvcGVydHlOYW1lKSB7XG4gIGlmICghKHByb3BlcnR5TmFtZSBpbiB0YXJnZXQpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgaGFzUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBwcm9wZXJ0eU5hbWUpO1xuICBpZiAoaGFzUHJvcGVydHkpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGNvbnN0IHByb3RvdHlwZSA9IFJlZmxlY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KTtcbiAgcmV0dXJuIHByb3RvdHlwZSA/IGZpbmRQcm9wZXJ0eVNvdXJjZShwcm90b3R5cGUsIHByb3BlcnR5TmFtZSkgOiBudWxsO1xufVxuZnVuY3Rpb24gY3JlYXRlUHJveHkodGFyZ2V0LCBvcHRpb25zKSB7XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHRhcmdldCwgb3B0aW9uc1RvUHJveHlIYW5kbGVyKG9wdGlvbnMpKTtcbiAgcmV0dXJuIHByb3h5O1xufVxuZnVuY3Rpb24gb3B0aW9uc1RvUHJveHlIYW5kbGVyKG9wdGlvbnMpIHtcbiAgY29uc3QgeyBjb25zdHJ1Y3RvckNhbGwsIG1ldGhvZENhbGwsIGdldFByb3BlcnR5LCBzZXRQcm9wZXJ0eSB9ID0gb3B0aW9ucztcbiAgY29uc3QgaGFuZGxlciA9IHt9O1xuICBpZiAodHlwZW9mIGNvbnN0cnVjdG9yQ2FsbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGhhbmRsZXIuY29uc3RydWN0ID0gZnVuY3Rpb24odGFyZ2V0LCBhcmdzLCBuZXdUYXJnZXQpIHtcbiAgICAgIGNvbnN0IG5leHQgPSBSZWZsZWN0LmNvbnN0cnVjdC5iaW5kKG51bGwsIHRhcmdldCwgYXJncywgbmV3VGFyZ2V0KTtcbiAgICAgIHJldHVybiBjb25zdHJ1Y3RvckNhbGwuY2FsbChuZXdUYXJnZXQsIGFyZ3MsIG5leHQpO1xuICAgIH07XG4gIH1cbiAgaGFuZGxlci5zZXQgPSBmdW5jdGlvbih0YXJnZXQsIHByb3BlcnR5TmFtZSwgbmV4dFZhbHVlKSB7XG4gICAgY29uc3QgbmV4dCA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHByb3BlcnR5U291cmNlID0gZmluZFByb3BlcnR5U291cmNlKHRhcmdldCwgcHJvcGVydHlOYW1lKSB8fCB0YXJnZXQ7XG4gICAgICBjb25zdCBvd25EZXNjcmlwdG9ycyA9IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICBwcm9wZXJ0eVNvdXJjZSxcbiAgICAgICAgcHJvcGVydHlOYW1lXG4gICAgICApO1xuICAgICAgaWYgKHR5cGVvZiAob3duRGVzY3JpcHRvcnMgPT0gbnVsbCA/IHZvaWQgMCA6IG93bkRlc2NyaXB0b3JzLnNldCkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgb3duRGVzY3JpcHRvcnMuc2V0LmFwcGx5KHRhcmdldCwgW25leHRWYWx1ZV0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KHByb3BlcnR5U291cmNlLCBwcm9wZXJ0eU5hbWUsIHtcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG5leHRWYWx1ZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHNldFByb3BlcnR5ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gc2V0UHJvcGVydHkuY2FsbCh0YXJnZXQsIFtwcm9wZXJ0eU5hbWUsIG5leHRWYWx1ZV0sIG5leHQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dCgpO1xuICB9O1xuICBoYW5kbGVyLmdldCA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHlOYW1lLCByZWNlaXZlcikge1xuICAgIGNvbnN0IG5leHQgPSAoKSA9PiB0YXJnZXRbcHJvcGVydHlOYW1lXTtcbiAgICBjb25zdCB2YWx1ZSA9IHR5cGVvZiBnZXRQcm9wZXJ0eSAhPT0gXCJ1bmRlZmluZWRcIiA/IGdldFByb3BlcnR5LmNhbGwodGFyZ2V0LCBbcHJvcGVydHlOYW1lLCByZWNlaXZlcl0sIG5leHQpIDogbmV4dCgpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQyID0gdmFsdWUuYmluZCh0YXJnZXQsIC4uLmFyZ3MpO1xuICAgICAgICBpZiAodHlwZW9mIG1ldGhvZENhbGwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gbWV0aG9kQ2FsbC5jYWxsKHRhcmdldCwgW3Byb3BlcnR5TmFtZSwgYXJnc10sIG5leHQyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dDIoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgcmV0dXJuIGhhbmRsZXI7XG59XG5mdW5jdGlvbiBpc0RvbVBhcnNlclN1cHBvcnRlZFR5cGUodHlwZSkge1xuICBjb25zdCBzdXBwb3J0ZWRUeXBlcyA9IFtcbiAgICBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiLFxuICAgIFwiYXBwbGljYXRpb24veG1sXCIsXG4gICAgXCJpbWFnZS9zdmcreG1sXCIsXG4gICAgXCJ0ZXh0L2h0bWxcIixcbiAgICBcInRleHQveG1sXCJcbiAgXTtcbiAgcmV0dXJuIHN1cHBvcnRlZFR5cGVzLnNvbWUoKHN1cHBvcnRlZFR5cGUpID0+IHtcbiAgICByZXR1cm4gdHlwZS5zdGFydHNXaXRoKHN1cHBvcnRlZFR5cGUpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHBhcnNlSnNvbihkYXRhKSB7XG4gIHRyeSB7XG4gICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgcmV0dXJuIGpzb247XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUmVzcG9uc2UocmVxdWVzdCwgYm9keSkge1xuICBjb25zdCByZXNwb25zZUJvZHlPck51bGwgPSBGZXRjaFJlc3BvbnNlLmlzUmVzcG9uc2VXaXRoQm9keShyZXF1ZXN0LnN0YXR1cykgPyBib2R5IDogbnVsbDtcbiAgcmV0dXJuIG5ldyBGZXRjaFJlc3BvbnNlKHJlc3BvbnNlQm9keU9yTnVsbCwge1xuICAgIHVybDogcmVxdWVzdC5yZXNwb25zZVVSTCxcbiAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBjcmVhdGVIZWFkZXJzRnJvbVhNTEh0dHBSZXFlc3RIZWFkZXJzKFxuICAgICAgcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgIClcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVIZWFkZXJzRnJvbVhNTEh0dHBSZXFlc3RIZWFkZXJzKGhlYWRlcnNTdHJpbmcpIHtcbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gIGNvbnN0IGxpbmVzID0gaGVhZGVyc1N0cmluZy5zcGxpdCgvW1xcclxcbl0rLyk7XG4gIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xuICAgIGlmIChsaW5lLnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IFtuYW1lLCAuLi5wYXJ0c10gPSBsaW5lLnNwbGl0KFwiOiBcIik7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJ0cy5qb2luKFwiOiBcIik7XG4gICAgaGVhZGVycy5hcHBlbmQobmFtZSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBoZWFkZXJzO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0Qm9keUJ5dGVMZW5ndGgoaW5wdXQpIHtcbiAgY29uc3QgZXhwbGljaXRDb250ZW50TGVuZ3RoID0gaW5wdXQuaGVhZGVycy5nZXQoXCJjb250ZW50LWxlbmd0aFwiKTtcbiAgaWYgKGV4cGxpY2l0Q29udGVudExlbmd0aCAhPSBudWxsICYmIGV4cGxpY2l0Q29udGVudExlbmd0aCAhPT0gXCJcIikge1xuICAgIHJldHVybiBOdW1iZXIoZXhwbGljaXRDb250ZW50TGVuZ3RoKTtcbiAgfVxuICBjb25zdCBidWZmZXIgPSBhd2FpdCBpbnB1dC5hcnJheUJ1ZmZlcigpO1xuICByZXR1cm4gYnVmZmVyLmJ5dGVMZW5ndGg7XG59XG52YXIga0lzUmVxdWVzdEhhbmRsZWQgPSBTeW1ib2woXCJrSXNSZXF1ZXN0SGFuZGxlZFwiKTtcbnZhciBJU19OT0RFMiA9IGlzTm9kZVByb2Nlc3MoKTtcbnZhciBrRmV0Y2hSZXF1ZXN0ID0gU3ltYm9sKFwia0ZldGNoUmVxdWVzdFwiKTtcbnZhciBYTUxIdHRwUmVxdWVzdENvbnRyb2xsZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGluaXRpYWxSZXF1ZXN0LCBsb2dnZXIpIHtcbiAgICB0aGlzLmluaXRpYWxSZXF1ZXN0ID0gaW5pdGlhbFJlcXVlc3Q7XG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgdGhpcy5tZXRob2QgPSBcIkdFVFwiO1xuICAgIHRoaXMudXJsID0gbnVsbDtcbiAgICB0aGlzW2tJc1JlcXVlc3RIYW5kbGVkXSA9IGZhbHNlO1xuICAgIHRoaXMuZXZlbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLnVwbG9hZEV2ZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgdGhpcy5yZXF1ZXN0SWQgPSBjcmVhdGVSZXF1ZXN0SWQoKTtcbiAgICB0aGlzLnJlcXVlc3RIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICB0aGlzLnJlc3BvbnNlQnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICB0aGlzLnJlcXVlc3QgPSBjcmVhdGVQcm94eShpbml0aWFsUmVxdWVzdCwge1xuICAgICAgc2V0UHJvcGVydHk6IChbcHJvcGVydHlOYW1lLCBuZXh0VmFsdWVdLCBpbnZva2UpID0+IHtcbiAgICAgICAgc3dpdGNoIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwib250aW1lb3V0XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IHByb3BlcnR5TmFtZS5zbGljZShcbiAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbmV4dFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1ldGhvZENhbGw6IChbbWV0aG9kTmFtZSwgYXJnc10sIGludm9rZSkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN3aXRjaCAobWV0aG9kTmFtZSkge1xuICAgICAgICAgIGNhc2UgXCJvcGVuXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IFttZXRob2QsIHVybF0gPSBhcmdzO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgdGhpcy5tZXRob2QgPSBcIkdFVFwiO1xuICAgICAgICAgICAgICB0aGlzLnVybCA9IHRvQWJzb2x1dGVVcmwobWV0aG9kKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICAgICAgICB0aGlzLnVybCA9IHRvQWJzb2x1dGVVcmwodXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubG9nZ2VyID0gdGhpcy5sb2dnZXIuZXh0ZW5kKGAke3RoaXMubWV0aG9kfSAke3RoaXMudXJsLmhyZWZ9YCk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwib3BlblwiLCB0aGlzLm1ldGhvZCwgdGhpcy51cmwuaHJlZik7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJhZGRFdmVudExpc3RlbmVyXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IFtldmVudE5hbWUsIGxpc3RlbmVyXSA9IGFyZ3M7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiYWRkRXZlbnRMaXN0ZW5lclwiLCBldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcInNldFJlcXVlc3RIZWFkZXJcIjoge1xuICAgICAgICAgICAgY29uc3QgW25hbWUsIHZhbHVlXSA9IGFyZ3M7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RIZWFkZXJzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwic2V0UmVxdWVzdEhlYWRlclwiLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJzZW5kXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IFtib2R5XSA9IGFyZ3M7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25SZXNwb25zZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZldGNoUmVzcG9uc2UgPSBjcmVhdGVSZXNwb25zZShcbiAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICogVGhlIGByZXNwb25zZWAgcHJvcGVydHkgaXMgdGhlIHJpZ2h0IHdheSB0byByZWFkXG4gICAgICAgICAgICAgICAgICAgKiB0aGUgYW1iaWd1b3VzIHJlc3BvbnNlIGJvZHksIGFzIHRoZSByZXF1ZXN0J3MgXCJyZXNwb25zZVR5cGVcIiBtYXkgZGlmZmVyLlxuICAgICAgICAgICAgICAgICAgICogQHNlZSBodHRwczovL3hoci5zcGVjLndoYXR3Zy5vcmcvI3RoZS1yZXNwb25zZS1hdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0LnJlc3BvbnNlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVzcG9uc2UuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICByZXNwb25zZTogZmV0Y2hSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgIGlzTW9ja2VkUmVzcG9uc2U6IHRoaXNba0lzUmVxdWVzdEhhbmRsZWRdLFxuICAgICAgICAgICAgICAgICAgcmVxdWVzdDogZmV0Y2hSZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiB0aGlzLnJlcXVlc3RJZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0gdHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIgPyBlbmNvZGVCdWZmZXIoYm9keSkgOiBib2R5O1xuICAgICAgICAgICAgY29uc3QgZmV0Y2hSZXF1ZXN0ID0gdGhpcy50b0ZldGNoQXBpUmVxdWVzdChyZXF1ZXN0Qm9keSk7XG4gICAgICAgICAgICB0aGlzW2tGZXRjaFJlcXVlc3RdID0gZmV0Y2hSZXF1ZXN0LmNsb25lKCk7XG4gICAgICAgICAgICBjb25zdCBvbmNlUmVxdWVzdFNldHRsZWQgPSAoKF9hID0gdGhpcy5vblJlcXVlc3QpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgICAgcmVxdWVzdDogZmV0Y2hSZXF1ZXN0LFxuICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHRoaXMucmVxdWVzdElkXG4gICAgICAgICAgICB9KSkgfHwgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBvbmNlUmVxdWVzdFNldHRsZWQuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghdGhpc1trSXNSZXF1ZXN0SGFuZGxlZF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgICAgICAgICAgICAgXCJyZXF1ZXN0IGNhbGxiYWNrIHNldHRsZWQgYnV0IHJlcXVlc3QgaGFzIG5vdCBiZWVuIGhhbmRsZWQgKHJlYWR5c3RhdGUgJWQpLCBwZXJmb3JtaW5nIGFzLWlzLi4uXCIsXG4gICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3QucmVhZHlTdGF0ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKElTX05PREUyKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihcbiAgICAgICAgICAgICAgICAgICAgSU5URVJOQUxfUkVRVUVTVF9JRF9IRUFERVJfTkFNRSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0SWRcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGRlZmluZShcbiAgICAgIHRoaXMucmVxdWVzdCxcbiAgICAgIFwidXBsb2FkXCIsXG4gICAgICBjcmVhdGVQcm94eSh0aGlzLnJlcXVlc3QudXBsb2FkLCB7XG4gICAgICAgIHNldFByb3BlcnR5OiAoW3Byb3BlcnR5TmFtZSwgbmV4dFZhbHVlXSwgaW52b2tlKSA9PiB7XG4gICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJvbmxvYWRzdGFydFwiOlxuICAgICAgICAgICAgY2FzZSBcIm9ucHJvZ3Jlc3NcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbmFib2FydFwiOlxuICAgICAgICAgICAgY2FzZSBcIm9uZXJyb3JcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbmxvYWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbnRpbWVvdXRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvbmxvYWRlbmRcIjoge1xuICAgICAgICAgICAgICBjb25zdCBldmVudE5hbWUgPSBwcm9wZXJ0eU5hbWUuc2xpY2UoXG4gICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkRXZlbnQoZXZlbnROYW1lLCBuZXh0VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZENhbGw6IChbbWV0aG9kTmFtZSwgYXJnc10sIGludm9rZSkgPT4ge1xuICAgICAgICAgIHN3aXRjaCAobWV0aG9kTmFtZSkge1xuICAgICAgICAgICAgY2FzZSBcImFkZEV2ZW50TGlzdGVuZXJcIjoge1xuICAgICAgICAgICAgICBjb25zdCBbZXZlbnROYW1lLCBsaXN0ZW5lcl0gPSBhcmdzO1xuICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVXBsb2FkRXZlbnQoZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJ1cGxvYWQuYWRkRXZlbnRMaXN0ZW5lclwiLCBldmVudE5hbWUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGludm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIHJlZ2lzdGVyRXZlbnQoZXZlbnROYW1lLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IHByZXZFdmVudHMgPSB0aGlzLmV2ZW50cy5nZXQoZXZlbnROYW1lKSB8fCBbXTtcbiAgICBjb25zdCBuZXh0RXZlbnRzID0gcHJldkV2ZW50cy5jb25jYXQobGlzdGVuZXIpO1xuICAgIHRoaXMuZXZlbnRzLnNldChldmVudE5hbWUsIG5leHRFdmVudHMpO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oJ3JlZ2lzdGVyZWQgZXZlbnQgXCIlc1wiJywgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gIH1cbiAgcmVnaXN0ZXJVcGxvYWRFdmVudChldmVudE5hbWUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgcHJldkV2ZW50cyA9IHRoaXMudXBsb2FkRXZlbnRzLmdldChldmVudE5hbWUpIHx8IFtdO1xuICAgIGNvbnN0IG5leHRFdmVudHMgPSBwcmV2RXZlbnRzLmNvbmNhdChsaXN0ZW5lcik7XG4gICAgdGhpcy51cGxvYWRFdmVudHMuc2V0KGV2ZW50TmFtZSwgbmV4dEV2ZW50cyk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygncmVnaXN0ZXJlZCB1cGxvYWQgZXZlbnQgXCIlc1wiJywgZXZlbnROYW1lLCBsaXN0ZW5lcik7XG4gIH1cbiAgLyoqXG4gICAqIFJlc3BvbmRzIHRvIHRoZSBjdXJyZW50IHJlcXVlc3Qgd2l0aCB0aGUgZ2l2ZW5cbiAgICogRmV0Y2ggQVBJIGBSZXNwb25zZWAgaW5zdGFuY2UuXG4gICAqL1xuICBhc3luYyByZXNwb25kV2l0aChyZXNwb25zZSkge1xuICAgIHRoaXNba0lzUmVxdWVzdEhhbmRsZWRdID0gdHJ1ZTtcbiAgICBpZiAodGhpc1trRmV0Y2hSZXF1ZXN0XSkge1xuICAgICAgY29uc3QgdG90YWxSZXF1ZXN0Qm9keUxlbmd0aCA9IGF3YWl0IGdldEJvZHlCeXRlTGVuZ3RoKFxuICAgICAgICB0aGlzW2tGZXRjaFJlcXVlc3RdXG4gICAgICApO1xuICAgICAgdGhpcy50cmlnZ2VyKFwibG9hZHN0YXJ0XCIsIHRoaXMucmVxdWVzdC51cGxvYWQsIHtcbiAgICAgICAgbG9hZGVkOiAwLFxuICAgICAgICB0b3RhbDogdG90YWxSZXF1ZXN0Qm9keUxlbmd0aFxuICAgICAgfSk7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJwcm9ncmVzc1wiLCB0aGlzLnJlcXVlc3QudXBsb2FkLCB7XG4gICAgICAgIGxvYWRlZDogdG90YWxSZXF1ZXN0Qm9keUxlbmd0aCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGhcbiAgICAgIH0pO1xuICAgICAgdGhpcy50cmlnZ2VyKFwibG9hZFwiLCB0aGlzLnJlcXVlc3QudXBsb2FkLCB7XG4gICAgICAgIGxvYWRlZDogdG90YWxSZXF1ZXN0Qm9keUxlbmd0aCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGhcbiAgICAgIH0pO1xuICAgICAgdGhpcy50cmlnZ2VyKFwibG9hZGVuZFwiLCB0aGlzLnJlcXVlc3QudXBsb2FkLCB7XG4gICAgICAgIGxvYWRlZDogdG90YWxSZXF1ZXN0Qm9keUxlbmd0aCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVxdWVzdEJvZHlMZW5ndGhcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgXCJyZXNwb25kaW5nIHdpdGggYSBtb2NrZWQgcmVzcG9uc2U6ICVkICVzXCIsXG4gICAgICByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZS5zdGF0dXNUZXh0XG4gICAgKTtcbiAgICBkZWZpbmUodGhpcy5yZXF1ZXN0LCBcInN0YXR1c1wiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgIGRlZmluZSh0aGlzLnJlcXVlc3QsIFwic3RhdHVzVGV4dFwiLCByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICBkZWZpbmUodGhpcy5yZXF1ZXN0LCBcInJlc3BvbnNlVVJMXCIsIHRoaXMudXJsLmhyZWYpO1xuICAgIHRoaXMucmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlciA9IG5ldyBQcm94eSh0aGlzLnJlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIsIHtcbiAgICAgIGFwcGx5OiAoXywgX18sIGFyZ3MpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImdldFJlc3BvbnNlSGVhZGVyXCIsIGFyZ3NbMF0pO1xuICAgICAgICBpZiAodGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGUgPCB0aGlzLnJlcXVlc3QuSEVBREVSU19SRUNFSVZFRCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJoZWFkZXJzIG5vdCByZWNlaXZlZCB5ZXQsIHJldHVybmluZyBudWxsXCIpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlclZhbHVlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoYXJnc1swXSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgICAgJ3Jlc29sdmVkIHJlc3BvbnNlIGhlYWRlciBcIiVzXCIgdG8nLFxuICAgICAgICAgIGFyZ3NbMF0sXG4gICAgICAgICAgaGVhZGVyVmFsdWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGhlYWRlclZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBuZXcgUHJveHkoXG4gICAgICB0aGlzLnJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzLFxuICAgICAge1xuICAgICAgICBhcHBseTogKCkgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJnZXRBbGxSZXNwb25zZUhlYWRlcnNcIik7XG4gICAgICAgICAgaWYgKHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlIDwgdGhpcy5yZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJoZWFkZXJzIG5vdCByZWNlaXZlZCB5ZXQsIHJldHVybmluZyBlbXB0eSBzdHJpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgaGVhZGVyc0xpc3QgPSBBcnJheS5mcm9tKHJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpKTtcbiAgICAgICAgICBjb25zdCBhbGxIZWFkZXJzID0gaGVhZGVyc0xpc3QubWFwKChbaGVhZGVyTmFtZSwgaGVhZGVyVmFsdWVdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYCR7aGVhZGVyTmFtZX06ICR7aGVhZGVyVmFsdWV9YDtcbiAgICAgICAgICB9KS5qb2luKFwiXFxyXFxuXCIpO1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXNvbHZlZCBhbGwgcmVzcG9uc2UgaGVhZGVycyB0b1wiLCBhbGxIZWFkZXJzKTtcbiAgICAgICAgICByZXR1cm4gYWxsSGVhZGVycztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5yZXF1ZXN0LCB7XG4gICAgICByZXNwb25zZToge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICBnZXQ6ICgpID0+IHRoaXMucmVzcG9uc2VcbiAgICAgIH0sXG4gICAgICByZXNwb25zZVRleHQ6IHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgZ2V0OiAoKSA9PiB0aGlzLnJlc3BvbnNlVGV4dFxuICAgICAgfSxcbiAgICAgIHJlc3BvbnNlWE1MOiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIGdldDogKCkgPT4gdGhpcy5yZXNwb25zZVhNTFxuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHRvdGFsUmVzcG9uc2VCb2R5TGVuZ3RoID0gYXdhaXQgZ2V0Qm9keUJ5dGVMZW5ndGgocmVzcG9uc2UuY2xvbmUoKSk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcImNhbGN1bGF0ZWQgcmVzcG9uc2UgYm9keSBsZW5ndGhcIiwgdG90YWxSZXNwb25zZUJvZHlMZW5ndGgpO1xuICAgIHRoaXMudHJpZ2dlcihcImxvYWRzdGFydFwiLCB0aGlzLnJlcXVlc3QsIHtcbiAgICAgIGxvYWRlZDogMCxcbiAgICAgIHRvdGFsOiB0b3RhbFJlc3BvbnNlQm9keUxlbmd0aFxuICAgIH0pO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLnJlcXVlc3QuSEVBREVSU19SRUNFSVZFRCk7XG4gICAgdGhpcy5zZXRSZWFkeVN0YXRlKHRoaXMucmVxdWVzdC5MT0FESU5HKTtcbiAgICBjb25zdCBmaW5hbGl6ZVJlc3BvbnNlID0gKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImZpbmFsaXppbmcgdGhlIG1vY2tlZCByZXNwb25zZS4uLlwiKTtcbiAgICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLnJlcXVlc3QuRE9ORSk7XG4gICAgICB0aGlzLnRyaWdnZXIoXCJsb2FkXCIsIHRoaXMucmVxdWVzdCwge1xuICAgICAgICBsb2FkZWQ6IHRoaXMucmVzcG9uc2VCdWZmZXIuYnl0ZUxlbmd0aCxcbiAgICAgICAgdG90YWw6IHRvdGFsUmVzcG9uc2VCb2R5TGVuZ3RoXG4gICAgICB9KTtcbiAgICAgIHRoaXMudHJpZ2dlcihcImxvYWRlbmRcIiwgdGhpcy5yZXF1ZXN0LCB7XG4gICAgICAgIGxvYWRlZDogdGhpcy5yZXNwb25zZUJ1ZmZlci5ieXRlTGVuZ3RoLFxuICAgICAgICB0b3RhbDogdG90YWxSZXNwb25zZUJvZHlMZW5ndGhcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKHJlc3BvbnNlLmJvZHkpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJtb2NrZWQgcmVzcG9uc2UgaGFzIGJvZHksIHN0cmVhbWluZy4uLlwiKTtcbiAgICAgIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmJvZHkuZ2V0UmVhZGVyKCk7XG4gICAgICBjb25zdCByZWFkTmV4dFJlc3BvbnNlQm9keUNodW5rID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXNwb25zZSBib2R5IHN0cmVhbSBkb25lIVwiKTtcbiAgICAgICAgICBmaW5hbGl6ZVJlc3BvbnNlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZWFkIHJlc3BvbnNlIGJvZHkgY2h1bms6XCIsIHZhbHVlKTtcbiAgICAgICAgICB0aGlzLnJlc3BvbnNlQnVmZmVyID0gY29uY2F0QXJyYXlCdWZmZXIodGhpcy5yZXNwb25zZUJ1ZmZlciwgdmFsdWUpO1xuICAgICAgICAgIHRoaXMudHJpZ2dlcihcInByb2dyZXNzXCIsIHRoaXMucmVxdWVzdCwge1xuICAgICAgICAgICAgbG9hZGVkOiB0aGlzLnJlc3BvbnNlQnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICB0b3RhbDogdG90YWxSZXNwb25zZUJvZHlMZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZWFkTmV4dFJlc3BvbnNlQm9keUNodW5rKCk7XG4gICAgICB9O1xuICAgICAgcmVhZE5leHRSZXNwb25zZUJvZHlDaHVuaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaW5hbGl6ZVJlc3BvbnNlKCk7XG4gICAgfVxuICB9XG4gIHJlc3BvbnNlQnVmZmVyVG9UZXh0KCkge1xuICAgIHJldHVybiBkZWNvZGVCdWZmZXIodGhpcy5yZXNwb25zZUJ1ZmZlcik7XG4gIH1cbiAgZ2V0IHJlc3BvbnNlKCkge1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICBcImdldFJlc3BvbnNlIChyZXNwb25zZVR5cGU6ICVzKVwiLFxuICAgICAgdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZVxuICAgICk7XG4gICAgaWYgKHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlICE9PSB0aGlzLnJlcXVlc3QuRE9ORSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZSkge1xuICAgICAgY2FzZSBcImpzb25cIjoge1xuICAgICAgICBjb25zdCByZXNwb25zZUpzb24gPSBwYXJzZUpzb24odGhpcy5yZXNwb25zZUJ1ZmZlclRvVGV4dCgpKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlc29sdmVkIHJlc3BvbnNlIEpTT05cIiwgcmVzcG9uc2VKc29uKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlSnNvbjtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhcnJheWJ1ZmZlclwiOiB7XG4gICAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gdG9BcnJheUJ1ZmZlcih0aGlzLnJlc3BvbnNlQnVmZmVyKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlc29sdmVkIHJlc3BvbnNlIEFycmF5QnVmZmVyXCIsIGFycmF5QnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIGFycmF5QnVmZmVyO1xuICAgICAgfVxuICAgICAgY2FzZSBcImJsb2JcIjoge1xuICAgICAgICBjb25zdCBtaW1lVHlwZSA9IHRoaXMucmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKSB8fCBcInRleHQvcGxhaW5cIjtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VCbG9iID0gbmV3IEJsb2IoW3RoaXMucmVzcG9uc2VCdWZmZXJUb1RleHQoKV0sIHtcbiAgICAgICAgICB0eXBlOiBtaW1lVHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICBcInJlc29sdmVkIHJlc3BvbnNlIEJsb2IgKG1pbWUgdHlwZTogJXMpXCIsXG4gICAgICAgICAgcmVzcG9uc2VCbG9iLFxuICAgICAgICAgIG1pbWVUeXBlXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXNwb25zZUJsb2I7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IHRoaXMucmVzcG9uc2VCdWZmZXJUb1RleHQoKTtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICAncmVzb2x2aW5nIFwiJXNcIiByZXNwb25zZSB0eXBlIGFzIHRleHQnLFxuICAgICAgICAgIHRoaXMucmVxdWVzdC5yZXNwb25zZVR5cGUsXG4gICAgICAgICAgcmVzcG9uc2VUZXh0XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXNwb25zZVRleHQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCByZXNwb25zZVRleHQoKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZSA9PT0gXCJcIiB8fCB0aGlzLnJlcXVlc3QucmVzcG9uc2VUeXBlID09PSBcInRleHRcIixcbiAgICAgIFwiSW52YWxpZFN0YXRlRXJyb3I6IFRoZSBvYmplY3QgaXMgaW4gaW52YWxpZCBzdGF0ZS5cIlxuICAgICk7XG4gICAgaWYgKHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlICE9PSB0aGlzLnJlcXVlc3QuTE9BRElORyAmJiB0aGlzLnJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gdGhpcy5yZXF1ZXN0LkRPTkUpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZVRleHQgPSB0aGlzLnJlc3BvbnNlQnVmZmVyVG9UZXh0KCk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygnZ2V0UmVzcG9uc2VUZXh0OiBcIiVzXCInLCByZXNwb25zZVRleHQpO1xuICAgIHJldHVybiByZXNwb25zZVRleHQ7XG4gIH1cbiAgZ2V0IHJlc3BvbnNlWE1MKCkge1xuICAgIGludmFyaWFudChcbiAgICAgIHRoaXMucmVxdWVzdC5yZXNwb25zZVR5cGUgPT09IFwiXCIgfHwgdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVHlwZSA9PT0gXCJkb2N1bWVudFwiLFxuICAgICAgXCJJbnZhbGlkU3RhdGVFcnJvcjogVGhlIG9iamVjdCBpcyBpbiBpbnZhbGlkIHN0YXRlLlwiXG4gICAgKTtcbiAgICBpZiAodGhpcy5yZXF1ZXN0LnJlYWR5U3RhdGUgIT09IHRoaXMucmVxdWVzdC5ET05FKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY29udGVudFR5cGUgPSB0aGlzLnJlcXVlc3QuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikgfHwgXCJcIjtcbiAgICBpZiAodHlwZW9mIERPTVBhcnNlciA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIkNhbm5vdCByZXRyaWV2ZSBYTUxIdHRwUmVxdWVzdCByZXNwb25zZSBib2R5IGFzIFhNTDogRE9NUGFyc2VyIGlzIG5vdCBkZWZpbmVkLiBZb3UgYXJlIGxpa2VseSB1c2luZyBhbiBlbnZpcm9ubWVudCB0aGF0IGlzIG5vdCBicm93c2VyIG9yIGRvZXMgbm90IHBvbHlmaWxsIGJyb3dzZXIgZ2xvYmFscyBjb3JyZWN0bHkuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGlzRG9tUGFyc2VyU3VwcG9ydGVkVHlwZShjb250ZW50VHlwZSkpIHtcbiAgICAgIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICB0aGlzLnJlc3BvbnNlQnVmZmVyVG9UZXh0KCksXG4gICAgICAgIGNvbnRlbnRUeXBlXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBlcnJvcldpdGgoZXJyb3IyKSB7XG4gICAgdGhpc1trSXNSZXF1ZXN0SGFuZGxlZF0gPSB0cnVlO1xuICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZXNwb25kaW5nIHdpdGggYW4gZXJyb3JcIik7XG4gICAgdGhpcy5zZXRSZWFkeVN0YXRlKHRoaXMucmVxdWVzdC5ET05FKTtcbiAgICB0aGlzLnRyaWdnZXIoXCJlcnJvclwiLCB0aGlzLnJlcXVlc3QpO1xuICAgIHRoaXMudHJpZ2dlcihcImxvYWRlbmRcIiwgdGhpcy5yZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogVHJhbnNpdGlvbnMgdGhpcyByZXF1ZXN0J3MgYHJlYWR5U3RhdGVgIHRvIHRoZSBnaXZlbiBvbmUuXG4gICAqL1xuICBzZXRSZWFkeVN0YXRlKG5leHRSZWFkeVN0YXRlKSB7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgIFwic2V0UmVhZHlTdGF0ZTogJWQgLT4gJWRcIixcbiAgICAgIHRoaXMucmVxdWVzdC5yZWFkeVN0YXRlLFxuICAgICAgbmV4dFJlYWR5U3RhdGVcbiAgICApO1xuICAgIGlmICh0aGlzLnJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gbmV4dFJlYWR5U3RhdGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJyZWFkeSBzdGF0ZSBpZGVudGljYWwsIHNraXBwaW5nIHRyYW5zaXRpb24uLi5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRlZmluZSh0aGlzLnJlcXVlc3QsIFwicmVhZHlTdGF0ZVwiLCBuZXh0UmVhZHlTdGF0ZSk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcInNldCByZWFkeVN0YXRlIHRvOiAlZFwiLCBuZXh0UmVhZHlTdGF0ZSk7XG4gICAgaWYgKG5leHRSZWFkeVN0YXRlICE9PSB0aGlzLnJlcXVlc3QuVU5TRU5UKSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKCd0cmlnZ2VycmluZyBcInJlYWR5c3RhdGVjaGFuZ2VcIiBldmVudC4uLicpO1xuICAgICAgdGhpcy50cmlnZ2VyKFwicmVhZHlzdGF0ZWNoYW5nZVwiLCB0aGlzLnJlcXVlc3QpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVHJpZ2dlcnMgZ2l2ZW4gZXZlbnQgb24gdGhlIGBYTUxIdHRwUmVxdWVzdGAgaW5zdGFuY2UuXG4gICAqL1xuICB0cmlnZ2VyKGV2ZW50TmFtZSwgdGFyZ2V0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgY2FsbGJhY2sgPSB0YXJnZXRbYG9uJHtldmVudE5hbWV9YF07XG4gICAgY29uc3QgZXZlbnQgPSBjcmVhdGVFdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucyk7XG4gICAgdGhpcy5sb2dnZXIuaW5mbygndHJpZ2dlciBcIiVzXCInLCBldmVudE5hbWUsIG9wdGlvbnMgfHwgXCJcIik7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKCdmb3VuZCBhIGRpcmVjdCBcIiVzXCIgY2FsbGJhY2ssIGNhbGxpbmcuLi4nLCBldmVudE5hbWUpO1xuICAgICAgY2FsbGJhY2suY2FsbCh0YXJnZXQsIGV2ZW50KTtcbiAgICB9XG4gICAgY29uc3QgZXZlbnRzID0gdGFyZ2V0IGluc3RhbmNlb2YgWE1MSHR0cFJlcXVlc3RVcGxvYWQgPyB0aGlzLnVwbG9hZEV2ZW50cyA6IHRoaXMuZXZlbnRzO1xuICAgIGZvciAoY29uc3QgW3JlZ2lzdGVyZWRFdmVudE5hbWUsIGxpc3RlbmVyc10gb2YgZXZlbnRzKSB7XG4gICAgICBpZiAocmVnaXN0ZXJlZEV2ZW50TmFtZSA9PT0gZXZlbnROYW1lKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgICAgJ2ZvdW5kICVkIGxpc3RlbmVyKHMpIGZvciBcIiVzXCIgZXZlbnQsIGNhbGxpbmcuLi4nLFxuICAgICAgICAgIGxpc3RlbmVycy5sZW5ndGgsXG4gICAgICAgICAgZXZlbnROYW1lXG4gICAgICAgICk7XG4gICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4gbGlzdGVuZXIuY2FsbCh0YXJnZXQsIGV2ZW50KSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGlzIGBYTUxIdHRwUmVxdWVzdGAgaW5zdGFuY2UgaW50byBhIEZldGNoIEFQSSBgUmVxdWVzdGAgaW5zdGFuY2UuXG4gICAqL1xuICB0b0ZldGNoQXBpUmVxdWVzdChib2R5KSB7XG4gICAgdGhpcy5sb2dnZXIuaW5mbyhcImNvbnZlcnRpbmcgcmVxdWVzdCB0byBhIEZldGNoIEFQSSBSZXF1ZXN0Li4uXCIpO1xuICAgIGNvbnN0IHJlc29sdmVkQm9keSA9IGJvZHkgaW5zdGFuY2VvZiBEb2N1bWVudCA/IGJvZHkuZG9jdW1lbnRFbGVtZW50LmlubmVyVGV4dCA6IGJvZHk7XG4gICAgY29uc3QgZmV0Y2hSZXF1ZXN0ID0gbmV3IFJlcXVlc3QodGhpcy51cmwuaHJlZiwge1xuICAgICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICAgIGhlYWRlcnM6IHRoaXMucmVxdWVzdEhlYWRlcnMsXG4gICAgICAvKipcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly94aHIuc3BlYy53aGF0d2cub3JnLyNjcm9zcy1vcmlnaW4tY3JlZGVudGlhbHNcbiAgICAgICAqL1xuICAgICAgY3JlZGVudGlhbHM6IHRoaXMucmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPyBcImluY2x1ZGVcIiA6IFwic2FtZS1vcmlnaW5cIixcbiAgICAgIGJvZHk6IFtcIkdFVFwiLCBcIkhFQURcIl0uaW5jbHVkZXModGhpcy5tZXRob2QudG9VcHBlckNhc2UoKSkgPyBudWxsIDogcmVzb2x2ZWRCb2R5XG4gICAgfSk7XG4gICAgY29uc3QgcHJveHlIZWFkZXJzID0gY3JlYXRlUHJveHkoZmV0Y2hSZXF1ZXN0LmhlYWRlcnMsIHtcbiAgICAgIG1ldGhvZENhbGw6IChbbWV0aG9kTmFtZSwgYXJnc10sIGludm9rZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwiYXBwZW5kXCI6XG4gICAgICAgICAgY2FzZSBcInNldFwiOiB7XG4gICAgICAgICAgICBjb25zdCBbaGVhZGVyTmFtZSwgaGVhZGVyVmFsdWVdID0gYXJncztcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlck5hbWUsIGhlYWRlclZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiZGVsZXRlXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IFtoZWFkZXJOYW1lXSA9IGFyZ3M7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIGBYTUxIdHRwUmVxdWVzdDogQ2Fubm90IHJlbW92ZSBhIFwiJHtoZWFkZXJOYW1lfVwiIGhlYWRlciBmcm9tIHRoZSBGZXRjaCBBUEkgcmVwcmVzZW50YXRpb24gb2YgdGhlIFwiJHtmZXRjaFJlcXVlc3QubWV0aG9kfSAke2ZldGNoUmVxdWVzdC51cmx9XCIgcmVxdWVzdC4gWE1MSHR0cFJlcXVlc3QgaGVhZGVycyBjYW5ub3QgYmUgcmVtb3ZlZC5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkZWZpbmUoZmV0Y2hSZXF1ZXN0LCBcImhlYWRlcnNcIiwgcHJveHlIZWFkZXJzKTtcbiAgICB0aGlzLmxvZ2dlci5pbmZvKFwiY29udmVydGVkIHJlcXVlc3QgdG8gYSBGZXRjaCBBUEkgUmVxdWVzdCFcIiwgZmV0Y2hSZXF1ZXN0KTtcbiAgICByZXR1cm4gZmV0Y2hSZXF1ZXN0O1xuICB9XG59O1xuZnVuY3Rpb24gdG9BYnNvbHV0ZVVybCh1cmwpIHtcbiAgaWYgKHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBuZXcgVVJMKHVybCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBVUkwodXJsLnRvU3RyaW5nKCksIGxvY2F0aW9uLmhyZWYpO1xufVxuZnVuY3Rpb24gZGVmaW5lKHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwge1xuICAgIC8vIEVuc3VyZSB3cml0YWJsZSBwcm9wZXJ0aWVzIHRvIGFsbG93IHJlZGVmaW5pbmcgcmVhZG9ubHkgcHJvcGVydGllcy5cbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIHZhbHVlXG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlWE1MSHR0cFJlcXVlc3RQcm94eSh7XG4gIGVtaXR0ZXIsXG4gIGxvZ2dlclxufSkge1xuICBjb25zdCBYTUxIdHRwUmVxdWVzdFByb3h5ID0gbmV3IFByb3h5KGdsb2JhbFRoaXMuWE1MSHR0cFJlcXVlc3QsIHtcbiAgICBjb25zdHJ1Y3QodGFyZ2V0LCBhcmdzLCBuZXdUYXJnZXQpIHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiY29uc3RydWN0ZWQgbmV3IFhNTEh0dHBSZXF1ZXN0XCIpO1xuICAgICAgY29uc3Qgb3JpZ2luYWxSZXF1ZXN0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgYXJncyxcbiAgICAgICAgbmV3VGFyZ2V0XG4gICAgICApO1xuICAgICAgY29uc3QgcHJvdG90eXBlRGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhcbiAgICAgICAgdGFyZ2V0LnByb3RvdHlwZVxuICAgICAgKTtcbiAgICAgIGZvciAoY29uc3QgcHJvcGVydHlOYW1lIGluIHByb3RvdHlwZURlc2NyaXB0b3JzKSB7XG4gICAgICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgb3JpZ2luYWxSZXF1ZXN0LFxuICAgICAgICAgIHByb3BlcnR5TmFtZSxcbiAgICAgICAgICBwcm90b3R5cGVEZXNjcmlwdG9yc1twcm9wZXJ0eU5hbWVdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCB4aHJSZXF1ZXN0Q29udHJvbGxlciA9IG5ldyBYTUxIdHRwUmVxdWVzdENvbnRyb2xsZXIoXG4gICAgICAgIG9yaWdpbmFsUmVxdWVzdCxcbiAgICAgICAgbG9nZ2VyXG4gICAgICApO1xuICAgICAgeGhyUmVxdWVzdENvbnRyb2xsZXIub25SZXF1ZXN0ID0gYXN5bmMgZnVuY3Rpb24oeyByZXF1ZXN0LCByZXF1ZXN0SWQgfSkge1xuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IFJlcXVlc3RDb250cm9sbGVyKHJlcXVlc3QpO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiYXdhaXRpbmcgbW9ja2VkIHJlc3BvbnNlLi4uXCIpO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFxuICAgICAgICAgICdlbWl0dGluZyB0aGUgXCJyZXF1ZXN0XCIgZXZlbnQgZm9yICVzIGxpc3RlbmVyKHMpLi4uJyxcbiAgICAgICAgICBlbWl0dGVyLmxpc3RlbmVyQ291bnQoXCJyZXF1ZXN0XCIpXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IGlzUmVxdWVzdEhhbmRsZWQgPSBhd2FpdCBoYW5kbGVSZXF1ZXN0Mih7XG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgICBlbWl0dGVyLFxuICAgICAgICAgIG9uUmVzcG9uc2U6IGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZXNwb25kV2l0aChyZXNwb25zZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJlcXVlc3RFcnJvcjogKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lcnJvcldpdGgobmV3IFR5cGVFcnJvcihcIk5ldHdvcmsgZXJyb3JcIikpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25FcnJvcjogKGVycm9yMikgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcInJlcXVlc3QgZXJyb3JlZCFcIiwgeyBlcnJvcjogZXJyb3IyIH0pO1xuICAgICAgICAgICAgaWYgKGVycm9yMiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgIHRoaXMuZXJyb3JXaXRoKGVycm9yMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpc1JlcXVlc3RIYW5kbGVkKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcbiAgICAgICAgICAgIFwibm8gbW9ja2VkIHJlc3BvbnNlIHJlY2VpdmVkLCBwZXJmb3JtaW5nIHJlcXVlc3QgYXMtaXMuLi5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB4aHJSZXF1ZXN0Q29udHJvbGxlci5vblJlc3BvbnNlID0gYXN5bmMgZnVuY3Rpb24oe1xuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgaXNNb2NrZWRSZXNwb25zZSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcmVxdWVzdElkXG4gICAgICB9KSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXG4gICAgICAgICAgJ2VtaXR0aW5nIHRoZSBcInJlc3BvbnNlXCIgZXZlbnQgZm9yICVzIGxpc3RlbmVyKHMpLi4uJyxcbiAgICAgICAgICBlbWl0dGVyLmxpc3RlbmVyQ291bnQoXCJyZXNwb25zZVwiKVxuICAgICAgICApO1xuICAgICAgICBlbWl0dGVyLmVtaXQoXCJyZXNwb25zZVwiLCB7XG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgaXNNb2NrZWRSZXNwb25zZSxcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIHJlcXVlc3RJZFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICByZXR1cm4geGhyUmVxdWVzdENvbnRyb2xsZXIucmVxdWVzdDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gWE1MSHR0cFJlcXVlc3RQcm94eTtcbn1cbnZhciBfWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvciA9IGNsYXNzIGV4dGVuZHMgSW50ZXJjZXB0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihfWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvci5pbnRlcmNlcHRvclN5bWJvbCk7XG4gIH1cbiAgY2hlY2tFbnZpcm9ubWVudCgpIHtcbiAgICByZXR1cm4gaGFzQ29uZmlndXJhYmxlR2xvYmFsKFwiWE1MSHR0cFJlcXVlc3RcIik7XG4gIH1cbiAgc2V0dXAoKSB7XG4gICAgY29uc3QgbG9nZ2VyID0gdGhpcy5sb2dnZXIuZXh0ZW5kKFwic2V0dXBcIik7XG4gICAgbG9nZ2VyLmluZm8oJ3BhdGNoaW5nIFwiWE1MSHR0cFJlcXVlc3RcIiBtb2R1bGUuLi4nKTtcbiAgICBjb25zdCBQdXJlWE1MSHR0cFJlcXVlc3QgPSBnbG9iYWxUaGlzLlhNTEh0dHBSZXF1ZXN0O1xuICAgIGludmFyaWFudChcbiAgICAgICFQdXJlWE1MSHR0cFJlcXVlc3RbSVNfUEFUQ0hFRF9NT0RVTEVdLFxuICAgICAgJ0ZhaWxlZCB0byBwYXRjaCB0aGUgXCJYTUxIdHRwUmVxdWVzdFwiIG1vZHVsZTogYWxyZWFkeSBwYXRjaGVkLidcbiAgICApO1xuICAgIGdsb2JhbFRoaXMuWE1MSHR0cFJlcXVlc3QgPSBjcmVhdGVYTUxIdHRwUmVxdWVzdFByb3h5KHtcbiAgICAgIGVtaXR0ZXI6IHRoaXMuZW1pdHRlcixcbiAgICAgIGxvZ2dlcjogdGhpcy5sb2dnZXJcbiAgICB9KTtcbiAgICBsb2dnZXIuaW5mbyhcbiAgICAgICduYXRpdmUgXCJYTUxIdHRwUmVxdWVzdFwiIG1vZHVsZSBwYXRjaGVkIScsXG4gICAgICBnbG9iYWxUaGlzLlhNTEh0dHBSZXF1ZXN0Lm5hbWVcbiAgICApO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWxUaGlzLlhNTEh0dHBSZXF1ZXN0LCBJU19QQVRDSEVEX01PRFVMRSwge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbFRoaXMuWE1MSHR0cFJlcXVlc3QsIElTX1BBVENIRURfTU9EVUxFLCB7XG4gICAgICAgIHZhbHVlOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgICAgZ2xvYmFsVGhpcy5YTUxIdHRwUmVxdWVzdCA9IFB1cmVYTUxIdHRwUmVxdWVzdDtcbiAgICAgIGxvZ2dlci5pbmZvKFxuICAgICAgICAnbmF0aXZlIFwiWE1MSHR0cFJlcXVlc3RcIiBtb2R1bGUgcmVzdG9yZWQhJyxcbiAgICAgICAgZ2xvYmFsVGhpcy5YTUxIdHRwUmVxdWVzdC5uYW1lXG4gICAgICApO1xuICAgIH0pO1xuICB9XG59O1xudmFyIFhNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3IgPSBfWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvcjtcblhNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3IuaW50ZXJjZXB0b3JTeW1ib2wgPSBTeW1ib2woXCJ4aHJcIik7XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L2NyZWF0ZUZhbGxiYWNrUmVxdWVzdExpc3RlbmVyLnRzXG5pbXBvcnQgeyBoYW5kbGVSZXF1ZXN0IGFzIGhhbmRsZVJlcXVlc3QzIH0gZnJvbSAnLi4vY29yZS91dGlscy9oYW5kbGVSZXF1ZXN0Lm1qcyc7XG5pbXBvcnQgeyBpc0hhbmRsZXJLaW5kIGFzIGlzSGFuZGxlcktpbmQyIH0gZnJvbSAnLi4vY29yZS91dGlscy9pbnRlcm5hbC9pc0hhbmRsZXJLaW5kLm1qcyc7XG5mdW5jdGlvbiBjcmVhdGVGYWxsYmFja1JlcXVlc3RMaXN0ZW5lcihjb250ZXh0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGludGVyY2VwdG9yID0gbmV3IEJhdGNoSW50ZXJjZXB0b3Ioe1xuICAgIG5hbWU6IFwiZmFsbGJhY2tcIixcbiAgICBpbnRlcmNlcHRvcnM6IFtuZXcgRmV0Y2hJbnRlcmNlcHRvcigpLCBuZXcgWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvcigpXVxuICB9KTtcbiAgaW50ZXJjZXB0b3Iub24oXCJyZXF1ZXN0XCIsIGFzeW5jICh7IHJlcXVlc3QsIHJlcXVlc3RJZCwgY29udHJvbGxlciB9KSA9PiB7XG4gICAgY29uc3QgcmVxdWVzdENsb25lRm9yTG9ncyA9IHJlcXVlc3QuY2xvbmUoKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVJlcXVlc3QzKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIHJlcXVlc3RJZCxcbiAgICAgIGNvbnRleHQuZ2V0UmVxdWVzdEhhbmRsZXJzKCkuZmlsdGVyKGlzSGFuZGxlcktpbmQyKFwiUmVxdWVzdEhhbmRsZXJcIikpLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGNvbnRleHQuZW1pdHRlcixcbiAgICAgIHtcbiAgICAgICAgb25Nb2NrZWRSZXNwb25zZShfLCB7IGhhbmRsZXIsIHBhcnNlZFJlc3VsdCB9KSB7XG4gICAgICAgICAgaWYgKCFvcHRpb25zLnF1aWV0KSB7XG4gICAgICAgICAgICBjb250ZXh0LmVtaXR0ZXIub25jZShcInJlc3BvbnNlOm1vY2tlZFwiLCAoeyByZXNwb25zZTogcmVzcG9uc2UyIH0pID0+IHtcbiAgICAgICAgICAgICAgaGFuZGxlci5sb2coe1xuICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RDbG9uZUZvckxvZ3MsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlMixcbiAgICAgICAgICAgICAgICBwYXJzZWRSZXN1bHRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgY29udHJvbGxlci5yZXNwb25kV2l0aChyZXNwb25zZSk7XG4gICAgfVxuICB9KTtcbiAgaW50ZXJjZXB0b3Iub24oXG4gICAgXCJyZXNwb25zZVwiLFxuICAgICh7IHJlc3BvbnNlLCBpc01vY2tlZFJlc3BvbnNlLCByZXF1ZXN0LCByZXF1ZXN0SWQgfSkgPT4ge1xuICAgICAgY29udGV4dC5lbWl0dGVyLmVtaXQoXG4gICAgICAgIGlzTW9ja2VkUmVzcG9uc2UgPyBcInJlc3BvbnNlOm1vY2tlZFwiIDogXCJyZXNwb25zZTpieXBhc3NcIixcbiAgICAgICAge1xuICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgcmVxdWVzdElkXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICApO1xuICBpbnRlcmNlcHRvci5hcHBseSgpO1xuICByZXR1cm4gaW50ZXJjZXB0b3I7XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3N0YXJ0L2NyZWF0ZUZhbGxiYWNrU3RhcnQudHNcbmZ1bmN0aW9uIGNyZWF0ZUZhbGxiYWNrU3RhcnQoY29udGV4dCkge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gc3RhcnQob3B0aW9ucykge1xuICAgIGNvbnRleHQuZmFsbGJhY2tJbnRlcmNlcHRvciA9IGNyZWF0ZUZhbGxiYWNrUmVxdWVzdExpc3RlbmVyKFxuICAgICAgY29udGV4dCxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICAgIHByaW50U3RhcnRNZXNzYWdlKHtcbiAgICAgIG1lc3NhZ2U6IFwiTW9ja2luZyBlbmFibGVkIChmYWxsYmFjayBtb2RlKS5cIixcbiAgICAgIHF1aWV0OiBvcHRpb25zLnF1aWV0XG4gICAgfSk7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfTtcbn1cblxuLy8gc3JjL2Jyb3dzZXIvc2V0dXBXb3JrZXIvc3RvcC9jcmVhdGVGYWxsYmFja1N0b3AudHNcbmZ1bmN0aW9uIGNyZWF0ZUZhbGxiYWNrU3RvcChjb250ZXh0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGNvbnRleHQuZmFsbGJhY2tJbnRlcmNlcHRvcj8uZGlzcG9zZSgpO1xuICAgIHByaW50U3RvcE1lc3NhZ2UoeyBxdWlldDogY29udGV4dC5zdGFydE9wdGlvbnM/LnF1aWV0IH0pO1xuICB9O1xufVxuXG4vLyBzcmMvYnJvd3Nlci9zZXR1cFdvcmtlci9zZXR1cFdvcmtlci50c1xuaW1wb3J0IHsgZGV2VXRpbHMgYXMgZGV2VXRpbHMxMCB9IGZyb20gJy4uL2NvcmUvdXRpbHMvaW50ZXJuYWwvZGV2VXRpbHMubWpzJztcbmltcG9ydCB7IFNldHVwQXBpIH0gZnJvbSAnLi4vY29yZS9TZXR1cEFwaS5tanMnO1xuaW1wb3J0IHsgbWVyZ2VSaWdodCBhcyBtZXJnZVJpZ2h0MiB9IGZyb20gJy4uL2NvcmUvdXRpbHMvaW50ZXJuYWwvbWVyZ2VSaWdodC5tanMnO1xuXG4vLyBzcmMvYnJvd3Nlci91dGlscy9zdXBwb3J0c1JlYWRhYmxlU3RyZWFtVHJhbnNmZXIudHNcbmZ1bmN0aW9uIHN1cHBvcnRzUmVhZGFibGVTdHJlYW1UcmFuc2ZlcigpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgc3RhcnQ6IChjb250cm9sbGVyKSA9PiBjb250cm9sbGVyLmNsb3NlKClcbiAgICB9KTtcbiAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgbWVzc2FnZS5wb3J0MS5wb3N0TWVzc2FnZShzdHJlYW0sIFtzdHJlYW1dKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIHNyYy9icm93c2VyL3NldHVwV29ya2VyL3NldHVwV29ya2VyLnRzXG5pbXBvcnQgeyB3ZWJTb2NrZXRJbnRlcmNlcHRvciB9IGZyb20gJy4uL2NvcmUvd3Mvd2ViU29ja2V0SW50ZXJjZXB0b3IubWpzJztcbmltcG9ydCB7IGhhbmRsZVdlYlNvY2tldEV2ZW50IH0gZnJvbSAnLi4vY29yZS93cy9oYW5kbGVXZWJTb2NrZXRFdmVudC5tanMnO1xuaW1wb3J0IHsgYXR0YWNoV2ViU29ja2V0TG9nZ2VyIH0gZnJvbSAnLi4vY29yZS93cy91dGlscy9hdHRhY2hXZWJTb2NrZXRMb2dnZXIubWpzJztcbnZhciBTZXR1cFdvcmtlckFwaSA9IGNsYXNzIGV4dGVuZHMgU2V0dXBBcGkge1xuICBjb250ZXh0O1xuICBzdGFydEhhbmRsZXIgPSBudWxsO1xuICBzdG9wSGFuZGxlciA9IG51bGw7XG4gIGxpc3RlbmVycztcbiAgY29uc3RydWN0b3IoLi4uaGFuZGxlcnMpIHtcbiAgICBzdXBlciguLi5oYW5kbGVycyk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIWlzTm9kZVByb2Nlc3MoKSxcbiAgICAgIGRldlV0aWxzMTAuZm9ybWF0TWVzc2FnZShcbiAgICAgICAgXCJGYWlsZWQgdG8gZXhlY3V0ZSBgc2V0dXBXb3JrZXJgIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQuIENvbnNpZGVyIHVzaW5nIGBzZXR1cFNlcnZlcmAgZm9yIE5vZGUuanMgZW52aXJvbm1lbnQgaW5zdGVhZC5cIlxuICAgICAgKVxuICAgICk7XG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNyZWF0ZVdvcmtlckNvbnRleHQoKTtcbiAgfVxuICBjcmVhdGVXb3JrZXJDb250ZXh0KCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAvLyBNb2NraW5nIGlzIG5vdCBjb25zaWRlcmVkIGVuYWJsZWQgdW50aWwgdGhlIHdvcmtlclxuICAgICAgLy8gc2lnbmFscyBiYWNrIHRoZSBzdWNjZXNzZnVsIGFjdGl2YXRpb24gZXZlbnQuXG4gICAgICBpc01vY2tpbmdFbmFibGVkOiBmYWxzZSxcbiAgICAgIHN0YXJ0T3B0aW9uczogbnVsbCxcbiAgICAgIHdvcmtlcjogbnVsbCxcbiAgICAgIGdldFJlcXVlc3RIYW5kbGVyczogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVyc0NvbnRyb2xsZXIuY3VycmVudEhhbmRsZXJzKCk7XG4gICAgICB9LFxuICAgICAgcmVnaXN0cmF0aW9uOiBudWxsLFxuICAgICAgcmVxdWVzdHM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgICBlbWl0dGVyOiB0aGlzLmVtaXR0ZXIsXG4gICAgICB3b3JrZXJDaGFubmVsOiB7XG4gICAgICAgIG9uOiAoZXZlbnRUeXBlLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgIHRoaXMuY29udGV4dC5ldmVudHMuYWRkTGlzdGVuZXIobmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIsIFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgIT09IHRoaXMuY29udGV4dC53b3JrZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gZXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50LCBtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2VuZDogKHR5cGUpID0+IHtcbiAgICAgICAgICB0aGlzLmNvbnRleHQud29ya2VyPy5wb3N0TWVzc2FnZSh0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGV2ZW50czoge1xuICAgICAgICBhZGRMaXN0ZW5lcjogKHRhcmdldCwgZXZlbnRUeXBlLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2FsbGJhY2spO1xuICAgICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2goe1xuICAgICAgICAgICAgZXZlbnRUeXBlLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjayk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlQWxsTGlzdGVuZXJzOiAoKSA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCB7IHRhcmdldCwgZXZlbnRUeXBlLCBjYWxsYmFjayB9IG9mIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgfSxcbiAgICAgICAgb25jZTogKGV2ZW50VHlwZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGJpbmRpbmdzID0gW107XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUluY29taW5nTWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IGV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcjIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYmluZGluZ3MucHVzaChcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmV2ZW50cy5hZGRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlcixcbiAgICAgICAgICAgICAgICBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgICAgICBoYW5kbGVJbmNvbWluZ01lc3NhZ2VcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LmV2ZW50cy5hZGRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlcixcbiAgICAgICAgICAgICAgICBcIm1lc3NhZ2VlcnJvclwiLFxuICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgYmluZGluZ3MuZm9yRWFjaCgodW5iaW5kKSA9PiB1bmJpbmQoKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdXBwb3J0czoge1xuICAgICAgICBzZXJ2aWNlV29ya2VyQXBpOiAhKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikgfHwgbG9jYXRpb24ucHJvdG9jb2wgPT09IFwiZmlsZTpcIixcbiAgICAgICAgcmVhZGFibGVTdHJlYW1UcmFuc2Zlcjogc3VwcG9ydHNSZWFkYWJsZVN0cmVhbVRyYW5zZmVyKClcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc3RhcnRIYW5kbGVyID0gY29udGV4dC5zdXBwb3J0cy5zZXJ2aWNlV29ya2VyQXBpID8gY3JlYXRlRmFsbGJhY2tTdGFydChjb250ZXh0KSA6IGNyZWF0ZVN0YXJ0SGFuZGxlcihjb250ZXh0KTtcbiAgICB0aGlzLnN0b3BIYW5kbGVyID0gY29udGV4dC5zdXBwb3J0cy5zZXJ2aWNlV29ya2VyQXBpID8gY3JlYXRlRmFsbGJhY2tTdG9wKGNvbnRleHQpIDogY3JlYXRlU3RvcChjb250ZXh0KTtcbiAgICByZXR1cm4gY29udGV4dDtcbiAgfVxuICBhc3luYyBzdGFydChvcHRpb25zID0ge30pIHtcbiAgICBpZiAob3B0aW9ucy53YWl0VW50aWxSZWFkeSA9PT0gdHJ1ZSkge1xuICAgICAgZGV2VXRpbHMxMC53YXJuKFxuICAgICAgICAnVGhlIFwid2FpdFVudGlsUmVhZHlcIiBvcHRpb24gaGFzIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIHJlbW92ZSBpdCBmcm9tIHRoaXMgXCJ3b3JrZXIuc3RhcnQoKVwiIGNhbGwuIEZvbGxvdyB0aGUgcmVjb21tZW5kZWQgQnJvd3NlciBpbnRlZ3JhdGlvbiAoaHR0cHM6Ly9tc3dqcy5pby9kb2NzL2ludGVncmF0aW9ucy9icm93c2VyKSB0byBlbGltaW5hdGUgYW55IHJhY2UgY29uZGl0aW9ucyBiZXR3ZWVuIHRoZSBTZXJ2aWNlIFdvcmtlciByZWdpc3RyYXRpb24gYW5kIGFueSByZXF1ZXN0cyBtYWRlIGJ5IHlvdXIgYXBwbGljYXRpb24gb24gaW5pdGlhbCByZW5kZXIuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jb250ZXh0LnN0YXJ0T3B0aW9ucyA9IG1lcmdlUmlnaHQyKFxuICAgICAgREVGQVVMVF9TVEFSVF9PUFRJT05TLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gICAgaGFuZGxlV2ViU29ja2V0RXZlbnQoe1xuICAgICAgZ2V0VW5oYW5kbGVkUmVxdWVzdFN0cmF0ZWd5OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuc3RhcnRPcHRpb25zLm9uVW5oYW5kbGVkUmVxdWVzdDtcbiAgICAgIH0sXG4gICAgICBnZXRIYW5kbGVyczogKCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVyc0NvbnRyb2xsZXIuY3VycmVudEhhbmRsZXJzKCk7XG4gICAgICB9LFxuICAgICAgb25Nb2NrZWRDb25uZWN0aW9uOiAoY29ubmVjdGlvbikgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuY29udGV4dC5zdGFydE9wdGlvbnMucXVpZXQpIHtcbiAgICAgICAgICBhdHRhY2hXZWJTb2NrZXRMb2dnZXIoY29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblBhc3N0aHJvdWdoQ29ubmVjdGlvbigpIHtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB3ZWJTb2NrZXRJbnRlcmNlcHRvci5hcHBseSgpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgIHdlYlNvY2tldEludGVyY2VwdG9yLmRpc3Bvc2UoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdGFydEhhbmRsZXIodGhpcy5jb250ZXh0LnN0YXJ0T3B0aW9ucywgb3B0aW9ucyk7XG4gIH1cbiAgc3RvcCgpIHtcbiAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgdGhpcy5jb250ZXh0LmV2ZW50cy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmNvbnRleHQuZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLnN0b3BIYW5kbGVyKCk7XG4gIH1cbn07XG5mdW5jdGlvbiBzZXR1cFdvcmtlciguLi5oYW5kbGVycykge1xuICByZXR1cm4gbmV3IFNldHVwV29ya2VyQXBpKC4uLmhhbmRsZXJzKTtcbn1cbmV4cG9ydCB7XG4gIFNldHVwV29ya2VyQXBpLFxuICBzZXR1cFdvcmtlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/browser/index.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/SetupApi.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/SetupApi.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HandlersController: () =&gt; (/* binding */ HandlersController),\n/* harmony export */   InMemoryHandlersController: () =&gt; (/* binding */ InMemoryHandlersController),\n/* harmony export */   SetupApi: () =&gt; (/* binding */ SetupApi)\n/* harmony export */ });\n/* harmony import */ var outvariant__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! outvariant */ \"(app-pages-browser)/./node_modules/outvariant/lib/index.mjs\");\n/* harmony import */ var strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! strict-event-emitter */ \"(app-pages-browser)/./node_modules/strict-event-emitter/lib/index.mjs\");\n/* harmony import */ var _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/internal/devUtils.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\");\n/* harmony import */ var _utils_internal_pipeEvents_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/internal/pipeEvents.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/pipeEvents.mjs\");\n/* harmony import */ var _utils_internal_toReadonlyArray_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/internal/toReadonlyArray.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/toReadonlyArray.mjs\");\n/* harmony import */ var _utils_internal_Disposable_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/internal/Disposable.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/Disposable.mjs\");\n\n\n\n\n\n\nclass HandlersController {\n}\nclass InMemoryHandlersController {\n  constructor(initialHandlers) {\n    this.initialHandlers = initialHandlers;\n    this.handlers = [...initialHandlers];\n  }\n  handlers;\n  prepend(runtimeHandles) {\n    this.handlers.unshift(...runtimeHandles);\n  }\n  reset(nextHandlers) {\n    this.handlers = nextHandlers.length &gt; 0 ? [...nextHandlers] : [...this.initialHandlers];\n  }\n  currentHandlers() {\n    return this.handlers;\n  }\n}\nclass SetupApi extends _utils_internal_Disposable_mjs__WEBPACK_IMPORTED_MODULE_2__.Disposable {\n  handlersController;\n  emitter;\n  publicEmitter;\n  events;\n  constructor(...initialHandlers) {\n    super();\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_0__.invariant)(\n      this.validateHandlers(initialHandlers),\n      _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_3__.devUtils.formatMessage(\n        `Failed to apply given request handlers: invalid input. Did you forget to spread the request handlers Array?`\n      )\n    );\n    this.handlersController = new InMemoryHandlersController(initialHandlers);\n    this.emitter = new strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__.Emitter();\n    this.publicEmitter = new strict_event_emitter__WEBPACK_IMPORTED_MODULE_1__.Emitter();\n    (0,_utils_internal_pipeEvents_mjs__WEBPACK_IMPORTED_MODULE_4__.pipeEvents)(this.emitter, this.publicEmitter);\n    this.events = this.createLifeCycleEvents();\n    this.subscriptions.push(() =&gt; {\n      this.emitter.removeAllListeners();\n      this.publicEmitter.removeAllListeners();\n    });\n  }\n  validateHandlers(handlers) {\n    return handlers.every((handler) =&gt; !Array.isArray(handler));\n  }\n  use(...runtimeHandlers) {\n    (0,outvariant__WEBPACK_IMPORTED_MODULE_0__.invariant)(\n      this.validateHandlers(runtimeHandlers),\n      _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_3__.devUtils.formatMessage(\n        `Failed to call \"use()\" with the given request handlers: invalid input. Did you forget to spread the array of request handlers?`\n      )\n    );\n    this.handlersController.prepend(runtimeHandlers);\n  }\n  restoreHandlers() {\n    this.handlersController.currentHandlers().forEach((handler) =&gt; {\n      if (\"isUsed\" in handler) {\n        handler.isUsed = false;\n      }\n    });\n  }\n  resetHandlers(...nextHandlers) {\n    this.handlersController.reset(nextHandlers);\n  }\n  listHandlers() {\n    return (0,_utils_internal_toReadonlyArray_mjs__WEBPACK_IMPORTED_MODULE_5__.toReadonlyArray)(this.handlersController.currentHandlers());\n  }\n  createLifeCycleEvents() {\n    return {\n      on: (...args) =&gt; {\n        return this.publicEmitter.on(...args);\n      },\n      removeListener: (...args) =&gt; {\n        return this.publicEmitter.removeListener(...args);\n      },\n      removeAllListeners: (...args) =&gt; {\n        return this.publicEmitter.removeAllListeners(...args);\n      }\n    };\n  }\n}\n\n//# sourceMappingURL=SetupApi.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvU2V0dXBBcGkubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUF1QztBQUNRO0FBQ1U7QUFDSTtBQUNVO0FBQ1Y7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNFQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUkscURBQVM7QUFDYjtBQUNBLE1BQU0sa0VBQVE7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix5REFBTztBQUM5Qiw2QkFBNkIseURBQU87QUFDcEMsSUFBSSwwRUFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFEQUFTO0FBQ2I7QUFDQSxNQUFNLGtFQUFRO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0ZBQWU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS9TZXR1cEFwaS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW52YXJpYW50IH0gZnJvbSBcIm91dHZhcmlhbnRcIjtcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwic3RyaWN0LWV2ZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGRldlV0aWxzIH0gZnJvbSAnLi91dGlscy9pbnRlcm5hbC9kZXZVdGlscy5tanMnO1xuaW1wb3J0IHsgcGlwZUV2ZW50cyB9IGZyb20gJy4vdXRpbHMvaW50ZXJuYWwvcGlwZUV2ZW50cy5tanMnO1xuaW1wb3J0IHsgdG9SZWFkb25seUFycmF5IH0gZnJvbSAnLi91dGlscy9pbnRlcm5hbC90b1JlYWRvbmx5QXJyYXkubWpzJztcbmltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuL3V0aWxzL2ludGVybmFsL0Rpc3Bvc2FibGUubWpzJztcbmNsYXNzIEhhbmRsZXJzQ29udHJvbGxlciB7XG59XG5jbGFzcyBJbk1lbW9yeUhhbmRsZXJzQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKGluaXRpYWxIYW5kbGVycykge1xuICAgIHRoaXMuaW5pdGlhbEhhbmRsZXJzID0gaW5pdGlhbEhhbmRsZXJzO1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbLi4uaW5pdGlhbEhhbmRsZXJzXTtcbiAgfVxuICBoYW5kbGVycztcbiAgcHJlcGVuZChydW50aW1lSGFuZGxlcykge1xuICAgIHRoaXMuaGFuZGxlcnMudW5zaGlmdCguLi5ydW50aW1lSGFuZGxlcyk7XG4gIH1cbiAgcmVzZXQobmV4dEhhbmRsZXJzKSB7XG4gICAgdGhpcy5oYW5kbGVycyA9IG5leHRIYW5kbGVycy5sZW5ndGggPiAwID8gWy4uLm5leHRIYW5kbGVyc10gOiBbLi4udGhpcy5pbml0aWFsSGFuZGxlcnNdO1xuICB9XG4gIGN1cnJlbnRIYW5kbGVycygpIHtcbiAgICByZXR1cm4gdGhpcy5oYW5kbGVycztcbiAgfVxufVxuY2xhc3MgU2V0dXBBcGkgZXh0ZW5kcyBEaXNwb3NhYmxlIHtcbiAgaGFuZGxlcnNDb250cm9sbGVyO1xuICBlbWl0dGVyO1xuICBwdWJsaWNFbWl0dGVyO1xuICBldmVudHM7XG4gIGNvbnN0cnVjdG9yKC4uLmluaXRpYWxIYW5kbGVycykge1xuICAgIHN1cGVyKCk7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy52YWxpZGF0ZUhhbmRsZXJzKGluaXRpYWxIYW5kbGVycyksXG4gICAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgICBgRmFpbGVkIHRvIGFwcGx5IGdpdmVuIHJlcXVlc3QgaGFuZGxlcnM6IGludmFsaWQgaW5wdXQuIERpZCB5b3UgZm9yZ2V0IHRvIHNwcmVhZCB0aGUgcmVxdWVzdCBoYW5kbGVycyBBcnJheT9gXG4gICAgICApXG4gICAgKTtcbiAgICB0aGlzLmhhbmRsZXJzQ29udHJvbGxlciA9IG5ldyBJbk1lbW9yeUhhbmRsZXJzQ29udHJvbGxlcihpbml0aWFsSGFuZGxlcnMpO1xuICAgIHRoaXMuZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgdGhpcy5wdWJsaWNFbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICBwaXBlRXZlbnRzKHRoaXMuZW1pdHRlciwgdGhpcy5wdWJsaWNFbWl0dGVyKTtcbiAgICB0aGlzLmV2ZW50cyA9IHRoaXMuY3JlYXRlTGlmZUN5Y2xlRXZlbnRzKCk7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT4ge1xuICAgICAgdGhpcy5lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgdGhpcy5wdWJsaWNFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH0pO1xuICB9XG4gIHZhbGlkYXRlSGFuZGxlcnMoaGFuZGxlcnMpIHtcbiAgICByZXR1cm4gaGFuZGxlcnMuZXZlcnkoKGhhbmRsZXIpID0+ICFBcnJheS5pc0FycmF5KGhhbmRsZXIpKTtcbiAgfVxuICB1c2UoLi4ucnVudGltZUhhbmRsZXJzKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgdGhpcy52YWxpZGF0ZUhhbmRsZXJzKHJ1bnRpbWVIYW5kbGVycyksXG4gICAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgICBgRmFpbGVkIHRvIGNhbGwgXCJ1c2UoKVwiIHdpdGggdGhlIGdpdmVuIHJlcXVlc3QgaGFuZGxlcnM6IGludmFsaWQgaW5wdXQuIERpZCB5b3UgZm9yZ2V0IHRvIHNwcmVhZCB0aGUgYXJyYXkgb2YgcmVxdWVzdCBoYW5kbGVycz9gXG4gICAgICApXG4gICAgKTtcbiAgICB0aGlzLmhhbmRsZXJzQ29udHJvbGxlci5wcmVwZW5kKHJ1bnRpbWVIYW5kbGVycyk7XG4gIH1cbiAgcmVzdG9yZUhhbmRsZXJzKCkge1xuICAgIHRoaXMuaGFuZGxlcnNDb250cm9sbGVyLmN1cnJlbnRIYW5kbGVycygpLmZvckVhY2goKGhhbmRsZXIpID0+IHtcbiAgICAgIGlmIChcImlzVXNlZFwiIGluIGhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlci5pc1VzZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXNldEhhbmRsZXJzKC4uLm5leHRIYW5kbGVycykge1xuICAgIHRoaXMuaGFuZGxlcnNDb250cm9sbGVyLnJlc2V0KG5leHRIYW5kbGVycyk7XG4gIH1cbiAgbGlzdEhhbmRsZXJzKCkge1xuICAgIHJldHVybiB0b1JlYWRvbmx5QXJyYXkodGhpcy5oYW5kbGVyc0NvbnRyb2xsZXIuY3VycmVudEhhbmRsZXJzKCkpO1xuICB9XG4gIGNyZWF0ZUxpZmVDeWNsZUV2ZW50cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb246ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnB1YmxpY0VtaXR0ZXIub24oLi4uYXJncyk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlTGlzdGVuZXI6ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnB1YmxpY0VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoLi4uYXJncyk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQWxsTGlzdGVuZXJzOiAoLi4uYXJncykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wdWJsaWNFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyguLi5hcmdzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5leHBvcnQge1xuICBIYW5kbGVyc0NvbnRyb2xsZXIsXG4gIEluTWVtb3J5SGFuZGxlcnNDb250cm9sbGVyLFxuICBTZXR1cEFwaVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNldHVwQXBpLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/SetupApi.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/handlers/WebSocketHandler.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!*****************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/handlers/WebSocketHandler.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \*****************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WebSocketHandler: () =&gt; (/* binding */ WebSocketHandler),\n/* harmony export */   kDispatchEvent: () =&gt; (/* binding */ kDispatchEvent),\n/* harmony export */   kEmitter: () =&gt; (/* binding */ kEmitter),\n/* harmony export */   kSender: () =&gt; (/* binding */ kSender)\n/* harmony export */ });\n/* harmony import */ var strict_event_emitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! strict-event-emitter */ \"(app-pages-browser)/./node_modules/strict-event-emitter/lib/index.mjs\");\n/* harmony import */ var _mswjs_interceptors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mswjs/interceptors */ \"(app-pages-browser)/./node_modules/@mswjs/interceptors/lib/browser/index.mjs\");\n/* harmony import */ var _utils_matching_matchRequestUrl_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/matching/matchRequestUrl.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/matching/matchRequestUrl.mjs\");\n/* harmony import */ var _utils_internal_getCallFrame_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/internal/getCallFrame.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/getCallFrame.mjs\");\n\n\n\n\nconst kEmitter = Symbol(\"kEmitter\");\nconst kDispatchEvent = Symbol(\"kDispatchEvent\");\nconst kSender = Symbol(\"kSender\");\nconst kStopPropagationPatched = Symbol(\"kStopPropagationPatched\");\nconst KOnStopPropagation = Symbol(\"KOnStopPropagation\");\nclass WebSocketHandler {\n  constructor(url) {\n    this.url = url;\n    this.id = (0,_mswjs_interceptors__WEBPACK_IMPORTED_MODULE_1__.createRequestId)();\n    this[kEmitter] = new strict_event_emitter__WEBPACK_IMPORTED_MODULE_0__.Emitter();\n    this.callFrame = (0,_utils_internal_getCallFrame_mjs__WEBPACK_IMPORTED_MODULE_2__.getCallFrame)(new Error());\n    this.__kind = \"EventHandler\";\n  }\n  __kind;\n  id;\n  callFrame;\n  [kEmitter];\n  parse(args) {\n    const connection = args.event.data;\n    const match = (0,_utils_matching_matchRequestUrl_mjs__WEBPACK_IMPORTED_MODULE_3__.matchRequestUrl)(connection.client.url, this.url);\n    return {\n      match\n    };\n  }\n  predicate(args) {\n    return args.parsedResult.match.matches;\n  }\n  async [kDispatchEvent](event) {\n    const parsedResult = this.parse({ event });\n    const connection = event.data;\n    const resolvedConnection = {\n      ...connection,\n      params: parsedResult.match.params || {}\n    };\n    connection.client.addEventListener(\n      \"message\",\n      createStopPropagationListener(this)\n    );\n    connection.client.addEventListener(\n      \"close\",\n      createStopPropagationListener(this)\n    );\n    connection.server.addEventListener(\n      \"open\",\n      createStopPropagationListener(this)\n    );\n    connection.server.addEventListener(\n      \"message\",\n      createStopPropagationListener(this)\n    );\n    connection.server.addEventListener(\n      \"error\",\n      createStopPropagationListener(this)\n    );\n    connection.server.addEventListener(\n      \"close\",\n      createStopPropagationListener(this)\n    );\n    this[kEmitter].emit(\"connection\", resolvedConnection);\n  }\n}\nfunction createStopPropagationListener(handler) {\n  return function stopPropagationListener(event) {\n    const propagationStoppedAt = Reflect.get(event, \"kPropagationStoppedAt\");\n    if (propagationStoppedAt &amp;&amp; handler.id !== propagationStoppedAt) {\n      event.stopImmediatePropagation();\n      return;\n    }\n    Object.defineProperty(event, KOnStopPropagation, {\n      value() {\n        Object.defineProperty(event, \"kPropagationStoppedAt\", {\n          value: handler.id\n        });\n      },\n      configurable: true\n    });\n    if (!Reflect.get(event, kStopPropagationPatched)) {\n      event.stopPropagation = new Proxy(event.stopPropagation, {\n        apply: (target, thisArg, args) =&gt; {\n          Reflect.get(event, KOnStopPropagation)?.call(handler);\n          return Reflect.apply(target, thisArg, args);\n        }\n      });\n      Object.defineProperty(event, kStopPropagationPatched, {\n        value: true,\n        // If something else attempts to redefine this, throw.\n        configurable: false\n      });\n    }\n  };\n}\n\n//# sourceMappingURL=WebSocketHandler.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvaGFuZGxlcnMvV2ViU29ja2V0SGFuZGxlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0M7QUFDTztBQUdQO0FBQ21CO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG9FQUFlO0FBQzdCLHlCQUF5Qix5REFBTztBQUNoQyxxQkFBcUIsOEVBQVk7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvRkFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLE9BQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFNRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvaGVjdG9yemVhL2Rldi9mcm9udGJ1aWxkL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvaGFuZGxlcnMvV2ViU29ja2V0SGFuZGxlci5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJzdHJpY3QtZXZlbnQtZW1pdHRlclwiO1xuaW1wb3J0IHsgY3JlYXRlUmVxdWVzdElkIH0gZnJvbSBcIkBtc3dqcy9pbnRlcmNlcHRvcnNcIjtcbmltcG9ydCB7XG4gIG1hdGNoUmVxdWVzdFVybFxufSBmcm9tICcuLi91dGlscy9tYXRjaGluZy9tYXRjaFJlcXVlc3RVcmwubWpzJztcbmltcG9ydCB7IGdldENhbGxGcmFtZSB9IGZyb20gJy4uL3V0aWxzL2ludGVybmFsL2dldENhbGxGcmFtZS5tanMnO1xuY29uc3Qga0VtaXR0ZXIgPSBTeW1ib2woXCJrRW1pdHRlclwiKTtcbmNvbnN0IGtEaXNwYXRjaEV2ZW50ID0gU3ltYm9sKFwia0Rpc3BhdGNoRXZlbnRcIik7XG5jb25zdCBrU2VuZGVyID0gU3ltYm9sKFwia1NlbmRlclwiKTtcbmNvbnN0IGtTdG9wUHJvcGFnYXRpb25QYXRjaGVkID0gU3ltYm9sKFwia1N0b3BQcm9wYWdhdGlvblBhdGNoZWRcIik7XG5jb25zdCBLT25TdG9wUHJvcGFnYXRpb24gPSBTeW1ib2woXCJLT25TdG9wUHJvcGFnYXRpb25cIik7XG5jbGFzcyBXZWJTb2NrZXRIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IodXJsKSB7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5pZCA9IGNyZWF0ZVJlcXVlc3RJZCgpO1xuICAgIHRoaXNba0VtaXR0ZXJdID0gbmV3IEVtaXR0ZXIoKTtcbiAgICB0aGlzLmNhbGxGcmFtZSA9IGdldENhbGxGcmFtZShuZXcgRXJyb3IoKSk7XG4gICAgdGhpcy5fX2tpbmQgPSBcIkV2ZW50SGFuZGxlclwiO1xuICB9XG4gIF9fa2luZDtcbiAgaWQ7XG4gIGNhbGxGcmFtZTtcbiAgW2tFbWl0dGVyXTtcbiAgcGFyc2UoYXJncykge1xuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhcmdzLmV2ZW50LmRhdGE7XG4gICAgY29uc3QgbWF0Y2ggPSBtYXRjaFJlcXVlc3RVcmwoY29ubmVjdGlvbi5jbGllbnQudXJsLCB0aGlzLnVybCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGNoXG4gICAgfTtcbiAgfVxuICBwcmVkaWNhdGUoYXJncykge1xuICAgIHJldHVybiBhcmdzLnBhcnNlZFJlc3VsdC5tYXRjaC5tYXRjaGVzO1xuICB9XG4gIGFzeW5jIFtrRGlzcGF0Y2hFdmVudF0oZXZlbnQpIHtcbiAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSB0aGlzLnBhcnNlKHsgZXZlbnQgfSk7XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGV2ZW50LmRhdGE7XG4gICAgY29uc3QgcmVzb2x2ZWRDb25uZWN0aW9uID0ge1xuICAgICAgLi4uY29ubmVjdGlvbixcbiAgICAgIHBhcmFtczogcGFyc2VkUmVzdWx0Lm1hdGNoLnBhcmFtcyB8fCB7fVxuICAgIH07XG4gICAgY29ubmVjdGlvbi5jbGllbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwibWVzc2FnZVwiLFxuICAgICAgY3JlYXRlU3RvcFByb3BhZ2F0aW9uTGlzdGVuZXIodGhpcylcbiAgICApO1xuICAgIGNvbm5lY3Rpb24uY2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNsb3NlXCIsXG4gICAgICBjcmVhdGVTdG9wUHJvcGFnYXRpb25MaXN0ZW5lcih0aGlzKVxuICAgICk7XG4gICAgY29ubmVjdGlvbi5zZXJ2ZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwib3BlblwiLFxuICAgICAgY3JlYXRlU3RvcFByb3BhZ2F0aW9uTGlzdGVuZXIodGhpcylcbiAgICApO1xuICAgIGNvbm5lY3Rpb24uc2VydmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcIm1lc3NhZ2VcIixcbiAgICAgIGNyZWF0ZVN0b3BQcm9wYWdhdGlvbkxpc3RlbmVyKHRoaXMpXG4gICAgKTtcbiAgICBjb25uZWN0aW9uLnNlcnZlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJlcnJvclwiLFxuICAgICAgY3JlYXRlU3RvcFByb3BhZ2F0aW9uTGlzdGVuZXIodGhpcylcbiAgICApO1xuICAgIGNvbm5lY3Rpb24uc2VydmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNsb3NlXCIsXG4gICAgICBjcmVhdGVTdG9wUHJvcGFnYXRpb25MaXN0ZW5lcih0aGlzKVxuICAgICk7XG4gICAgdGhpc1trRW1pdHRlcl0uZW1pdChcImNvbm5lY3Rpb25cIiwgcmVzb2x2ZWRDb25uZWN0aW9uKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlU3RvcFByb3BhZ2F0aW9uTGlzdGVuZXIoaGFuZGxlcikge1xuICByZXR1cm4gZnVuY3Rpb24gc3RvcFByb3BhZ2F0aW9uTGlzdGVuZXIoZXZlbnQpIHtcbiAgICBjb25zdCBwcm9wYWdhdGlvblN0b3BwZWRBdCA9IFJlZmxlY3QuZ2V0KGV2ZW50LCBcImtQcm9wYWdhdGlvblN0b3BwZWRBdFwiKTtcbiAgICBpZiAocHJvcGFnYXRpb25TdG9wcGVkQXQgJiYgaGFuZGxlci5pZCAhPT0gcHJvcGFnYXRpb25TdG9wcGVkQXQpIHtcbiAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsIEtPblN0b3BQcm9wYWdhdGlvbiwge1xuICAgICAgdmFsdWUoKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgXCJrUHJvcGFnYXRpb25TdG9wcGVkQXRcIiwge1xuICAgICAgICAgIHZhbHVlOiBoYW5kbGVyLmlkXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIGlmICghUmVmbGVjdC5nZXQoZXZlbnQsIGtTdG9wUHJvcGFnYXRpb25QYXRjaGVkKSkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uID0gbmV3IFByb3h5KGV2ZW50LnN0b3BQcm9wYWdhdGlvbiwge1xuICAgICAgICBhcHBseTogKHRhcmdldCwgdGhpc0FyZywgYXJncykgPT4ge1xuICAgICAgICAgIFJlZmxlY3QuZ2V0KGV2ZW50LCBLT25TdG9wUHJvcGFnYXRpb24pPy5jYWxsKGhhbmRsZXIpO1xuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmFwcGx5KHRhcmdldCwgdGhpc0FyZywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCBrU3RvcFByb3BhZ2F0aW9uUGF0Y2hlZCwge1xuICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgLy8gSWYgc29tZXRoaW5nIGVsc2UgYXR0ZW1wdHMgdG8gcmVkZWZpbmUgdGhpcywgdGhyb3cuXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbmV4cG9ydCB7XG4gIFdlYlNvY2tldEhhbmRsZXIsXG4gIGtEaXNwYXRjaEV2ZW50LFxuICBrRW1pdHRlcixcbiAga1NlbmRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdlYlNvY2tldEhhbmRsZXIubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/handlers/WebSocketHandler.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/executeHandlers.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!*************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/executeHandlers.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \*************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   executeHandlers: () =&gt; (/* binding */ executeHandlers)\n/* harmony export */ });\nconst executeHandlers = async ({\n  request,\n  requestId,\n  handlers,\n  resolutionContext\n}) =&gt; {\n  let matchingHandler = null;\n  let result = null;\n  for (const handler of handlers) {\n    result = await handler.run({ request, requestId, resolutionContext });\n    if (result !== null) {\n      matchingHandler = handler;\n    }\n    if (result?.response) {\n      break;\n    }\n  }\n  if (matchingHandler) {\n    return {\n      handler: matchingHandler,\n      parsedResult: result?.parsedResult,\n      response: result?.response\n    };\n  }\n  return null;\n};\n\n//# sourceMappingURL=executeHandlers.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvZXhlY3V0ZUhhbmRsZXJzLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUNBQXVDO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hlY3RvcnplYS9kZXYvZnJvbnRidWlsZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2V4ZWN1dGVIYW5kbGVycy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhlY3V0ZUhhbmRsZXJzID0gYXN5bmMgKHtcbiAgcmVxdWVzdCxcbiAgcmVxdWVzdElkLFxuICBoYW5kbGVycyxcbiAgcmVzb2x1dGlvbkNvbnRleHRcbn0pID0+IHtcbiAgbGV0IG1hdGNoaW5nSGFuZGxlciA9IG51bGw7XG4gIGxldCByZXN1bHQgPSBudWxsO1xuICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgaGFuZGxlcnMpIHtcbiAgICByZXN1bHQgPSBhd2FpdCBoYW5kbGVyLnJ1bih7IHJlcXVlc3QsIHJlcXVlc3RJZCwgcmVzb2x1dGlvbkNvbnRleHQgfSk7XG4gICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgbWF0Y2hpbmdIYW5kbGVyID0gaGFuZGxlcjtcbiAgICB9XG4gICAgaWYgKHJlc3VsdD8ucmVzcG9uc2UpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAobWF0Y2hpbmdIYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGhhbmRsZXI6IG1hdGNoaW5nSGFuZGxlcixcbiAgICAgIHBhcnNlZFJlc3VsdDogcmVzdWx0Py5wYXJzZWRSZXN1bHQsXG4gICAgICByZXNwb25zZTogcmVzdWx0Py5yZXNwb25zZVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZXhwb3J0IHtcbiAgZXhlY3V0ZUhhbmRsZXJzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZUhhbmRsZXJzLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/executeHandlers.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/handleRequest.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!***********************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/handleRequest.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \***********************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleRequest: () =&gt; (/* binding */ handleRequest)\n/* harmony export */ });\n/* harmony import */ var _open_draft_until__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @open-draft/until */ \"(app-pages-browser)/./node_modules/@open-draft/until/lib/index.mjs\");\n/* harmony import */ var _executeHandlers_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./executeHandlers.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/executeHandlers.mjs\");\n/* harmony import */ var _request_onUnhandledRequest_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./request/onUnhandledRequest.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs\");\n/* harmony import */ var _request_storeResponseCookies_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./request/storeResponseCookies.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/request/storeResponseCookies.mjs\");\n\n\n\n\nasync function handleRequest(request, requestId, handlers, options, emitter, handleRequestOptions) {\n  emitter.emit(\"request:start\", { request, requestId });\n  if (request.headers.get(\"accept\")?.includes(\"msw/passthrough\")) {\n    emitter.emit(\"request:end\", { request, requestId });\n    handleRequestOptions?.onPassthroughResponse?.(request);\n    return;\n  }\n  const lookupResult = await (0,_open_draft_until__WEBPACK_IMPORTED_MODULE_0__.until)(() =&gt; {\n    return (0,_executeHandlers_mjs__WEBPACK_IMPORTED_MODULE_1__.executeHandlers)({\n      request,\n      requestId,\n      handlers,\n      resolutionContext: handleRequestOptions?.resolutionContext\n    });\n  });\n  if (lookupResult.error) {\n    emitter.emit(\"unhandledException\", {\n      error: lookupResult.error,\n      request,\n      requestId\n    });\n    throw lookupResult.error;\n  }\n  if (!lookupResult.data) {\n    await (0,_request_onUnhandledRequest_mjs__WEBPACK_IMPORTED_MODULE_2__.onUnhandledRequest)(request, options.onUnhandledRequest);\n    emitter.emit(\"request:unhandled\", { request, requestId });\n    emitter.emit(\"request:end\", { request, requestId });\n    handleRequestOptions?.onPassthroughResponse?.(request);\n    return;\n  }\n  const { response } = lookupResult.data;\n  if (!response) {\n    emitter.emit(\"request:end\", { request, requestId });\n    handleRequestOptions?.onPassthroughResponse?.(request);\n    return;\n  }\n  if (response.status === 302 &amp;&amp; response.headers.get(\"x-msw-intention\") === \"passthrough\") {\n    emitter.emit(\"request:end\", { request, requestId });\n    handleRequestOptions?.onPassthroughResponse?.(request);\n    return;\n  }\n  (0,_request_storeResponseCookies_mjs__WEBPACK_IMPORTED_MODULE_3__.storeResponseCookies)(request, response);\n  emitter.emit(\"request:match\", { request, requestId });\n  const requiredLookupResult = lookupResult.data;\n  handleRequestOptions?.onMockedResponse?.(response, requiredLookupResult);\n  emitter.emit(\"request:end\", { request, requestId });\n  return response;\n}\n\n//# sourceMappingURL=handleRequest.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaGFuZGxlUmVxdWVzdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMEM7QUFDYztBQUNjO0FBQ0k7QUFDMUU7QUFDQSxrQ0FBa0Msb0JBQW9CO0FBQ3REO0FBQ0Esa0NBQWtDLG9CQUFvQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsd0RBQUs7QUFDbEMsV0FBVyxxRUFBZTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxVQUFVLG1GQUFrQjtBQUM1Qix3Q0FBd0Msb0JBQW9CO0FBQzVELGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsVUFBVSxXQUFXO0FBQ3JCO0FBQ0Esa0NBQWtDLG9CQUFvQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxvQkFBb0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsRUFBRSx1RkFBb0I7QUFDdEIsa0NBQWtDLG9CQUFvQjtBQUN0RDtBQUNBO0FBQ0EsZ0NBQWdDLG9CQUFvQjtBQUNwRDtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hlY3RvcnplYS9kZXYvZnJvbnRidWlsZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2hhbmRsZVJlcXVlc3QubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVudGlsIH0gZnJvbSBcIkBvcGVuLWRyYWZ0L3VudGlsXCI7XG5pbXBvcnQgeyBleGVjdXRlSGFuZGxlcnMgfSBmcm9tICcuL2V4ZWN1dGVIYW5kbGVycy5tanMnO1xuaW1wb3J0IHsgb25VbmhhbmRsZWRSZXF1ZXN0IH0gZnJvbSAnLi9yZXF1ZXN0L29uVW5oYW5kbGVkUmVxdWVzdC5tanMnO1xuaW1wb3J0IHsgc3RvcmVSZXNwb25zZUNvb2tpZXMgfSBmcm9tICcuL3JlcXVlc3Qvc3RvcmVSZXNwb25zZUNvb2tpZXMubWpzJztcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3QocmVxdWVzdCwgcmVxdWVzdElkLCBoYW5kbGVycywgb3B0aW9ucywgZW1pdHRlciwgaGFuZGxlUmVxdWVzdE9wdGlvbnMpIHtcbiAgZW1pdHRlci5lbWl0KFwicmVxdWVzdDpzdGFydFwiLCB7IHJlcXVlc3QsIHJlcXVlc3RJZCB9KTtcbiAgaWYgKHJlcXVlc3QuaGVhZGVycy5nZXQoXCJhY2NlcHRcIik/LmluY2x1ZGVzKFwibXN3L3Bhc3N0aHJvdWdoXCIpKSB7XG4gICAgZW1pdHRlci5lbWl0KFwicmVxdWVzdDplbmRcIiwgeyByZXF1ZXN0LCByZXF1ZXN0SWQgfSk7XG4gICAgaGFuZGxlUmVxdWVzdE9wdGlvbnM/Lm9uUGFzc3Rocm91Z2hSZXNwb25zZT8uKHJlcXVlc3QpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBsb29rdXBSZXN1bHQgPSBhd2FpdCB1bnRpbCgoKSA9PiB7XG4gICAgcmV0dXJuIGV4ZWN1dGVIYW5kbGVycyh7XG4gICAgICByZXF1ZXN0LFxuICAgICAgcmVxdWVzdElkLFxuICAgICAgaGFuZGxlcnMsXG4gICAgICByZXNvbHV0aW9uQ29udGV4dDogaGFuZGxlUmVxdWVzdE9wdGlvbnM/LnJlc29sdXRpb25Db250ZXh0XG4gICAgfSk7XG4gIH0pO1xuICBpZiAobG9va3VwUmVzdWx0LmVycm9yKSB7XG4gICAgZW1pdHRlci5lbWl0KFwidW5oYW5kbGVkRXhjZXB0aW9uXCIsIHtcbiAgICAgIGVycm9yOiBsb29rdXBSZXN1bHQuZXJyb3IsXG4gICAgICByZXF1ZXN0LFxuICAgICAgcmVxdWVzdElkXG4gICAgfSk7XG4gICAgdGhyb3cgbG9va3VwUmVzdWx0LmVycm9yO1xuICB9XG4gIGlmICghbG9va3VwUmVzdWx0LmRhdGEpIHtcbiAgICBhd2FpdCBvblVuaGFuZGxlZFJlcXVlc3QocmVxdWVzdCwgb3B0aW9ucy5vblVuaGFuZGxlZFJlcXVlc3QpO1xuICAgIGVtaXR0ZXIuZW1pdChcInJlcXVlc3Q6dW5oYW5kbGVkXCIsIHsgcmVxdWVzdCwgcmVxdWVzdElkIH0pO1xuICAgIGVtaXR0ZXIuZW1pdChcInJlcXVlc3Q6ZW5kXCIsIHsgcmVxdWVzdCwgcmVxdWVzdElkIH0pO1xuICAgIGhhbmRsZVJlcXVlc3RPcHRpb25zPy5vblBhc3N0aHJvdWdoUmVzcG9uc2U/LihyZXF1ZXN0KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgeyByZXNwb25zZSB9ID0gbG9va3VwUmVzdWx0LmRhdGE7XG4gIGlmICghcmVzcG9uc2UpIHtcbiAgICBlbWl0dGVyLmVtaXQoXCJyZXF1ZXN0OmVuZFwiLCB7IHJlcXVlc3QsIHJlcXVlc3RJZCB9KTtcbiAgICBoYW5kbGVSZXF1ZXN0T3B0aW9ucz8ub25QYXNzdGhyb3VnaFJlc3BvbnNlPy4ocmVxdWVzdCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDMwMiAmJiByZXNwb25zZS5oZWFkZXJzLmdldChcIngtbXN3LWludGVudGlvblwiKSA9PT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgZW1pdHRlci5lbWl0KFwicmVxdWVzdDplbmRcIiwgeyByZXF1ZXN0LCByZXF1ZXN0SWQgfSk7XG4gICAgaGFuZGxlUmVxdWVzdE9wdGlvbnM/Lm9uUGFzc3Rocm91Z2hSZXNwb25zZT8uKHJlcXVlc3QpO1xuICAgIHJldHVybjtcbiAgfVxuICBzdG9yZVJlc3BvbnNlQ29va2llcyhyZXF1ZXN0LCByZXNwb25zZSk7XG4gIGVtaXR0ZXIuZW1pdChcInJlcXVlc3Q6bWF0Y2hcIiwgeyByZXF1ZXN0LCByZXF1ZXN0SWQgfSk7XG4gIGNvbnN0IHJlcXVpcmVkTG9va3VwUmVzdWx0ID0gbG9va3VwUmVzdWx0LmRhdGE7XG4gIGhhbmRsZVJlcXVlc3RPcHRpb25zPy5vbk1vY2tlZFJlc3BvbnNlPy4ocmVzcG9uc2UsIHJlcXVpcmVkTG9va3VwUmVzdWx0KTtcbiAgZW1pdHRlci5lbWl0KFwicmVxdWVzdDplbmRcIiwgeyByZXF1ZXN0LCByZXF1ZXN0SWQgfSk7XG4gIHJldHVybiByZXNwb25zZTtcbn1cbmV4cG9ydCB7XG4gIGhhbmRsZVJlcXVlc3Rcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYW5kbGVSZXF1ZXN0Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/handleRequest.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/Disposable.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!*****************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/internal/Disposable.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \*****************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Disposable: () =&gt; (/* binding */ Disposable)\n/* harmony export */ });\nclass Disposable {\n  subscriptions = [];\n  dispose() {\n    let subscription;\n    while (subscription = this.subscriptions.shift()) {\n      subscription();\n    }\n  }\n}\n\n//# sourceMappingURL=Disposable.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvRGlzcG9zYWJsZS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9pbnRlcm5hbC9EaXNwb3NhYmxlLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBEaXNwb3NhYmxlIHtcbiAgc3Vic2NyaXB0aW9ucyA9IFtdO1xuICBkaXNwb3NlKCkge1xuICAgIGxldCBzdWJzY3JpcHRpb247XG4gICAgd2hpbGUgKHN1YnNjcmlwdGlvbiA9IHRoaXMuc3Vic2NyaXB0aW9ucy5zaGlmdCgpKSB7XG4gICAgICBzdWJzY3JpcHRpb24oKTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCB7XG4gIERpc3Bvc2FibGVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1EaXNwb3NhYmxlLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/Disposable.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!********************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \********************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isHandlerKind: () =&gt; (/* binding */ isHandlerKind)\n/* harmony export */ });\nfunction isHandlerKind(kind) {\n  return (input) =&gt; {\n    return input != null &amp;&amp; typeof input === \"object\" &amp;&amp; \"__kind\" in input &amp;&amp; input.__kind === kind;\n  };\n}\n\n//# sourceMappingURL=isHandlerKind.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvaXNIYW5kbGVyS2luZC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvaGVjdG9yemVhL2Rldi9mcm9udGJ1aWxkL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvaXNIYW5kbGVyS2luZC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gaXNIYW5kbGVyS2luZChraW5kKSB7XG4gIHJldHVybiAoaW5wdXQpID0+IHtcbiAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgPT09IFwib2JqZWN0XCIgJiYgXCJfX2tpbmRcIiBpbiBpbnB1dCAmJiBpbnB1dC5fX2tpbmQgPT09IGtpbmQ7XG4gIH07XG59XG5leHBvcnQge1xuICBpc0hhbmRsZXJLaW5kXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNIYW5kbGVyS2luZC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/isObject.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!***************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/internal/isObject.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \***************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isObject: () =&gt; (/* binding */ isObject)\n/* harmony export */ });\nfunction isObject(value) {\n  return value != null &amp;&amp; typeof value === \"object\" &amp;&amp; !Array.isArray(value);\n}\n\n//# sourceMappingURL=isObject.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvaXNPYmplY3QubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFHRTtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMvaGVjdG9yemVhL2Rldi9mcm9udGJ1aWxkL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvaXNPYmplY3QubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5leHBvcnQge1xuICBpc09iamVjdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/isObject.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/mergeRight.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!*****************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/internal/mergeRight.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \*****************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mergeRight: () =&gt; (/* binding */ mergeRight)\n/* harmony export */ });\n/* harmony import */ var _isObject_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isObject.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/isObject.mjs\");\n\nfunction mergeRight(left, right) {\n  return Object.entries(right).reduce(\n    (result, [key, rightValue]) =&gt; {\n      const leftValue = result[key];\n      if (Array.isArray(leftValue) &amp;&amp; Array.isArray(rightValue)) {\n        result[key] = leftValue.concat(rightValue);\n        return result;\n      }\n      if ((0,_isObject_mjs__WEBPACK_IMPORTED_MODULE_0__.isObject)(leftValue) &amp;&amp; (0,_isObject_mjs__WEBPACK_IMPORTED_MODULE_0__.isObject)(rightValue)) {\n        result[key] = mergeRight(leftValue, rightValue);\n        return result;\n      }\n      result[key] = rightValue;\n      return result;\n    },\n    Object.assign({}, left)\n  );\n}\n\n//# sourceMappingURL=mergeRight.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvbWVyZ2VSaWdodC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsdURBQVEsZUFBZSx1REFBUTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLG9CQUFvQjtBQUNwQjtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hlY3RvcnplYS9kZXYvZnJvbnRidWlsZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL2ludGVybmFsL21lcmdlUmlnaHQubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi9pc09iamVjdC5tanMnO1xuZnVuY3Rpb24gbWVyZ2VSaWdodChsZWZ0LCByaWdodCkge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMocmlnaHQpLnJlZHVjZShcbiAgICAocmVzdWx0LCBba2V5LCByaWdodFZhbHVlXSkgPT4ge1xuICAgICAgY29uc3QgbGVmdFZhbHVlID0gcmVzdWx0W2tleV07XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShsZWZ0VmFsdWUpICYmIEFycmF5LmlzQXJyYXkocmlnaHRWYWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBsZWZ0VmFsdWUuY29uY2F0KHJpZ2h0VmFsdWUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KGxlZnRWYWx1ZSkgJiYgaXNPYmplY3QocmlnaHRWYWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZVJpZ2h0KGxlZnRWYWx1ZSwgcmlnaHRWYWx1ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXN1bHRba2V5XSA9IHJpZ2h0VmFsdWU7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgT2JqZWN0LmFzc2lnbih7fSwgbGVmdClcbiAgKTtcbn1cbmV4cG9ydCB7XG4gIG1lcmdlUmlnaHRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZVJpZ2h0Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/mergeRight.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/pipeEvents.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!*****************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/internal/pipeEvents.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \*****************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pipeEvents: () =&gt; (/* binding */ pipeEvents)\n/* harmony export */ });\nfunction pipeEvents(source, destination) {\n  const rawEmit = source.emit;\n  if (rawEmit._isPiped) {\n    return;\n  }\n  const sourceEmit = function sourceEmit2(event, ...data) {\n    destination.emit(event, ...data);\n    return rawEmit.call(this, event, ...data);\n  };\n  sourceEmit._isPiped = true;\n  source.emit = sourceEmit;\n}\n\n//# sourceMappingURL=pipeEvents.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvcGlwZUV2ZW50cy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9pbnRlcm5hbC9waXBlRXZlbnRzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBwaXBlRXZlbnRzKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgY29uc3QgcmF3RW1pdCA9IHNvdXJjZS5lbWl0O1xuICBpZiAocmF3RW1pdC5faXNQaXBlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBzb3VyY2VFbWl0ID0gZnVuY3Rpb24gc291cmNlRW1pdDIoZXZlbnQsIC4uLmRhdGEpIHtcbiAgICBkZXN0aW5hdGlvbi5lbWl0KGV2ZW50LCAuLi5kYXRhKTtcbiAgICByZXR1cm4gcmF3RW1pdC5jYWxsKHRoaXMsIGV2ZW50LCAuLi5kYXRhKTtcbiAgfTtcbiAgc291cmNlRW1pdC5faXNQaXBlZCA9IHRydWU7XG4gIHNvdXJjZS5lbWl0ID0gc291cmNlRW1pdDtcbn1cbmV4cG9ydCB7XG4gIHBpcGVFdmVudHNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlRXZlbnRzLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/pipeEvents.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/toReadonlyArray.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!**********************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/internal/toReadonlyArray.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \**********************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toReadonlyArray: () =&gt; (/* binding */ toReadonlyArray)\n/* harmony export */ });\nfunction toReadonlyArray(source) {\n  const clone = [...source];\n  Object.freeze(clone);\n  return clone;\n}\n\n//# sourceMappingURL=toReadonlyArray.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvaW50ZXJuYWwvdG9SZWFkb25seUFycmF5Lm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9pbnRlcm5hbC90b1JlYWRvbmx5QXJyYXkubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHRvUmVhZG9ubHlBcnJheShzb3VyY2UpIHtcbiAgY29uc3QgY2xvbmUgPSBbLi4uc291cmNlXTtcbiAgT2JqZWN0LmZyZWV6ZShjbG9uZSk7XG4gIHJldHVybiBjbG9uZTtcbn1cbmV4cG9ydCB7XG4gIHRvUmVhZG9ubHlBcnJheVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvUmVhZG9ubHlBcnJheS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/toReadonlyArray.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!************************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \************************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   onUnhandledRequest: () =&gt; (/* binding */ onUnhandledRequest)\n/* harmony export */ });\n/* harmony import */ var _toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./toPublicUrl.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs\");\n/* harmony import */ var _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../internal/devUtils.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\");\n\n\nasync function onUnhandledRequest(request, strategy = \"warn\") {\n  const url = new URL(request.url);\n  const publicUrl = (0,_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.toPublicUrl)(url) + url.search;\n  const requestBody = request.method === \"HEAD\" || request.method === \"GET\" ? null : await request.clone().text();\n  const messageDetails = `\n\n  \\u2022 ${request.method} ${publicUrl}\n\n${requestBody ? `  \\u2022 Request body: ${requestBody}\n\n` : \"\"}`;\n  const unhandledRequestMessage = `intercepted a request without a matching request handler:${messageDetails}If you still wish to intercept this unhandled request, please create a request handler for it.\nRead more: https://mswjs.io/docs/getting-started/mocks`;\n  function applyStrategy(strategy2) {\n    switch (strategy2) {\n      case \"error\": {\n        _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.error(\"Error: %s\", unhandledRequestMessage);\n        throw new _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.InternalError(\n          _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n            'Cannot bypass a request when using the \"error\" strategy for the \"onUnhandledRequest\" option.'\n          )\n        );\n      }\n      case \"warn\": {\n        _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.warn(\"Warning: %s\", unhandledRequestMessage);\n        break;\n      }\n      case \"bypass\":\n        break;\n      default:\n        throw new _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.InternalError(\n          _internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n            'Failed to react to an unhandled request: unknown strategy \"%s\". Please provide one of the supported strategies (\"bypass\", \"warn\", \"error\") or a custom callback function as the value of the \"onUnhandledRequest\" option.',\n            strategy2\n          )\n        );\n    }\n  }\n  if (typeof strategy === \"function\") {\n    strategy(request, {\n      warning: applyStrategy.bind(null, \"warn\"),\n      error: applyStrategy.bind(null, \"error\")\n    });\n    return;\n  }\n  if (url.protocol === \"file:\") {\n    return;\n  }\n  applyStrategy(strategy);\n}\n\n//# sourceMappingURL=onUnhandledRequest.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvcmVxdWVzdC9vblVuaGFuZGxlZFJlcXVlc3QubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnRDtBQUNtQjtBQUNuRTtBQUNBO0FBQ0Esb0JBQW9CLDZEQUFXO0FBQy9CO0FBQ0E7O0FBRUEsV0FBVyxnQkFBZ0IsRUFBRTs7QUFFN0IsRUFBRSx3Q0FBd0M7O0FBRTFDLE9BQU87QUFDUCw4RkFBOEYsZUFBZTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQVE7QUFDaEIsa0JBQWtCLGlFQUFhO0FBQy9CLFVBQVUsNERBQVE7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsNERBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpRUFBYTtBQUMvQixVQUFVLDREQUFRO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hlY3RvcnplYS9kZXYvZnJvbnRidWlsZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3V0aWxzL3JlcXVlc3Qvb25VbmhhbmRsZWRSZXF1ZXN0Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b1B1YmxpY1VybCB9IGZyb20gJy4vdG9QdWJsaWNVcmwubWpzJztcbmltcG9ydCB7IEludGVybmFsRXJyb3IsIGRldlV0aWxzIH0gZnJvbSAnLi4vaW50ZXJuYWwvZGV2VXRpbHMubWpzJztcbmFzeW5jIGZ1bmN0aW9uIG9uVW5oYW5kbGVkUmVxdWVzdChyZXF1ZXN0LCBzdHJhdGVneSA9IFwid2FyblwiKSB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICBjb25zdCBwdWJsaWNVcmwgPSB0b1B1YmxpY1VybCh1cmwpICsgdXJsLnNlYXJjaDtcbiAgY29uc3QgcmVxdWVzdEJvZHkgPSByZXF1ZXN0Lm1ldGhvZCA9PT0gXCJIRUFEXCIgfHwgcmVxdWVzdC5tZXRob2QgPT09IFwiR0VUXCIgPyBudWxsIDogYXdhaXQgcmVxdWVzdC5jbG9uZSgpLnRleHQoKTtcbiAgY29uc3QgbWVzc2FnZURldGFpbHMgPSBgXG5cbiAgXFx1MjAyMiAke3JlcXVlc3QubWV0aG9kfSAke3B1YmxpY1VybH1cblxuJHtyZXF1ZXN0Qm9keSA/IGAgIFxcdTIwMjIgUmVxdWVzdCBib2R5OiAke3JlcXVlc3RCb2R5fVxuXG5gIDogXCJcIn1gO1xuICBjb25zdCB1bmhhbmRsZWRSZXF1ZXN0TWVzc2FnZSA9IGBpbnRlcmNlcHRlZCBhIHJlcXVlc3Qgd2l0aG91dCBhIG1hdGNoaW5nIHJlcXVlc3QgaGFuZGxlcjoke21lc3NhZ2VEZXRhaWxzfUlmIHlvdSBzdGlsbCB3aXNoIHRvIGludGVyY2VwdCB0aGlzIHVuaGFuZGxlZCByZXF1ZXN0LCBwbGVhc2UgY3JlYXRlIGEgcmVxdWVzdCBoYW5kbGVyIGZvciBpdC5cblJlYWQgbW9yZTogaHR0cHM6Ly9tc3dqcy5pby9kb2NzL2dldHRpbmctc3RhcnRlZC9tb2Nrc2A7XG4gIGZ1bmN0aW9uIGFwcGx5U3RyYXRlZ3koc3RyYXRlZ3kyKSB7XG4gICAgc3dpdGNoIChzdHJhdGVneTIpIHtcbiAgICAgIGNhc2UgXCJlcnJvclwiOiB7XG4gICAgICAgIGRldlV0aWxzLmVycm9yKFwiRXJyb3I6ICVzXCIsIHVuaGFuZGxlZFJlcXVlc3RNZXNzYWdlKTtcbiAgICAgICAgdGhyb3cgbmV3IEludGVybmFsRXJyb3IoXG4gICAgICAgICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgICAgICAgICdDYW5ub3QgYnlwYXNzIGEgcmVxdWVzdCB3aGVuIHVzaW5nIHRoZSBcImVycm9yXCIgc3RyYXRlZ3kgZm9yIHRoZSBcIm9uVW5oYW5kbGVkUmVxdWVzdFwiIG9wdGlvbi4nXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY2FzZSBcIndhcm5cIjoge1xuICAgICAgICBkZXZVdGlscy53YXJuKFwiV2FybmluZzogJXNcIiwgdW5oYW5kbGVkUmVxdWVzdE1lc3NhZ2UpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJieXBhc3NcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgSW50ZXJuYWxFcnJvcihcbiAgICAgICAgICBkZXZVdGlscy5mb3JtYXRNZXNzYWdlKFxuICAgICAgICAgICAgJ0ZhaWxlZCB0byByZWFjdCB0byBhbiB1bmhhbmRsZWQgcmVxdWVzdDogdW5rbm93biBzdHJhdGVneSBcIiVzXCIuIFBsZWFzZSBwcm92aWRlIG9uZSBvZiB0aGUgc3VwcG9ydGVkIHN0cmF0ZWdpZXMgKFwiYnlwYXNzXCIsIFwid2FyblwiLCBcImVycm9yXCIpIG9yIGEgY3VzdG9tIGNhbGxiYWNrIGZ1bmN0aW9uIGFzIHRoZSB2YWx1ZSBvZiB0aGUgXCJvblVuaGFuZGxlZFJlcXVlc3RcIiBvcHRpb24uJyxcbiAgICAgICAgICAgIHN0cmF0ZWd5MlxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBzdHJhdGVneSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgc3RyYXRlZ3kocmVxdWVzdCwge1xuICAgICAgd2FybmluZzogYXBwbHlTdHJhdGVneS5iaW5kKG51bGwsIFwid2FyblwiKSxcbiAgICAgIGVycm9yOiBhcHBseVN0cmF0ZWd5LmJpbmQobnVsbCwgXCJlcnJvclwiKVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodXJsLnByb3RvY29sID09PSBcImZpbGU6XCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYXBwbHlTdHJhdGVneShzdHJhdGVneSk7XG59XG5leHBvcnQge1xuICBvblVuaGFuZGxlZFJlcXVlc3Rcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vblVuaGFuZGxlZFJlcXVlc3QubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/request/storeResponseCookies.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!**************************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/request/storeResponseCookies.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \**************************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   storeResponseCookies: () =&gt; (/* binding */ storeResponseCookies)\n/* harmony export */ });\n/* harmony import */ var _cookieStore_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cookieStore.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/cookieStore.mjs\");\n/* harmony import */ var _HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../HttpResponse/decorators.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/HttpResponse/decorators.mjs\");\n\n\nfunction storeResponseCookies(request, response) {\n  const responseCookies = Reflect.get(response, _HttpResponse_decorators_mjs__WEBPACK_IMPORTED_MODULE_0__.kSetCookie);\n  if (responseCookies) {\n    _cookieStore_mjs__WEBPACK_IMPORTED_MODULE_1__.cookieStore.setCookie(responseCookies, request.url);\n  }\n}\n\n//# sourceMappingURL=storeResponseCookies.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvcmVxdWVzdC9zdG9yZVJlc3BvbnNlQ29va2llcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlEO0FBQ1c7QUFDNUQ7QUFDQSxnREFBZ0Qsb0VBQVU7QUFDMUQ7QUFDQSxJQUFJLHlEQUFXO0FBQ2Y7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy9yZXF1ZXN0L3N0b3JlUmVzcG9uc2VDb29raWVzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb29raWVTdG9yZSB9IGZyb20gJy4uL2Nvb2tpZVN0b3JlLm1qcyc7XG5pbXBvcnQgeyBrU2V0Q29va2llIH0gZnJvbSAnLi4vSHR0cFJlc3BvbnNlL2RlY29yYXRvcnMubWpzJztcbmZ1bmN0aW9uIHN0b3JlUmVzcG9uc2VDb29raWVzKHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHJlc3BvbnNlQ29va2llcyA9IFJlZmxlY3QuZ2V0KHJlc3BvbnNlLCBrU2V0Q29va2llKTtcbiAgaWYgKHJlc3BvbnNlQ29va2llcykge1xuICAgIGNvb2tpZVN0b3JlLnNldENvb2tpZShyZXNwb25zZUNvb2tpZXMsIHJlcXVlc3QudXJsKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgc3RvcmVSZXNwb25zZUNvb2tpZXNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdG9yZVJlc3BvbnNlQ29va2llcy5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/request/storeResponseCookies.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/utils/toResponseInit.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/utils/toResponseInit.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toResponseInit: () =&gt; (/* binding */ toResponseInit)\n/* harmony export */ });\nfunction toResponseInit(response) {\n  return {\n    status: response.status,\n    statusText: response.statusText,\n    headers: Object.fromEntries(response.headers.entries())\n  };\n}\n\n//# sourceMappingURL=toResponseInit.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvdXRpbHMvdG9SZXNwb25zZUluaXQubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS91dGlscy90b1Jlc3BvbnNlSW5pdC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gdG9SZXNwb25zZUluaXQocmVzcG9uc2UpIHtcbiAgcmV0dXJuIHtcbiAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhyZXNwb25zZS5oZWFkZXJzLmVudHJpZXMoKSlcbiAgfTtcbn1cbmV4cG9ydCB7XG4gIHRvUmVzcG9uc2VJbml0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9SZXNwb25zZUluaXQubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/utils/toResponseInit.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/ws/handleWebSocketEvent.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!***************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/ws/handleWebSocketEvent.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \***************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handleWebSocketEvent: () =&gt; (/* binding */ handleWebSocketEvent)\n/* harmony export */ });\n/* harmony import */ var _handlers_WebSocketHandler_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../handlers/WebSocketHandler.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/handlers/WebSocketHandler.mjs\");\n/* harmony import */ var _webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./webSocketInterceptor.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs\");\n/* harmony import */ var _utils_request_onUnhandledRequest_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/request/onUnhandledRequest.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/request/onUnhandledRequest.mjs\");\n/* harmony import */ var _utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/internal/isHandlerKind.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/isHandlerKind.mjs\");\n\n\n\n\nfunction handleWebSocketEvent(options) {\n  _webSocketInterceptor_mjs__WEBPACK_IMPORTED_MODULE_0__.webSocketInterceptor.on(\"connection\", async (connection) =&gt; {\n    const handlers = options.getHandlers();\n    const connectionEvent = new MessageEvent(\"connection\", {\n      data: connection\n    });\n    const matchingHandlers = [];\n    for (const handler of handlers) {\n      if ((0,_utils_internal_isHandlerKind_mjs__WEBPACK_IMPORTED_MODULE_1__.isHandlerKind)(\"EventHandler\")(handler) &amp;&amp; handler.predicate({\n        event: connectionEvent,\n        parsedResult: handler.parse({\n          event: connectionEvent\n        })\n      })) {\n        matchingHandlers.push(handler);\n      }\n    }\n    if (matchingHandlers.length &gt; 0) {\n      options?.onMockedConnection(connection);\n      for (const handler of matchingHandlers) {\n        handler[_handlers_WebSocketHandler_mjs__WEBPACK_IMPORTED_MODULE_2__.kDispatchEvent](connectionEvent);\n      }\n    } else {\n      const request = new Request(connection.client.url, {\n        headers: {\n          upgrade: \"websocket\",\n          connection: \"upgrade\"\n        }\n      });\n      await (0,_utils_request_onUnhandledRequest_mjs__WEBPACK_IMPORTED_MODULE_3__.onUnhandledRequest)(\n        request,\n        options.getUnhandledRequestStrategy()\n      ).catch((error) =&gt; {\n        const errorEvent = new Event(\"error\");\n        Object.defineProperty(errorEvent, \"cause\", {\n          enumerable: true,\n          configurable: false,\n          value: error\n        });\n        connection.client.socket.dispatchEvent(errorEvent);\n      });\n      options?.onPassthroughConnection(connection);\n      connection.server.connect();\n    }\n  });\n}\n\n//# sourceMappingURL=handleWebSocketEvent.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3MvaGFuZGxlV2ViU29ja2V0RXZlbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtFO0FBQ0E7QUFHakI7QUFDbUI7QUFDcEU7QUFDQSxFQUFFLDJFQUFvQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFVBQVUsZ0ZBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMEVBQWM7QUFDOUI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxZQUFZLHlGQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS93cy9oYW5kbGVXZWJTb2NrZXRFdmVudC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsga0Rpc3BhdGNoRXZlbnQgfSBmcm9tICcuLi9oYW5kbGVycy9XZWJTb2NrZXRIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyB3ZWJTb2NrZXRJbnRlcmNlcHRvciB9IGZyb20gJy4vd2ViU29ja2V0SW50ZXJjZXB0b3IubWpzJztcbmltcG9ydCB7XG4gIG9uVW5oYW5kbGVkUmVxdWVzdFxufSBmcm9tICcuLi91dGlscy9yZXF1ZXN0L29uVW5oYW5kbGVkUmVxdWVzdC5tanMnO1xuaW1wb3J0IHsgaXNIYW5kbGVyS2luZCB9IGZyb20gJy4uL3V0aWxzL2ludGVybmFsL2lzSGFuZGxlcktpbmQubWpzJztcbmZ1bmN0aW9uIGhhbmRsZVdlYlNvY2tldEV2ZW50KG9wdGlvbnMpIHtcbiAgd2ViU29ja2V0SW50ZXJjZXB0b3Iub24oXCJjb25uZWN0aW9uXCIsIGFzeW5jIChjb25uZWN0aW9uKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlcnMgPSBvcHRpb25zLmdldEhhbmRsZXJzKCk7XG4gICAgY29uc3QgY29ubmVjdGlvbkV2ZW50ID0gbmV3IE1lc3NhZ2VFdmVudChcImNvbm5lY3Rpb25cIiwge1xuICAgICAgZGF0YTogY29ubmVjdGlvblxuICAgIH0pO1xuICAgIGNvbnN0IG1hdGNoaW5nSGFuZGxlcnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgaGFuZGxlcnMpIHtcbiAgICAgIGlmIChpc0hhbmRsZXJLaW5kKFwiRXZlbnRIYW5kbGVyXCIpKGhhbmRsZXIpICYmIGhhbmRsZXIucHJlZGljYXRlKHtcbiAgICAgICAgZXZlbnQ6IGNvbm5lY3Rpb25FdmVudCxcbiAgICAgICAgcGFyc2VkUmVzdWx0OiBoYW5kbGVyLnBhcnNlKHtcbiAgICAgICAgICBldmVudDogY29ubmVjdGlvbkV2ZW50XG4gICAgICAgIH0pXG4gICAgICB9KSkge1xuICAgICAgICBtYXRjaGluZ0hhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtYXRjaGluZ0hhbmRsZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIG9wdGlvbnM/Lm9uTW9ja2VkQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcbiAgICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiBtYXRjaGluZ0hhbmRsZXJzKSB7XG4gICAgICAgIGhhbmRsZXJba0Rpc3BhdGNoRXZlbnRdKGNvbm5lY3Rpb25FdmVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdChjb25uZWN0aW9uLmNsaWVudC51cmwsIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIHVwZ3JhZGU6IFwid2Vic29ja2V0XCIsXG4gICAgICAgICAgY29ubmVjdGlvbjogXCJ1cGdyYWRlXCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhd2FpdCBvblVuaGFuZGxlZFJlcXVlc3QoXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG9wdGlvbnMuZ2V0VW5oYW5kbGVkUmVxdWVzdFN0cmF0ZWd5KClcbiAgICAgICkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGVycm9yRXZlbnQgPSBuZXcgRXZlbnQoXCJlcnJvclwiKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVycm9yRXZlbnQsIFwiY2F1c2VcIiwge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB2YWx1ZTogZXJyb3JcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbm5lY3Rpb24uY2xpZW50LnNvY2tldC5kaXNwYXRjaEV2ZW50KGVycm9yRXZlbnQpO1xuICAgICAgfSk7XG4gICAgICBvcHRpb25zPy5vblBhc3N0aHJvdWdoQ29ubmVjdGlvbihjb25uZWN0aW9uKTtcbiAgICAgIGNvbm5lY3Rpb24uc2VydmVyLmNvbm5lY3QoKTtcbiAgICB9XG4gIH0pO1xufVxuZXhwb3J0IHtcbiAgaGFuZGxlV2ViU29ja2V0RXZlbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oYW5kbGVXZWJTb2NrZXRFdmVudC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/ws/handleWebSocketEvent.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/attachWebSocketLogger.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!**********************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/ws/utils/attachWebSocketLogger.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \**********************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   attachWebSocketLogger: () =&gt; (/* binding */ attachWebSocketLogger),\n/* harmony export */   logConnectionOpen: () =&gt; (/* binding */ logConnectionOpen)\n/* harmony export */ });\n/* harmony import */ var _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/internal/devUtils.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/internal/devUtils.mjs\");\n/* harmony import */ var _utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/logging/getTimestamp.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/logging/getTimestamp.mjs\");\n/* harmony import */ var _utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/request/toPublicUrl.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/utils/request/toPublicUrl.mjs\");\n/* harmony import */ var _getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getMessageLength.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/getMessageLength.mjs\");\n/* harmony import */ var _getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getPublicData.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/getPublicData.mjs\");\n\n\n\n\n\nconst colors = {\n  system: \"#3b82f6\",\n  outgoing: \"#22c55e\",\n  incoming: \"#ef4444\",\n  mocked: \"#ff6a33\"\n};\nfunction attachWebSocketLogger(connection) {\n  const { client, server } = connection;\n  logConnectionOpen(client);\n  client.addEventListener(\"message\", (event) =&gt; {\n    logOutgoingClientMessage(event);\n  });\n  client.addEventListener(\"close\", (event) =&gt; {\n    logConnectionClose(event);\n  });\n  client.socket.addEventListener(\"error\", (event) =&gt; {\n    logClientError(event);\n  });\n  client.send = new Proxy(client.send, {\n    apply(target, thisArg, args) {\n      const [data] = args;\n      const messageEvent = new MessageEvent(\"message\", { data });\n      Object.defineProperties(messageEvent, {\n        currentTarget: {\n          enumerable: true,\n          writable: false,\n          value: client.socket\n        },\n        target: {\n          enumerable: true,\n          writable: false,\n          value: client.socket\n        }\n      });\n      queueMicrotask(() =&gt; {\n        logIncomingMockedClientMessage(messageEvent);\n      });\n      return Reflect.apply(target, thisArg, args);\n    }\n  });\n  server.addEventListener(\n    \"open\",\n    () =&gt; {\n      server.addEventListener(\"message\", (event) =&gt; {\n        logIncomingServerMessage(event);\n      });\n    },\n    { once: true }\n  );\n  server.send = new Proxy(server.send, {\n    apply(target, thisArg, args) {\n      const [data] = args;\n      const messageEvent = new MessageEvent(\"message\", { data });\n      Object.defineProperties(messageEvent, {\n        currentTarget: {\n          enumerable: true,\n          writable: false,\n          value: server.socket\n        },\n        target: {\n          enumerable: true,\n          writable: false,\n          value: server.socket\n        }\n      });\n      logOutgoingMockedClientMessage(messageEvent);\n      return Reflect.apply(target, thisArg, args);\n    }\n  });\n}\nfunction logConnectionOpen(client) {\n  const publicUrl = (0,_utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.toPublicUrl)(client.url);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(`${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)()} %c\\u25B6%c ${publicUrl}`),\n    `color:${colors.system}`,\n    \"color:inherit\"\n  );\n  console.log(\"Client:\", client.socket);\n  console.groupEnd();\n}\nfunction logConnectionClose(event) {\n  const target = event.target;\n  const publicUrl = (0,_utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.toPublicUrl)(target.url);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c\\u25A0%c ${publicUrl}`\n    ),\n    `color:${colors.system}`,\n    \"color:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nfunction logClientError(event) {\n  const socket = event.target;\n  const publicUrl = (0,_utils_request_toPublicUrl_mjs__WEBPACK_IMPORTED_MODULE_0__.toPublicUrl)(socket.url);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c\\xD7%c ${publicUrl}`\n    ),\n    `color:${colors.system}`,\n    \"color:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nasync function logOutgoingClientMessage(event) {\n  const byteLength = (0,_getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__.getMessageLength)(event.data);\n  const publicData = await (0,_getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__.getPublicData)(event.data);\n  const arrow = event.defaultPrevented ? \"\\u21E1\" : \"\\u2B06\";\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c${arrow}%c ${publicData} %c${byteLength}%c`\n    ),\n    `color:${colors.outgoing}`,\n    \"color:inherit\",\n    \"color:gray;font-weight:normal\",\n    \"color:inherit;font-weight:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nasync function logOutgoingMockedClientMessage(event) {\n  const byteLength = (0,_getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__.getMessageLength)(event.data);\n  const publicData = await (0,_getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__.getPublicData)(event.data);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c\\u2B06%c ${publicData} %c${byteLength}%c`\n    ),\n    `color:${colors.mocked}`,\n    \"color:inherit\",\n    \"color:gray;font-weight:normal\",\n    \"color:inherit;font-weight:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nasync function logIncomingMockedClientMessage(event) {\n  const byteLength = (0,_getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__.getMessageLength)(event.data);\n  const publicData = await (0,_getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__.getPublicData)(event.data);\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c\\u2B07%c ${publicData} %c${byteLength}%c`\n    ),\n    `color:${colors.mocked}`,\n    \"color:inherit\",\n    \"color:gray;font-weight:normal\",\n    \"color:inherit;font-weight:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\nasync function logIncomingServerMessage(event) {\n  const byteLength = (0,_getMessageLength_mjs__WEBPACK_IMPORTED_MODULE_3__.getMessageLength)(event.data);\n  const publicData = await (0,_getPublicData_mjs__WEBPACK_IMPORTED_MODULE_4__.getPublicData)(event.data);\n  const arrow = event.defaultPrevented ? \"\\u21E3\" : \"\\u2B07\";\n  console.groupCollapsed(\n    _utils_internal_devUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.devUtils.formatMessage(\n      `${(0,_utils_logging_getTimestamp_mjs__WEBPACK_IMPORTED_MODULE_2__.getTimestamp)({ milliseconds: true })} %c${arrow}%c ${publicData} %c${byteLength}%c`\n    ),\n    `color:${colors.incoming}`,\n    \"color:inherit\",\n    \"color:gray;font-weight:normal\",\n    \"color:inherit;font-weight:inherit\"\n  );\n  console.log(event);\n  console.groupEnd();\n}\n\n//# sourceMappingURL=attachWebSocketLogger.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3MvdXRpbHMvYXR0YWNoV2ViU29ja2V0TG9nZ2VyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTZEO0FBQ087QUFDRjtBQUNSO0FBQ047QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGlCQUFpQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxNQUFNO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELE1BQU07QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esb0JBQW9CLDJFQUFXO0FBQy9CO0FBQ0EsSUFBSSxrRUFBUSxrQkFBa0IsNkVBQVksSUFBSSxhQUFhLFVBQVU7QUFDckUsYUFBYSxjQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDJFQUFXO0FBQy9CO0FBQ0EsSUFBSSxrRUFBUTtBQUNaLFNBQVMsNkVBQVksR0FBRyxvQkFBb0IsR0FBRyxhQUFhLFVBQVU7QUFDdEU7QUFDQSxhQUFhLGNBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkVBQVc7QUFDL0I7QUFDQSxJQUFJLGtFQUFRO0FBQ1osU0FBUyw2RUFBWSxHQUFHLG9CQUFvQixHQUFHLFdBQVcsVUFBVTtBQUNwRTtBQUNBLGFBQWEsY0FBYztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUVBQWdCO0FBQ3JDLDJCQUEyQixpRUFBYTtBQUN4QztBQUNBO0FBQ0EsSUFBSSxrRUFBUTtBQUNaLFNBQVMsNkVBQVksR0FBRyxvQkFBb0IsR0FBRyxJQUFJLE1BQU0sS0FBSyxZQUFZLElBQUksV0FBVztBQUN6RjtBQUNBLGFBQWEsZ0JBQWdCO0FBQzdCO0FBQ0EsZ0JBQWdCO0FBQ2hCLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVFQUFnQjtBQUNyQywyQkFBMkIsaUVBQWE7QUFDeEM7QUFDQSxJQUFJLGtFQUFRO0FBQ1osU0FBUyw2RUFBWSxHQUFHLG9CQUFvQixHQUFHLGFBQWEsWUFBWSxJQUFJLFdBQVc7QUFDdkY7QUFDQSxhQUFhLGNBQWM7QUFDM0I7QUFDQSxnQkFBZ0I7QUFDaEIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUVBQWdCO0FBQ3JDLDJCQUEyQixpRUFBYTtBQUN4QztBQUNBLElBQUksa0VBQVE7QUFDWixTQUFTLDZFQUFZLEdBQUcsb0JBQW9CLEdBQUcsYUFBYSxZQUFZLElBQUksV0FBVztBQUN2RjtBQUNBLGFBQWEsY0FBYztBQUMzQjtBQUNBLGdCQUFnQjtBQUNoQixtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix1RUFBZ0I7QUFDckMsMkJBQTJCLGlFQUFhO0FBQ3hDO0FBQ0E7QUFDQSxJQUFJLGtFQUFRO0FBQ1osU0FBUyw2RUFBWSxHQUFHLG9CQUFvQixHQUFHLElBQUksTUFBTSxLQUFLLFlBQVksSUFBSSxXQUFXO0FBQ3pGO0FBQ0EsYUFBYSxnQkFBZ0I7QUFDN0I7QUFDQSxnQkFBZ0I7QUFDaEIsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hlY3RvcnplYS9kZXYvZnJvbnRidWlsZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3V0aWxzL2F0dGFjaFdlYlNvY2tldExvZ2dlci5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGV2VXRpbHMgfSBmcm9tICcuLi8uLi91dGlscy9pbnRlcm5hbC9kZXZVdGlscy5tanMnO1xuaW1wb3J0IHsgZ2V0VGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vdXRpbHMvbG9nZ2luZy9nZXRUaW1lc3RhbXAubWpzJztcbmltcG9ydCB7IHRvUHVibGljVXJsIH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdC90b1B1YmxpY1VybC5tanMnO1xuaW1wb3J0IHsgZ2V0TWVzc2FnZUxlbmd0aCB9IGZyb20gJy4vZ2V0TWVzc2FnZUxlbmd0aC5tanMnO1xuaW1wb3J0IHsgZ2V0UHVibGljRGF0YSB9IGZyb20gJy4vZ2V0UHVibGljRGF0YS5tanMnO1xuY29uc3QgY29sb3JzID0ge1xuICBzeXN0ZW06IFwiIzNiODJmNlwiLFxuICBvdXRnb2luZzogXCIjMjJjNTVlXCIsXG4gIGluY29taW5nOiBcIiNlZjQ0NDRcIixcbiAgbW9ja2VkOiBcIiNmZjZhMzNcIlxufTtcbmZ1bmN0aW9uIGF0dGFjaFdlYlNvY2tldExvZ2dlcihjb25uZWN0aW9uKSB7XG4gIGNvbnN0IHsgY2xpZW50LCBzZXJ2ZXIgfSA9IGNvbm5lY3Rpb247XG4gIGxvZ0Nvbm5lY3Rpb25PcGVuKGNsaWVudCk7XG4gIGNsaWVudC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcbiAgICBsb2dPdXRnb2luZ0NsaWVudE1lc3NhZ2UoZXZlbnQpO1xuICB9KTtcbiAgY2xpZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCAoZXZlbnQpID0+IHtcbiAgICBsb2dDb25uZWN0aW9uQ2xvc2UoZXZlbnQpO1xuICB9KTtcbiAgY2xpZW50LnNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKGV2ZW50KSA9PiB7XG4gICAgbG9nQ2xpZW50RXJyb3IoZXZlbnQpO1xuICB9KTtcbiAgY2xpZW50LnNlbmQgPSBuZXcgUHJveHkoY2xpZW50LnNlbmQsIHtcbiAgICBhcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgICAgIGNvbnN0IFtkYXRhXSA9IGFyZ3M7XG4gICAgICBjb25zdCBtZXNzYWdlRXZlbnQgPSBuZXcgTWVzc2FnZUV2ZW50KFwibWVzc2FnZVwiLCB7IGRhdGEgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhtZXNzYWdlRXZlbnQsIHtcbiAgICAgICAgY3VycmVudFRhcmdldDoge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBjbGllbnQuc29ja2V0XG4gICAgICAgIH0sXG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBjbGllbnQuc29ja2V0XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICBsb2dJbmNvbWluZ01vY2tlZENsaWVudE1lc3NhZ2UobWVzc2FnZUV2ZW50KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTtcbiAgICB9XG4gIH0pO1xuICBzZXJ2ZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcIm9wZW5cIixcbiAgICAoKSA9PiB7XG4gICAgICBzZXJ2ZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGxvZ0luY29taW5nU2VydmVyTWVzc2FnZShldmVudCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHsgb25jZTogdHJ1ZSB9XG4gICk7XG4gIHNlcnZlci5zZW5kID0gbmV3IFByb3h5KHNlcnZlci5zZW5kLCB7XG4gICAgYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKSB7XG4gICAgICBjb25zdCBbZGF0YV0gPSBhcmdzO1xuICAgICAgY29uc3QgbWVzc2FnZUV2ZW50ID0gbmV3IE1lc3NhZ2VFdmVudChcIm1lc3NhZ2VcIiwgeyBkYXRhIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobWVzc2FnZUV2ZW50LCB7XG4gICAgICAgIGN1cnJlbnRUYXJnZXQ6IHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICB2YWx1ZTogc2VydmVyLnNvY2tldFxuICAgICAgICB9LFxuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICB2YWx1ZTogc2VydmVyLnNvY2tldFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxvZ091dGdvaW5nTW9ja2VkQ2xpZW50TWVzc2FnZShtZXNzYWdlRXZlbnQpO1xuICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGlzQXJnLCBhcmdzKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gbG9nQ29ubmVjdGlvbk9wZW4oY2xpZW50KSB7XG4gIGNvbnN0IHB1YmxpY1VybCA9IHRvUHVibGljVXJsKGNsaWVudC51cmwpO1xuICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFxuICAgIGRldlV0aWxzLmZvcm1hdE1lc3NhZ2UoYCR7Z2V0VGltZXN0YW1wKCl9ICVjXFx1MjVCNiVjICR7cHVibGljVXJsfWApLFxuICAgIGBjb2xvcjoke2NvbG9ycy5zeXN0ZW19YCxcbiAgICBcImNvbG9yOmluaGVyaXRcIlxuICApO1xuICBjb25zb2xlLmxvZyhcIkNsaWVudDpcIiwgY2xpZW50LnNvY2tldCk7XG4gIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cbmZ1bmN0aW9uIGxvZ0Nvbm5lY3Rpb25DbG9zZShldmVudCkge1xuICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gIGNvbnN0IHB1YmxpY1VybCA9IHRvUHVibGljVXJsKHRhcmdldC51cmwpO1xuICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKFxuICAgIGRldlV0aWxzLmZvcm1hdE1lc3NhZ2UoXG4gICAgICBgJHtnZXRUaW1lc3RhbXAoeyBtaWxsaXNlY29uZHM6IHRydWUgfSl9ICVjXFx1MjVBMCVjICR7cHVibGljVXJsfWBcbiAgICApLFxuICAgIGBjb2xvcjoke2NvbG9ycy5zeXN0ZW19YCxcbiAgICBcImNvbG9yOmluaGVyaXRcIlxuICApO1xuICBjb25zb2xlLmxvZyhldmVudCk7XG4gIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cbmZ1bmN0aW9uIGxvZ0NsaWVudEVycm9yKGV2ZW50KSB7XG4gIGNvbnN0IHNvY2tldCA9IGV2ZW50LnRhcmdldDtcbiAgY29uc3QgcHVibGljVXJsID0gdG9QdWJsaWNVcmwoc29ja2V0LnVybCk7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgIGAke2dldFRpbWVzdGFtcCh7IG1pbGxpc2Vjb25kczogdHJ1ZSB9KX0gJWNcXHhENyVjICR7cHVibGljVXJsfWBcbiAgICApLFxuICAgIGBjb2xvcjoke2NvbG9ycy5zeXN0ZW19YCxcbiAgICBcImNvbG9yOmluaGVyaXRcIlxuICApO1xuICBjb25zb2xlLmxvZyhldmVudCk7XG4gIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvZ091dGdvaW5nQ2xpZW50TWVzc2FnZShldmVudCkge1xuICBjb25zdCBieXRlTGVuZ3RoID0gZ2V0TWVzc2FnZUxlbmd0aChldmVudC5kYXRhKTtcbiAgY29uc3QgcHVibGljRGF0YSA9IGF3YWl0IGdldFB1YmxpY0RhdGEoZXZlbnQuZGF0YSk7XG4gIGNvbnN0IGFycm93ID0gZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA/IFwiXFx1MjFFMVwiIDogXCJcXHUyQjA2XCI7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgIGAke2dldFRpbWVzdGFtcCh7IG1pbGxpc2Vjb25kczogdHJ1ZSB9KX0gJWMke2Fycm93fSVjICR7cHVibGljRGF0YX0gJWMke2J5dGVMZW5ndGh9JWNgXG4gICAgKSxcbiAgICBgY29sb3I6JHtjb2xvcnMub3V0Z29pbmd9YCxcbiAgICBcImNvbG9yOmluaGVyaXRcIixcbiAgICBcImNvbG9yOmdyYXk7Zm9udC13ZWlnaHQ6bm9ybWFsXCIsXG4gICAgXCJjb2xvcjppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXRcIlxuICApO1xuICBjb25zb2xlLmxvZyhldmVudCk7XG4gIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvZ091dGdvaW5nTW9ja2VkQ2xpZW50TWVzc2FnZShldmVudCkge1xuICBjb25zdCBieXRlTGVuZ3RoID0gZ2V0TWVzc2FnZUxlbmd0aChldmVudC5kYXRhKTtcbiAgY29uc3QgcHVibGljRGF0YSA9IGF3YWl0IGdldFB1YmxpY0RhdGEoZXZlbnQuZGF0YSk7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgIGAke2dldFRpbWVzdGFtcCh7IG1pbGxpc2Vjb25kczogdHJ1ZSB9KX0gJWNcXHUyQjA2JWMgJHtwdWJsaWNEYXRhfSAlYyR7Ynl0ZUxlbmd0aH0lY2BcbiAgICApLFxuICAgIGBjb2xvcjoke2NvbG9ycy5tb2NrZWR9YCxcbiAgICBcImNvbG9yOmluaGVyaXRcIixcbiAgICBcImNvbG9yOmdyYXk7Zm9udC13ZWlnaHQ6bm9ybWFsXCIsXG4gICAgXCJjb2xvcjppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXRcIlxuICApO1xuICBjb25zb2xlLmxvZyhldmVudCk7XG4gIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvZ0luY29taW5nTW9ja2VkQ2xpZW50TWVzc2FnZShldmVudCkge1xuICBjb25zdCBieXRlTGVuZ3RoID0gZ2V0TWVzc2FnZUxlbmd0aChldmVudC5kYXRhKTtcbiAgY29uc3QgcHVibGljRGF0YSA9IGF3YWl0IGdldFB1YmxpY0RhdGEoZXZlbnQuZGF0YSk7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgIGAke2dldFRpbWVzdGFtcCh7IG1pbGxpc2Vjb25kczogdHJ1ZSB9KX0gJWNcXHUyQjA3JWMgJHtwdWJsaWNEYXRhfSAlYyR7Ynl0ZUxlbmd0aH0lY2BcbiAgICApLFxuICAgIGBjb2xvcjoke2NvbG9ycy5tb2NrZWR9YCxcbiAgICBcImNvbG9yOmluaGVyaXRcIixcbiAgICBcImNvbG9yOmdyYXk7Zm9udC13ZWlnaHQ6bm9ybWFsXCIsXG4gICAgXCJjb2xvcjppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXRcIlxuICApO1xuICBjb25zb2xlLmxvZyhldmVudCk7XG4gIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvZ0luY29taW5nU2VydmVyTWVzc2FnZShldmVudCkge1xuICBjb25zdCBieXRlTGVuZ3RoID0gZ2V0TWVzc2FnZUxlbmd0aChldmVudC5kYXRhKTtcbiAgY29uc3QgcHVibGljRGF0YSA9IGF3YWl0IGdldFB1YmxpY0RhdGEoZXZlbnQuZGF0YSk7XG4gIGNvbnN0IGFycm93ID0gZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA/IFwiXFx1MjFFM1wiIDogXCJcXHUyQjA3XCI7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgZGV2VXRpbHMuZm9ybWF0TWVzc2FnZShcbiAgICAgIGAke2dldFRpbWVzdGFtcCh7IG1pbGxpc2Vjb25kczogdHJ1ZSB9KX0gJWMke2Fycm93fSVjICR7cHVibGljRGF0YX0gJWMke2J5dGVMZW5ndGh9JWNgXG4gICAgKSxcbiAgICBgY29sb3I6JHtjb2xvcnMuaW5jb21pbmd9YCxcbiAgICBcImNvbG9yOmluaGVyaXRcIixcbiAgICBcImNvbG9yOmdyYXk7Zm9udC13ZWlnaHQ6bm9ybWFsXCIsXG4gICAgXCJjb2xvcjppbmhlcml0O2ZvbnQtd2VpZ2h0OmluaGVyaXRcIlxuICApO1xuICBjb25zb2xlLmxvZyhldmVudCk7XG4gIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbn1cbmV4cG9ydCB7XG4gIGF0dGFjaFdlYlNvY2tldExvZ2dlcixcbiAgbG9nQ29ubmVjdGlvbk9wZW5cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdHRhY2hXZWJTb2NrZXRMb2dnZXIubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/attachWebSocketLogger.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/getMessageLength.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!*****************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/ws/utils/getMessageLength.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \*****************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMessageLength: () =&gt; (/* binding */ getMessageLength)\n/* harmony export */ });\nfunction getMessageLength(data) {\n  if (data instanceof Blob) {\n    return data.size;\n  }\n  if (data instanceof ArrayBuffer) {\n    return data.byteLength;\n  }\n  return new Blob([data]).size;\n}\n\n//# sourceMappingURL=getMessageLength.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3MvdXRpbHMvZ2V0TWVzc2FnZUxlbmd0aC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWN0b3J6ZWEvZGV2L2Zyb250YnVpbGQvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL21zdy9saWIvY29yZS93cy91dGlscy9nZXRNZXNzYWdlTGVuZ3RoLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXRNZXNzYWdlTGVuZ3RoKGRhdGEpIHtcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgcmV0dXJuIGRhdGEuc2l6ZTtcbiAgfVxuICBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGRhdGEuYnl0ZUxlbmd0aDtcbiAgfVxuICByZXR1cm4gbmV3IEJsb2IoW2RhdGFdKS5zaXplO1xufVxuZXhwb3J0IHtcbiAgZ2V0TWVzc2FnZUxlbmd0aFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldE1lc3NhZ2VMZW5ndGgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/getMessageLength.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/getPublicData.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!**************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/ws/utils/getPublicData.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \**************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPublicData: () =&gt; (/* binding */ getPublicData)\n/* harmony export */ });\n/* harmony import */ var _truncateMessage_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./truncateMessage.mjs */ \"(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/truncateMessage.mjs\");\n\nasync function getPublicData(data) {\n  if (data instanceof Blob) {\n    const text = await data.text();\n    return `Blob(${(0,_truncateMessage_mjs__WEBPACK_IMPORTED_MODULE_0__.truncateMessage)(text)})`;\n  }\n  if (typeof data === \"object\" &amp;&amp; \"byteLength\" in data) {\n    const text = new TextDecoder().decode(data);\n    return `ArrayBuffer(${(0,_truncateMessage_mjs__WEBPACK_IMPORTED_MODULE_0__.truncateMessage)(text)})`;\n  }\n  return (0,_truncateMessage_mjs__WEBPACK_IMPORTED_MODULE_0__.truncateMessage)(data);\n}\n\n//# sourceMappingURL=getPublicData.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3MvdXRpbHMvZ2V0UHVibGljRGF0YS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHFFQUFlLE9BQU87QUFDekM7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHFFQUFlLE9BQU87QUFDaEQ7QUFDQSxTQUFTLHFFQUFlO0FBQ3hCO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hlY3RvcnplYS9kZXYvZnJvbnRidWlsZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3V0aWxzL2dldFB1YmxpY0RhdGEubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRydW5jYXRlTWVzc2FnZSB9IGZyb20gJy4vdHJ1bmNhdGVNZXNzYWdlLm1qcyc7XG5hc3luYyBmdW5jdGlvbiBnZXRQdWJsaWNEYXRhKGRhdGEpIHtcbiAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IGRhdGEudGV4dCgpO1xuICAgIHJldHVybiBgQmxvYigke3RydW5jYXRlTWVzc2FnZSh0ZXh0KX0pYDtcbiAgfVxuICBpZiAodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgXCJieXRlTGVuZ3RoXCIgaW4gZGF0YSkge1xuICAgIGNvbnN0IHRleHQgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoZGF0YSk7XG4gICAgcmV0dXJuIGBBcnJheUJ1ZmZlcigke3RydW5jYXRlTWVzc2FnZSh0ZXh0KX0pYDtcbiAgfVxuICByZXR1cm4gdHJ1bmNhdGVNZXNzYWdlKGRhdGEpO1xufVxuZXhwb3J0IHtcbiAgZ2V0UHVibGljRGF0YVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFB1YmxpY0RhdGEubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/getPublicData.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/truncateMessage.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!****************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/ws/utils/truncateMessage.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \****************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   truncateMessage: () =&gt; (/* binding */ truncateMessage)\n/* harmony export */ });\nconst MAX_LENGTH = 24;\nfunction truncateMessage(message) {\n  if (message.length &lt;= MAX_LENGTH) {\n    return message;\n  }\n  return `${message.slice(0, MAX_LENGTH)}\\u2026`;\n}\n\n//# sourceMappingURL=truncateMessage.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3MvdXRpbHMvdHJ1bmNhdGVNZXNzYWdlLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkJBQTZCO0FBQ3pDO0FBR0U7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hlY3RvcnplYS9kZXYvZnJvbnRidWlsZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3V0aWxzL3RydW5jYXRlTWVzc2FnZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgTUFYX0xFTkdUSCA9IDI0O1xuZnVuY3Rpb24gdHJ1bmNhdGVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgaWYgKG1lc3NhZ2UubGVuZ3RoIDw9IE1BWF9MRU5HVEgpIHtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxuICByZXR1cm4gYCR7bWVzc2FnZS5zbGljZSgwLCBNQVhfTEVOR1RIKX1cXHUyMDI2YDtcbn1cbmV4cG9ydCB7XG4gIHRydW5jYXRlTWVzc2FnZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRydW5jYXRlTWVzc2FnZS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/ws/utils/truncateMessage.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ }),</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ "(app-pages-browser)/./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs":</span>
<span class="cstat-no" title="statement not covered" >/*!***************************************************************!*\</span>
<span class="cstat-no" title="statement not covered" >  !*** ./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs ***!</span>
<span class="cstat-no" title="statement not covered" >  \***************************************************************/</span>
<span class="cstat-no" title="statement not covered" >/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) =&gt; {</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   webSocketInterceptor: () =&gt; (/* binding */ webSocketInterceptor)\n/* harmony export */ });\n/* harmony import */ var _mswjs_interceptors_WebSocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mswjs/interceptors/WebSocket */ \"(app-pages-browser)/./node_modules/@mswjs/interceptors/lib/browser/interceptors/WebSocket/index.mjs\");\n\nconst webSocketInterceptor = new _mswjs_interceptors_WebSocket__WEBPACK_IMPORTED_MODULE_0__.WebSocketInterceptor();\n\n//# sourceMappingURL=webSocketInterceptor.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tc3cvbGliL2NvcmUvd3Mvd2ViU29ja2V0SW50ZXJjZXB0b3IubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFFO0FBQ3JFLGlDQUFpQywrRUFBb0I7QUFHbkQ7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL2hlY3RvcnplYS9kZXYvZnJvbnRidWlsZC9mcm9udGVuZC9ub2RlX21vZHVsZXMvbXN3L2xpYi9jb3JlL3dzL3dlYlNvY2tldEludGVyY2VwdG9yLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXZWJTb2NrZXRJbnRlcmNlcHRvciB9IGZyb20gXCJAbXN3anMvaW50ZXJjZXB0b3JzL1dlYlNvY2tldFwiO1xuY29uc3Qgd2ViU29ja2V0SW50ZXJjZXB0b3IgPSBuZXcgV2ViU29ja2V0SW50ZXJjZXB0b3IoKTtcbmV4cG9ydCB7XG4gIHdlYlNvY2tldEludGVyY2VwdG9yXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViU29ja2V0SW50ZXJjZXB0b3IubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/msw/lib/core/ws/webSocketInterceptor.mjs\n"));</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >/***/ })</span>
<span class="cstat-no" title="statement not covered" ></span>
<span class="cstat-no" title="statement not covered" >}]);</span></pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-04-10T13:22:34.221Z
            </div>
        <script src="../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../sorter.js"></script>
        <script src="../../../../block-navigation.js"></script>
    </body>
</html>
    